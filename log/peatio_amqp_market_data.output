peatio:amqp:market_data: process with pid 16882 started.
/home/yuva/.rvm/gems/ruby-2.1.1/gems/amq-protocol-1.9.2/lib/amq/protocol/frame.rb:64:in `decode_header': Must be one of [:method, :headers, :body, :heartbeat] (AMQ::Protocol::FrameTypeError)
	from /home/yuva/.rvm/gems/ruby-2.1.1/gems/bunny-1.2.1/lib/bunny/transport.rb:208:in `read_next_frame'
	from /home/yuva/.rvm/gems/ruby-2.1.1/gems/bunny-1.2.1/lib/bunny/session.rb:923:in `init_connection'
	from /home/yuva/.rvm/gems/ruby-2.1.1/gems/bunny-1.2.1/lib/bunny/session.rb:254:in `start'
	from /home/yuva/Desktop/arvind/peatio/peatio-master/lib/daemons/amqp_daemon.rb:17:in `<top (required)>'
	from /home/yuva/.rvm/gems/ruby-2.1.1/gems/daemons-1.1.9/lib/daemons/application.rb:203:in `load'
	from /home/yuva/.rvm/gems/ruby-2.1.1/gems/daemons-1.1.9/lib/daemons/application.rb:203:in `start_load'
	from /home/yuva/.rvm/gems/ruby-2.1.1/gems/daemons-1.1.9/lib/daemons/application.rb:298:in `start'
	from /home/yuva/.rvm/gems/ruby-2.1.1/gems/daemons-1.1.9/lib/daemons/controller.rb:70:in `run'
	from /home/yuva/.rvm/gems/ruby-2.1.1/gems/daemons-1.1.9/lib/daemons.rb:147:in `block in run'
	from /home/yuva/.rvm/gems/ruby-2.1.1/gems/daemons-1.1.9/lib/daemons/cmdline.rb:109:in `call'
	from /home/yuva/.rvm/gems/ruby-2.1.1/gems/daemons-1.1.9/lib/daemons/cmdline.rb:109:in `catch_exceptions'
	from /home/yuva/.rvm/gems/ruby-2.1.1/gems/daemons-1.1.9/lib/daemons.rb:146:in `run'
	from /home/yuva/.rvm/gems/ruby-2.1.1/gems/daemons-rails-1.2.1/lib/daemons/rails.rb:16:in `run'
	from lib/daemons/market_data_ctl:11:in `<main>'
peatio:amqp:market_data: process with pid 22242 started.
peatio:amqp:market_data: process with pid 3425 started.
I, [2014-07-10T18:12:12.684685 #3425]  INFO -- : Connected to AMQP broker (prefetch: default)
/home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-3.0.7/lib/redis/client.rb:97:in `call': ERR unknown command 'setex' (Redis::CommandError)
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-3.0.7/lib/redis.rb:691:in `block in setex'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-3.0.7/lib/redis.rb:37:in `block in synchronize'
	from /home/yuva/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/monitor.rb:211:in `mon_synchronize'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-3.0.7/lib/redis.rb:37:in `synchronize'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-3.0.7/lib/redis.rb:690:in `setex'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/interface.rb:17:in `setex'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/marshalling.rb:13:in `block in setex'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/marshalling.rb:29:in `_marshal'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/marshalling.rb:13:in `setex'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/ttl.rb:6:in `set'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/marshalling.rb:5:in `block in set'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/marshalling.rb:29:in `_marshal'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/marshalling.rb:5:in `set'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-activesupport-4.0.0/lib/active_support/cache/redis_store.rb:163:in `write_entry'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-activesupport-4.0.0/lib/active_support/cache/redis_store.rb:36:in `block in write'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.2/lib/active_support/cache.rb:519:in `instrument'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-activesupport-4.0.0/lib/active_support/cache/redis_store.rb:34:in `write'
	from /home/yuva/Desktop/arvind/peatio/peatio-master/app/models/worker/market_ticker.rb:40:in `initialize_market_data'
	from /home/yuva/Desktop/arvind/peatio/peatio-master/app/models/worker/market_ticker.rb:11:in `block in initialize'
	from /home/yuva/Desktop/arvind/peatio/peatio-master/app/models/worker/market_ticker.rb:10:in `each'
	from /home/yuva/Desktop/arvind/peatio/peatio-master/app/models/worker/market_ticker.rb:10:in `initialize'
	from /home/yuva/Desktop/arvind/peatio/peatio-master/app/models/amqp_config.rb:25:in `new'
	from /home/yuva/Desktop/arvind/peatio/peatio-master/app/models/amqp_config.rb:25:in `binding_worker'
	from /home/yuva/Desktop/arvind/peatio/peatio-master/lib/daemons/amqp_daemon.rb:36:in `block in <top (required)>'
	from /home/yuva/Desktop/arvind/peatio/peatio-master/lib/daemons/amqp_daemon.rb:35:in `each'
	from /home/yuva/Desktop/arvind/peatio/peatio-master/lib/daemons/amqp_daemon.rb:35:in `<top (required)>'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/daemons-1.1.9/lib/daemons/application.rb:203:in `load'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/daemons-1.1.9/lib/daemons/application.rb:203:in `start_load'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/daemons-1.1.9/lib/daemons/application.rb:298:in `start'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/daemons-1.1.9/lib/daemons/controller.rb:70:in `run'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/daemons-1.1.9/lib/daemons.rb:147:in `block in run'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/daemons-1.1.9/lib/daemons/cmdline.rb:109:in `call'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/daemons-1.1.9/lib/daemons/cmdline.rb:109:in `catch_exceptions'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/daemons-1.1.9/lib/daemons.rb:146:in `run'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/daemons-rails-1.2.1/lib/daemons/rails.rb:16:in `run'
	from lib/daemons/market_data_ctl:11:in `<main>'
peatio:amqp:market_data: process with pid 25338 started.
I, [2014-07-14T17:39:51.919169 #25338]  INFO -- : Connected to AMQP broker (prefetch: default)
I, [2014-07-14T17:39:52.381703 #25338]  INFO -- : Received: {"action":"new","market":"btccny","side":"ask"}
I, [2014-07-14T17:39:52.423664 #25338]  INFO -- : Received: {"action":"new","market":"btccny","side":"bid"}
E, [2014-07-14T17:39:57.118518 #25338] ERROR -- : Failed to cache book: ERR unknown command 'setex'
E, [2014-07-14T17:39:57.133227 #25338] ERROR -- : /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-3.0.7/lib/redis/client.rb:97:in `call'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-3.0.7/lib/redis.rb:691:in `block in setex'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-3.0.7/lib/redis.rb:37:in `block in synchronize'
/home/yuva/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/monitor.rb:211:in `mon_synchronize'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-3.0.7/lib/redis.rb:37:in `synchronize'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-3.0.7/lib/redis.rb:690:in `setex'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/interface.rb:17:in `setex'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/marshalling.rb:13:in `block in setex'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/marshalling.rb:29:in `_marshal'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/marshalling.rb:13:in `setex'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/ttl.rb:6:in `set'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/marshalling.rb:5:in `block in set'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/marshalling.rb:29:in `_marshal'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/marshalling.rb:5:in `set'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-activesupport-4.0.0/lib/active_support/cache/redis_store.rb:163:in `write_entry'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-activesupport-4.0.0/lib/active_support/cache/redis_store.rb:36:in `block in write'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.2/lib/active_support/cache.rb:519:in `instrument'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-activesupport-4.0.0/lib/active_support/cache/redis_store.rb:34:in `write'
/home/yuva/Desktop/arvind/peatio/peatio-master/app/models/worker/slave_book.rb:40:in `block in cache_book'
/home/yuva/Desktop/arvind/peatio/peatio-master/app/models/worker/slave_book.rb:39:in `each'
/home/yuva/Desktop/arvind/peatio/peatio-master/app/models/worker/slave_book.rb:39:in `cache_book'
/home/yuva/Desktop/arvind/peatio/peatio-master/app/models/worker/slave_book.rb:11:in `block (2 levels) in initialize'
/home/yuva/Desktop/arvind/peatio/peatio-master/app/models/worker/slave_book.rb:9:in `loop'
/home/yuva/Desktop/arvind/peatio/peatio-master/app/models/worker/slave_book.rb:9:in `block in initialize'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-3.0.7/lib/redis/client.rb:97:in `call': ERR unknown command 'setex' (Redis::CommandError)
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-3.0.7/lib/redis.rb:691:in `block in setex'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-3.0.7/lib/redis.rb:37:in `block in synchronize'
	from /home/yuva/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/monitor.rb:211:in `mon_synchronize'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-3.0.7/lib/redis.rb:37:in `synchronize'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-3.0.7/lib/redis.rb:690:in `setex'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/interface.rb:17:in `setex'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/marshalling.rb:13:in `block in setex'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/marshalling.rb:29:in `_marshal'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/marshalling.rb:13:in `setex'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/ttl.rb:6:in `set'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/marshalling.rb:5:in `block in set'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/marshalling.rb:29:in `_marshal'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-store-1.1.4/lib/redis/store/marshalling.rb:5:in `set'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-activesupport-4.0.0/lib/active_support/cache/redis_store.rb:163:in `write_entry'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-activesupport-4.0.0/lib/active_support/cache/redis_store.rb:36:in `block in write'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.2/lib/active_support/cache.rb:519:in `instrument'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/redis-activesupport-4.0.0/lib/active_support/cache/redis_store.rb:34:in `write'
	from /home/yuva/Desktop/arvind/peatio/peatio-master/app/models/worker/market_ticker.rb:40:in `initialize_market_data'
	from /home/yuva/Desktop/arvind/peatio/peatio-master/app/models/worker/market_ticker.rb:11:in `block in initialize'
	from /home/yuva/Desktop/arvind/peatio/peatio-master/app/models/worker/market_ticker.rb:10:in `each'
	from /home/yuva/Desktop/arvind/peatio/peatio-master/app/models/worker/market_ticker.rb:10:in `initialize'
	from /home/yuva/Desktop/arvind/peatio/peatio-master/app/models/amqp_config.rb:25:in `new'
	from /home/yuva/Desktop/arvind/peatio/peatio-master/app/models/amqp_config.rb:25:in `binding_worker'
	from /home/yuva/Desktop/arvind/peatio/peatio-master/lib/daemons/amqp_daemon.rb:36:in `block in <top (required)>'
	from /home/yuva/Desktop/arvind/peatio/peatio-master/lib/daemons/amqp_daemon.rb:35:in `each'
	from /home/yuva/Desktop/arvind/peatio/peatio-master/lib/daemons/amqp_daemon.rb:35:in `<top (required)>'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/daemons-1.1.9/lib/daemons/application.rb:203:in `load'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/daemons-1.1.9/lib/daemons/application.rb:203:in `start_load'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/daemons-1.1.9/lib/daemons/application.rb:298:in `start'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/daemons-1.1.9/lib/daemons/controller.rb:70:in `run'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/daemons-1.1.9/lib/daemons.rb:147:in `block in run'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/daemons-1.1.9/lib/daemons/cmdline.rb:109:in `call'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/daemons-1.1.9/lib/daemons/cmdline.rb:109:in `catch_exceptions'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/daemons-1.1.9/lib/daemons.rb:146:in `run'
	from /home/yuva/.rvm/gems/ruby-2.1.2/gems/daemons-rails-1.2.1/lib/daemons/rails.rb:16:in `run'
	from lib/daemons/market_data_ctl:11:in `<main>'
