

Started GET "/settings" for 127.0.0.1 at 2014-07-18 18:46:12 +0530
  [1m[36mActiveRecord::SchemaMigration Load (101.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Private::SettingsController#index as HTML
  [1m[35mMember Load (94.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 8 LIMIT 1
  [1m[36m (27.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:46:13')[0m
  [1m[35mTwoFactor Load (1.0ms)[0m  SELECT `two_factors`.* FROM `two_factors` WHERE `two_factors`.`member_id` = 8 AND `two_factors`.`type` = 'TwoFactor::App' LIMIT 1
  [1m[36mIdDocument Load (22.9ms)[0m  [1mSELECT `id_documents`.* FROM `id_documents` WHERE `id_documents`.`member_id` = 8 LIMIT 1[0m
  [1m[35mAccount Load (36.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 8
  Rendered private/settings/_account_balance.html.slim (62.6ms)
  [1m[36mAuthentication Load (38.5ms)[0m  [1mSELECT `authentications`.* FROM `authentications` WHERE `authentications`.`member_id` = 8 AND `authentications`.`provider` = 'identity' LIMIT 1[0m
  [1m[35mIdentity Load (28.5ms)[0m  SELECT `identities`.* FROM `identities` WHERE `identities`.`id` = 8 LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (19.3ms)[0m  [1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 8 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)[0m
  Rendered private/settings/index.html.slim within layouts/frame (308.8ms)
  Rendered shared/_flash.slim (6.8ms)
  Rendered shared/_html5.html.slim (49.4ms)
  Rendered shared/_meta.html.slim (4.4ms)
  Rendered shared/_browser.html.slim (2.8ms)
  Rendered shared/_pusher.html.slim (3.0ms)
  Rendered shared/_menu.html.slim (36.3ms)
  Rendered shared/_header.html.slim (111.6ms)
  Rendered shared/_footer.html.slim (450.7ms)
  Rendered layouts/application.html.slim (5454.6ms)
Completed 200 OK in 6214ms (Views: 5719.2ms | ActiveRecord: 344.0ms)


Started GET "/signout" for 127.0.0.1 at 2014-07-18 18:46:22 +0530
Processing by SessionsController#destroy as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 8 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:46:22')[0m
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2014-07-18 18:46:22 +0530
Processing by WelcomeController#index as HTML
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:46:22')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  Rendered welcome/index.html.slim within layouts/landing (10.3ms)
  Rendered shared/_html5.html.slim (0.9ms)
  Rendered shared/_meta.html.slim (0.5ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_footer.html.slim (0.0ms)
Completed 200 OK in 148ms (Views: 73.5ms | ActiveRecord: 0.9ms)


Started GET "/signup" for 127.0.0.1 at 2014-07-18 18:46:24 +0530
Processing by IdentitiesController#new as HTML
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:46:24')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  Rendered identities/new.html.slim within layouts/frame (98.4ms)
  Rendered shared/_flash.slim (1.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  Rendered shared/_menu.html.slim (6.7ms)
  Rendered shared/_header.html.slim (8.8ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (28.8ms)
Completed 200 OK in 172ms (Views: 155.2ms | ActiveRecord: 0.7ms)


Started POST "/auth/identity/register" for 127.0.0.1 at 2014-07-18 18:46:42 +0530
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mIdentity Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `identities` WHERE `identities`.`email` = BINARY 'arvinda@mailinator.com' LIMIT 1[0m
  [1m[35mSQL (190.1ms)[0m  INSERT INTO `identities` (`created_at`, `email`, `password_digest`, `updated_at`) VALUES ('2014-07-18 18:46:43', 'arvinda@mailinator.com', '$2a$10$KBNjLM11yWAaUtIrhks94.P6RBA..UNYGt8224.WjJHe.42g1QcOq', '2014-07-18 18:46:43')
  [1m[36m (62.9ms)[0m  [1mCOMMIT[0m
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"kG5qMGbSgrxzxuD6bj6/1oG/SoVdpjfIa4+0YIqccSk=", "token"=>"", "email"=>"arvinda@mailinator.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "commit"=>"Sign Up"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:46:43')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35mAuthentication Load (0.5ms)[0m  SELECT `authentications`.* FROM `authentications` WHERE `authentications`.`provider` = 'identity' AND `authentications`.`uid` = '15' LIMIT 1
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`email` = 'arvinda@mailinator.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `members` WHERE `members`.`sn` = 'PEAVDOEYENMTIO'[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `members` (`activated`, `created_at`, `email`, `sn`, `updated_at`) VALUES (0, '2014-07-18 18:46:43', 'arvinda@mailinator.com', 'PEAVDOEYENMTIO', '2014-07-18 18:46:43')
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 15[0m
  [1m[35mAccount Exists (0.5ms)[0m  SELECT 1 AS one FROM `accounts` WHERE (`accounts`.`member_id` = BINARY 15 AND `accounts`.`currency` = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `created_at`, `currency`, `locked`, `member_id`, `updated_at`) VALUES (0.0, '2014-07-18 18:46:43', 1, 0.0, 15, '2014-07-18 18:46:43')[0m
  [1m[35mAccount Exists (0.7ms)[0m  SELECT 1 AS one FROM `accounts` WHERE (`accounts`.`member_id` = BINARY 15 AND `accounts`.`currency` = 2) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `created_at`, `currency`, `locked`, `member_id`, `updated_at`) VALUES (0.0, '2014-07-18 18:46:43', 2, 0.0, 15, '2014-07-18 18:46:43')[0m
  [1m[35m (60.9ms)[0m  COMMIT
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 15 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 15 LIMIT 1  [["id", 15]]
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAuthentication Exists (0.5ms)[0m  SELECT 1 AS one FROM `authentications` WHERE (`authentications`.`provider` = BINARY 'identity' AND `authentications`.`member_id` = 15) LIMIT 1
  [1m[36mAuthentication Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `authentications` WHERE (`authentications`.`uid` = BINARY '15' AND `authentications`.`provider` = 'identity') LIMIT 1[0m
  [1m[35mSQL (14.7ms)[0m  INSERT INTO `authentications` (`created_at`, `member_id`, `provider`, `uid`, `updated_at`) VALUES ('2014-07-18 18:46:43', 15, 'identity', '15', '2014-07-18 18:46:43')
  [1m[36m (59.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mActivation Load (42.1ms)[0m  [1mSELECT `tokens`.* FROM `tokens` WHERE `tokens`.`type` IN ('Activation') AND (expire_at > '2014-07-18 18:46:43') AND (is_used = 0) AND (member_id = 15) ORDER BY created_at desc LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `tokens` SET `tokens`.`is_used` = 1 WHERE `tokens`.`type` IN ('Activation') AND (expire_at > '2014-07-18 18:46:43') AND (is_used = 0) AND (member_id = 15)
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `tokens` (`created_at`, `expire_at`, `is_used`, `member_id`, `token`, `type`, `updated_at`) VALUES ('2014-07-18 18:46:43', '2014-07-18 19:16:43', 0, 15, 'cb258fb3aaa13b18babbc4e2661d9979', 'Activation', '2014-07-18 18:46:43')[0m
  [1m[35m (43.3ms)[0m  COMMIT
Redirected to http://localhost:3000/verify/two_factor/new
Completed 302 Found in 19164ms (ActiveRecord: 229.5ms)


Started GET "/verify/two_factor/new" for 127.0.0.1 at 2014-07-18 18:47:02 +0530
Processing by Verify::TwoFactorsController#new as HTML
  [1m[36mMember Load (0.6ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:47:02')
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35mMember Load (0.7ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 15 LIMIT 1
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 15 LIMIT 1[0m
Redirected to http://localhost:3000/settings
Completed 302 Found in 76ms (ActiveRecord: 2.8ms)


Started GET "/settings" for 127.0.0.1 at 2014-07-18 18:47:02 +0530
Processing by Private::SettingsController#index as HTML
  [1m[35mMember Load (0.8ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 15 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:47:02')[0m
  [1m[35mTwoFactor Load (0.7ms)[0m  SELECT `two_factors`.* FROM `two_factors` WHERE `two_factors`.`member_id` = 15 AND `two_factors`.`type` = 'TwoFactor::App' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35mTwoFactor Exists (0.8ms)[0m  SELECT 1 AS one FROM `two_factors` WHERE (`two_factors`.`type` = BINARY 'TwoFactor::App' AND `two_factors`.`member_id` = 15) LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO `two_factors` (`member_id`, `type`) VALUES (15, 'TwoFactor::App')[0m
  [1m[35m (49.8ms)[0m  COMMIT
  [1m[36mIdDocument Load (0.6ms)[0m  [1mSELECT `id_documents`.* FROM `id_documents` WHERE `id_documents`.`member_id` = 15 LIMIT 1[0m
  [1m[35mAccount Load (0.9ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 15
  Rendered private/settings/_account_balance.html.slim (21.2ms)
  [1m[36mAuthentication Load (0.8ms)[0m  [1mSELECT `authentications`.* FROM `authentications` WHERE `authentications`.`member_id` = 15 AND `authentications`.`provider` = 'identity' LIMIT 1[0m
  [1m[35mIdentity Load (0.8ms)[0m  SELECT `identities`.* FROM `identities` WHERE `identities`.`id` = 15 LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 15 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)[0m
  Rendered private/settings/index.html.slim within layouts/frame (89.8ms)
  Rendered shared/_flash.slim (0.5ms)
  Rendered shared/_html5.html.slim (3.9ms)
  Rendered shared/_meta.html.slim (4.2ms)
  Rendered shared/_browser.html.slim (0.6ms)
  Rendered shared/_pusher.html.slim (1.6ms)
  Rendered shared/_menu.html.slim (20.5ms)
  Rendered shared/_header.html.slim (28.2ms)
  Rendered shared/_footer.html.slim (0.5ms)
  Rendered layouts/application.html.slim (117.1ms)
Completed 200 OK in 392ms (Views: 218.8ms | ActiveRecord: 59.2ms)


Started GET "/" for 127.0.0.1 at 2014-07-18 18:48:42 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 15 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:48:42')[0m
Redirected to http://localhost:3000/markets/btccny
Completed 302 Found in 53ms (ActiveRecord: 3.5ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 18:48:42 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 15 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:48:42')[0m
  [1m[35mTrade Load (18.9ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:48:42') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:48:42')[0m
  [1m[35mOrder Load (46.2ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 15 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (128.8ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 15 or bid_member_id = 15) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 15 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 15 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 15 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (7.0ms)
  Rendered private/markets/_account_balance.html.slim (5.6ms)
  Rendered private/markets/_price_chart.html.slim (2.6ms)
  Rendered private/markets/_place_order.html.slim (29.2ms)
  Rendered private/markets/_market_trades.html.slim (48.9ms)
  Rendered private/markets/_order_book.html.slim (3.0ms)
  Rendered private/markets/_my_orders.html.slim (8.4ms)
  Rendered private/markets/show.html.slim within layouts/market (131.1ms)
  Rendered shared/_footer_col24.html.slim (7.3ms)
  Rendered shared/_html5.html.slim (10.9ms)
  Rendered shared/_meta.html.slim (3.2ms)
  Rendered shared/_browser.html.slim (2.8ms)
  Rendered shared/_pusher.html.slim (3.1ms)
  Rendered shared/_menu.html.slim (11.1ms)
  Rendered shared/_header.html.slim (18.6ms)
  Rendered layouts/application.html.slim (1581.3ms)
Completed 200 OK in 2096ms (Views: 1733.5ms | ActiveRecord: 236.8ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-18 18:48:46 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 15 LIMIT 1[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:48:46') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  Rendered api/v1/prices/show.jbuilder (0.5ms)
Completed 200 OK in 106ms (Views: 97.6ms | ActiveRecord: 0.8ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-18 18:48:47 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38823.217195", "channel_name"=>"private-PEAVDOEYENMTIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 15 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:48:47')
Completed 200 OK in 12ms (Views: 0.3ms | ActiveRecord: 0.8ms)


Started GET "/signout" for 127.0.0.1 at 2014-07-18 18:48:52 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 15 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:48:52')
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2014-07-18 18:48:52 +0530
Processing by WelcomeController#index as HTML
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:48:52')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  Rendered welcome/index.html.slim within layouts/landing (10.0ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.5ms)
  Rendered shared/_browser.html.slim (0.2ms)
  Rendered shared/_footer.html.slim (7.3ms)
Completed 200 OK in 69ms (Views: 53.0ms | ActiveRecord: 1.2ms)


Started GET "/signup" for 127.0.0.1 at 2014-07-18 18:48:55 +0530
Processing by IdentitiesController#new as HTML
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:48:55')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  Rendered identities/new.html.slim within layouts/frame (22.9ms)
  Rendered shared/_flash.slim (5.4ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  Rendered shared/_menu.html.slim (6.7ms)
  Rendered shared/_header.html.slim (8.6ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (27.9ms)
Completed 200 OK in 91ms (Views: 65.5ms | ActiveRecord: 2.3ms)


Started POST "/auth/identity/register" for 127.0.0.1 at 2014-07-18 18:49:13 +0530
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mIdentity Exists (0.3ms)[0m  SELECT 1 AS one FROM `identities` WHERE `identities`.`email` = BINARY 'kiran1@mailinator.com' LIMIT 1
  [1m[36mSQL (18.1ms)[0m  [1mINSERT INTO `identities` (`created_at`, `email`, `password_digest`, `updated_at`) VALUES ('2014-07-18 18:49:13', 'kiran1@mailinator.com', '$2a$10$LTwDMLTjqOpCVzmdG5eRK.wzfWlFobdb22Js88Xeuz92bpnoOxk9C', '2014-07-18 18:49:13')[0m
  [1m[35m (37.6ms)[0m  COMMIT
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"D0G7H34hKEQ2uOUVLAkvLwVhHmya9AFIc8IvX7NNHRk=", "token"=>"", "email"=>"kiran1@mailinator.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "commit"=>"Sign Up"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:49:13')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36mAuthentication Load (0.4ms)[0m  [1mSELECT `authentications`.* FROM `authentications` WHERE `authentications`.`provider` = 'identity' AND `authentications`.`uid` = '16' LIMIT 1[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`email` = 'kiran1@mailinator.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (19.4ms)[0m  SELECT COUNT(*) FROM `members` WHERE `members`.`sn` = 'PEANCPC4WY5TIO'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `members` (`activated`, `created_at`, `email`, `sn`, `updated_at`) VALUES (0, '2014-07-18 18:49:13', 'kiran1@mailinator.com', 'PEANCPC4WY5TIO', '2014-07-18 18:49:13')[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 16
  [1m[36mAccount Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `accounts` WHERE (`accounts`.`member_id` = BINARY 16 AND `accounts`.`currency` = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `created_at`, `currency`, `locked`, `member_id`, `updated_at`) VALUES (0.0, '2014-07-18 18:49:13', 1, 0.0, 16, '2014-07-18 18:49:13')
  [1m[36mAccount Exists (0.9ms)[0m  [1mSELECT 1 AS one FROM `accounts` WHERE (`accounts`.`member_id` = BINARY 16 AND `accounts`.`currency` = 2) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `created_at`, `currency`, `locked`, `member_id`, `updated_at`) VALUES (0.0, '2014-07-18 18:49:13', 2, 0.0, 16, '2014-07-18 18:49:13')
  [1m[36m (74.4ms)[0m  [1mCOMMIT[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 16 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 16 LIMIT 1[0m  [["id", 16]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mAuthentication Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `authentications` WHERE (`authentications`.`provider` = BINARY 'identity' AND `authentications`.`member_id` = 16) LIMIT 1[0m
  [1m[35mAuthentication Exists (0.5ms)[0m  SELECT 1 AS one FROM `authentications` WHERE (`authentications`.`uid` = BINARY '16' AND `authentications`.`provider` = 'identity') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `authentications` (`created_at`, `member_id`, `provider`, `uid`, `updated_at`) VALUES ('2014-07-18 18:49:14', 16, 'identity', '16', '2014-07-18 18:49:14')[0m
  [1m[35m (50.0ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mActivation Load (0.4ms)[0m  SELECT `tokens`.* FROM `tokens` WHERE `tokens`.`type` IN ('Activation') AND (expire_at > '2014-07-18 18:49:14') AND (is_used = 0) AND (member_id = 16) ORDER BY created_at desc LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `tokens` SET `tokens`.`is_used` = 1 WHERE `tokens`.`type` IN ('Activation') AND (expire_at > '2014-07-18 18:49:14') AND (is_used = 0) AND (member_id = 16)[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `tokens` (`created_at`, `expire_at`, `is_used`, `member_id`, `token`, `type`, `updated_at`) VALUES ('2014-07-18 18:49:14', '2014-07-18 19:19:14', 0, 16, '4db72ea68e3468e542b7f02cea63e1bc', 'Activation', '2014-07-18 18:49:14')
  [1m[36m (40.4ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/verify/two_factor/new
Completed 302 Found in 385ms (ActiveRecord: 194.9ms)


Started GET "/verify/two_factor/new" for 127.0.0.1 at 2014-07-18 18:49:14 +0530
Processing by Verify::TwoFactorsController#new as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:49:14')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 16 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 16 LIMIT 1
Redirected to http://localhost:3000/settings
Completed 302 Found in 27ms (ActiveRecord: 1.4ms)


Started GET "/settings" for 127.0.0.1 at 2014-07-18 18:49:14 +0530
Processing by Private::SettingsController#index as HTML
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 16 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:49:14')
  [1m[36mTwoFactor Load (0.7ms)[0m  [1mSELECT `two_factors`.* FROM `two_factors` WHERE `two_factors`.`member_id` = 16 AND `two_factors`.`type` = 'TwoFactor::App' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mTwoFactor Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `two_factors` WHERE (`two_factors`.`type` = BINARY 'TwoFactor::App' AND `two_factors`.`member_id` = 16) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `two_factors` (`member_id`, `type`) VALUES (16, 'TwoFactor::App')
  [1m[36m (64.4ms)[0m  [1mCOMMIT[0m
  [1m[35mIdDocument Load (0.3ms)[0m  SELECT `id_documents`.* FROM `id_documents` WHERE `id_documents`.`member_id` = 16 LIMIT 1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 16[0m
  Rendered private/settings/_account_balance.html.slim (11.5ms)
  [1m[35mAuthentication Load (0.5ms)[0m  SELECT `authentications`.* FROM `authentications` WHERE `authentications`.`member_id` = 16 AND `authentications`.`provider` = 'identity' LIMIT 1
  [1m[36mIdentity Load (0.4ms)[0m  [1mSELECT `identities`.* FROM `identities` WHERE `identities`.`id` = 16 LIMIT 1[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 16 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)
  Rendered private/settings/index.html.slim within layouts/frame (72.1ms)
  Rendered shared/_flash.slim (0.3ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.0ms)
  Rendered shared/_header.html.slim (4.7ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (25.9ms)
Completed 200 OK in 229ms (Views: 98.5ms | ActiveRecord: 73.8ms)


Started GET "/settings" for 127.0.0.1 at 2014-07-18 18:53:40 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Private::SettingsController#index as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 16 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:53:40')[0m
  [1m[35mTwoFactor Load (0.5ms)[0m  SELECT `two_factors`.* FROM `two_factors` WHERE `two_factors`.`member_id` = 16 AND `two_factors`.`type` = 'TwoFactor::App' LIMIT 1
  [1m[36mIdDocument Load (0.4ms)[0m  [1mSELECT `id_documents`.* FROM `id_documents` WHERE `id_documents`.`member_id` = 16 LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 16
  Rendered private/settings/_account_balance.html.slim (21.8ms)
  [1m[36mAuthentication Load (0.4ms)[0m  [1mSELECT `authentications`.* FROM `authentications` WHERE `authentications`.`member_id` = 16 AND `authentications`.`provider` = 'identity' LIMIT 1[0m
  [1m[35mIdentity Load (0.4ms)[0m  SELECT `identities`.* FROM `identities` WHERE `identities`.`id` = 16 LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 16 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)[0m
  Rendered private/settings/index.html.slim within layouts/frame (130.5ms)
  Rendered shared/_flash.slim (5.1ms)
  Rendered shared/_html5.html.slim (10.5ms)
  Rendered shared/_meta.html.slim (3.3ms)
  Rendered shared/_browser.html.slim (2.9ms)
  Rendered shared/_pusher.html.slim (2.9ms)
  Rendered shared/_menu.html.slim (13.9ms)
  Rendered shared/_header.html.slim (21.2ms)
  Rendered shared/_footer.html.slim (7.2ms)
  Rendered layouts/application.html.slim (283.6ms)
Completed 200 OK in 540ms (Views: 428.2ms | ActiveRecord: 15.0ms)


Started GET "/signout" for 127.0.0.1 at 2014-07-18 18:53:43 +0530
Processing by SessionsController#destroy as HTML
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 16 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:53:43')[0m
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2014-07-18 18:53:43 +0530
Processing by WelcomeController#index as HTML
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:53:43')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  Rendered welcome/index.html.slim within layouts/landing (10.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_footer.html.slim (0.1ms)
Completed 200 OK in 52ms (Views: 35.3ms | ActiveRecord: 0.8ms)


Started GET "/signup" for 127.0.0.1 at 2014-07-18 18:53:45 +0530
Processing by IdentitiesController#new as HTML
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:53:45')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  Rendered identities/new.html.slim within layouts/frame (16.7ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  Rendered shared/_menu.html.slim (7.6ms)
  Rendered shared/_header.html.slim (9.3ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (28.9ms)
Completed 200 OK in 68ms (Views: 49.4ms | ActiveRecord: 0.9ms)


Started POST "/auth/identity/register" for 127.0.0.1 at 2014-07-18 18:53:56 +0530
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mIdentity Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `identities` WHERE `identities`.`email` = BINARY 'arvindyuvasoft112@gmail.com' LIMIT 1[0m
  [1m[35mSQL (40.4ms)[0m  INSERT INTO `identities` (`created_at`, `email`, `password_digest`, `updated_at`) VALUES ('2014-07-18 18:53:56', 'arvindyuvasoft112@gmail.com', '$2a$10$/Gbz0N.RqBBojsdlTppUzu2zPM.oN9PszCGELPlWLsKf/JyYF1fVC', '2014-07-18 18:53:56')
  [1m[36m (51.4ms)[0m  [1mCOMMIT[0m
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"qOYJ2nuEAiS8mOuXfISdTD7UWZ6FUsIQqfOBPtPCtTw=", "token"=>"", "email"=>"arvindyuvasoft112@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "commit"=>"Sign Up"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:53:56')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35mAuthentication Load (0.6ms)[0m  SELECT `authentications`.* FROM `authentications` WHERE `authentications`.`provider` = 'identity' AND `authentications`.`uid` = '17' LIMIT 1
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`email` = 'arvindyuvasoft112@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (1.5ms)[0m  [1mSELECT COUNT(*) FROM `members` WHERE `members`.`sn` = 'PEAN3HSSFBGTIO'[0m
  [1m[35mSQL (49.8ms)[0m  INSERT INTO `members` (`activated`, `created_at`, `email`, `sn`, `updated_at`) VALUES (0, '2014-07-18 18:53:56', 'arvindyuvasoft112@gmail.com', 'PEAN3HSSFBGTIO', '2014-07-18 18:53:56')
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 17[0m
  [1m[35mAccount Exists (0.5ms)[0m  SELECT 1 AS one FROM `accounts` WHERE (`accounts`.`member_id` = BINARY 17 AND `accounts`.`currency` = 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `accounts` (`balance`, `created_at`, `currency`, `locked`, `member_id`, `updated_at`) VALUES (0.0, '2014-07-18 18:53:56', 1, 0.0, 17, '2014-07-18 18:53:56')[0m
  [1m[35mAccount Exists (0.4ms)[0m  SELECT 1 AS one FROM `accounts` WHERE (`accounts`.`member_id` = BINARY 17 AND `accounts`.`currency` = 2) LIMIT 1
  [1m[36mSQL (17.7ms)[0m  [1mINSERT INTO `accounts` (`balance`, `created_at`, `currency`, `locked`, `member_id`, `updated_at`) VALUES (0.0, '2014-07-18 18:53:56', 2, 0.0, 17, '2014-07-18 18:53:56')[0m
  [1m[35m (98.8ms)[0m  COMMIT
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 17 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 17 LIMIT 1  [["id", 17]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mAuthentication Exists (0.4ms)[0m  SELECT 1 AS one FROM `authentications` WHERE (`authentications`.`provider` = BINARY 'identity' AND `authentications`.`member_id` = 17) LIMIT 1
  [1m[36mAuthentication Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `authentications` WHERE (`authentications`.`uid` = BINARY '17' AND `authentications`.`provider` = 'identity') LIMIT 1[0m
  [1m[35mSQL (9.7ms)[0m  INSERT INTO `authentications` (`created_at`, `member_id`, `provider`, `uid`, `updated_at`) VALUES ('2014-07-18 18:53:57', 17, 'identity', '17', '2014-07-18 18:53:57')
  [1m[36m (57.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mActivation Load (0.4ms)[0m  [1mSELECT `tokens`.* FROM `tokens` WHERE `tokens`.`type` IN ('Activation') AND (expire_at > '2014-07-18 18:53:57') AND (is_used = 0) AND (member_id = 17) ORDER BY created_at desc LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `tokens` SET `tokens`.`is_used` = 1 WHERE `tokens`.`type` IN ('Activation') AND (expire_at > '2014-07-18 18:53:57') AND (is_used = 0) AND (member_id = 17)
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `tokens` (`created_at`, `expire_at`, `is_used`, `member_id`, `token`, `type`, `updated_at`) VALUES ('2014-07-18 18:53:57', '2014-07-18 19:23:57', 0, 17, 'cc7d486ab4cd7165ade9d3f7af5abca5', 'Activation', '2014-07-18 18:53:57')[0m
  Rendered token_mailer/activation.text.erb (0.5ms)

Sent mail to arvindyuvasoft112@gmail.com (5686.4ms)
Date: Fri, 18 Jul 2014 18:53:57 +0530
From: example@peatio.com
To: arvindyuvasoft112@gmail.com
Message-ID: <53c91fedd603d_3b9372c9ed87045@yuva-System-Product-Name.mail>
Subject: [Peatio] Account Activation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Thank you for registering Peatio=EF=BC=8CQuickly click on the link below =
to verify your E-mail it:

http://localhost:3000/activations/cc7d486ab4cd7165ade9d3f7af5abca5/edit
If the link is not clickable, please copy into your browser address bar d=
irectly. =

30 minutes after the link failure, please log reset.

Thanks,
The Peatio Team

  [1m[35m (61.9ms)[0m  COMMIT
Redirected to http://localhost:3000/verify/two_factor/new
Completed 302 Found in 6871ms (ActiveRecord: 1022.5ms)


Started GET "/verify/two_factor/new" for 127.0.0.1 at 2014-07-18 18:54:03 +0530
Processing by Verify::TwoFactorsController#new as HTML
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:54:03')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 17 LIMIT 1[0m
Redirected to http://localhost:3000/settings
Completed 302 Found in 22ms (ActiveRecord: 1.5ms)


Started GET "/settings" for 127.0.0.1 at 2014-07-18 18:54:03 +0530
Processing by Private::SettingsController#index as HTML
  [1m[35mMember Load (0.6ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 17 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:54:03')[0m
  [1m[35mTwoFactor Load (0.5ms)[0m  SELECT `two_factors`.* FROM `two_factors` WHERE `two_factors`.`member_id` = 17 AND `two_factors`.`type` = 'TwoFactor::App' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mTwoFactor Exists (0.6ms)[0m  SELECT 1 AS one FROM `two_factors` WHERE (`two_factors`.`type` = BINARY 'TwoFactor::App' AND `two_factors`.`member_id` = 17) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `two_factors` (`member_id`, `type`) VALUES (17, 'TwoFactor::App')[0m
  [1m[35m (88.3ms)[0m  COMMIT
  [1m[36mIdDocument Load (0.5ms)[0m  [1mSELECT `id_documents`.* FROM `id_documents` WHERE `id_documents`.`member_id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 17
  Rendered private/settings/_account_balance.html.slim (5.8ms)
  [1m[36mAuthentication Load (0.5ms)[0m  [1mSELECT `authentications`.* FROM `authentications` WHERE `authentications`.`member_id` = 17 AND `authentications`.`provider` = 'identity' LIMIT 1[0m
  [1m[35mIdentity Load (0.3ms)[0m  SELECT `identities`.* FROM `identities` WHERE `identities`.`id` = 17 LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 17 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)[0m
  Rendered private/settings/index.html.slim within layouts/frame (22.7ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.1ms)
  Rendered shared/_header.html.slim (4.8ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (33.2ms)
Completed 200 OK in 186ms (Views: 59.2ms | ActiveRecord: 92.9ms)


Started GET "/activations/cc7d486ab4cd7165ade9d3f7af5abca5/edit" for 127.0.0.1 at 2014-07-18 18:54:17 +0530
Processing by ActivationsController#edit as HTML
  Parameters: {"id"=>"cc7d486ab4cd7165ade9d3f7af5abca5"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 17 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:54:17')[0m
  [1m[35mToken Load (0.5ms)[0m  SELECT `tokens`.* FROM `tokens` WHERE (expire_at > '2014-07-18 18:54:17') AND (is_used = 0) AND (token = 'cc7d486ab4cd7165ade9d3f7af5abca5') ORDER BY `tokens`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 17 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `tokens` SET `is_used` = 1, `updated_at` = '2014-07-18 18:54:17' WHERE `tokens`.`type` IN ('Activation') AND `tokens`.`id` = 15[0m
  [1m[35m (160.8ms)[0m  COMMIT
  [1m[36mSQL (69.9ms)[0m  [1mUPDATE `members` SET `members`.`activated` = 1 WHERE `members`.`id` = 17[0m
Redirected to http://localhost:3000/settings
Completed 302 Found in 263ms (ActiveRecord: 233.4ms)


Started GET "/settings" for 127.0.0.1 at 2014-07-18 18:54:18 +0530
Processing by Private::SettingsController#index as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 17 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 18:54:18')[0m
  [1m[35mTwoFactor Load (0.4ms)[0m  SELECT `two_factors`.* FROM `two_factors` WHERE `two_factors`.`member_id` = 17 AND `two_factors`.`type` = 'TwoFactor::App' LIMIT 1
  [1m[36mIdDocument Load (0.5ms)[0m  [1mSELECT `id_documents`.* FROM `id_documents` WHERE `id_documents`.`member_id` = 17 LIMIT 1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 17
  Rendered private/settings/_account_balance.html.slim (7.2ms)
  [1m[36mAuthentication Load (0.5ms)[0m  [1mSELECT `authentications`.* FROM `authentications` WHERE `authentications`.`member_id` = 17 AND `authentications`.`provider` = 'identity' LIMIT 1[0m
  [1m[35mIdentity Load (0.5ms)[0m  SELECT `identities`.* FROM `identities` WHERE `identities`.`id` = 17 LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 17 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)[0m
  Rendered private/settings/index.html.slim within layouts/frame (26.7ms)
  Rendered shared/_flash.slim (0.2ms)
  Rendered shared/_html5.html.slim (0.9ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (2.7ms)
  Rendered shared/_header.html.slim (4.5ms)
  Rendered shared/_footer.html.slim (0.0ms)
  Rendered layouts/application.html.slim (23.4ms)
Completed 200 OK in 74ms (Views: 55.4ms | ActiveRecord: 3.7ms)


Started GET "/markets/ptscny" for 127.0.0.1 at 2014-07-18 19:12:38 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m


Started GET "/" for 127.0.0.1 at 2014-07-18 19:12:44 +0530
Processing by WelcomeController#index as HTML
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 17 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:12:44')[0m
Redirected to http://localhost:3000/markets/btccny
Completed 302 Found in 49ms (ActiveRecord: 3.9ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 19:12:44 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 17 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:12:44')[0m
  [1m[35mTrade Load (28.7ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:12:44') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:12:44')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 17 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 17 or bid_member_id = 17) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 17 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 17 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 17 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (5.8ms)
  Rendered private/markets/_account_balance.html.slim (3.4ms)
  Rendered private/markets/_price_chart.html.slim (2.3ms)
  Rendered private/markets/_place_order.html.slim (65.1ms)
  Rendered private/markets/_market_trades.html.slim (3.8ms)
  Rendered private/markets/_order_book.html.slim (2.7ms)
  Rendered private/markets/_my_orders.html.slim (7.5ms)
  Rendered private/markets/show.html.slim within layouts/market (117.2ms)
  Rendered shared/_footer_col24.html.slim (8.2ms)
  Rendered shared/_html5.html.slim (12.0ms)
  Rendered shared/_meta.html.slim (4.7ms)
  Rendered shared/_browser.html.slim (3.9ms)
  Rendered shared/_pusher.html.slim (2.7ms)
  Rendered shared/_menu.html.slim (11.7ms)
  Rendered shared/_header.html.slim (18.7ms)
  Rendered layouts/application.html.slim (235.0ms)
Completed 200 OK in 624ms (Views: 373.6ms | ActiveRecord: 68.4ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-18 19:12:46 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 17 LIMIT 1[0m
  [1m[35mTrade Load (0.9ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:12:46') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  Rendered api/v1/prices/show.jbuilder (0.6ms)
Completed 200 OK in 21ms (Views: 11.6ms | ActiveRecord: 1.3ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-18 19:12:47 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38854.232862", "channel_name"=>"private-PEAN3HSSFBGTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 17 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:12:47')
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started GET "/signout" for 127.0.0.1 at 2014-07-18 19:13:00 +0530
Processing by SessionsController#destroy as HTML
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 17 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:13:00')
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2014-07-18 19:13:00 +0530
Processing by WelcomeController#index as HTML
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35m (2.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:13:00')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  Rendered welcome/index.html.slim within layouts/landing (21.2ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_footer.html.slim (7.7ms)
Completed 200 OK in 88ms (Views: 62.4ms | ActiveRecord: 3.1ms)


Started GET "/signin" for 127.0.0.1 at 2014-07-18 19:13:02 +0530
Processing by SessionsController#new as HTML
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:13:02')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  Rendered sessions/new.html.slim within layouts/frame (19.6ms)
  Rendered shared/_flash.slim (5.8ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  Rendered shared/_menu.html.slim (6.8ms)
  Rendered shared/_header.html.slim (8.8ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (27.6ms)
Completed 200 OK in 90ms (Views: 63.3ms | ActiveRecord: 2.3ms)


Started POST "/auth/identity/callback" for 127.0.0.1 at 2014-07-18 19:13:15 +0530
(identity) Callback phase initiated.
  [1m[36mIdentity Load (0.5ms)[0m  [1mSELECT `identities`.* FROM `identities` WHERE `identities`.`email` = 'bar@peatio.dev' ORDER BY `identities`.`id` ASC LIMIT 1[0m
(identity) Authentication failure! invalid_credentials encountered.
Processing by SessionsController#failure as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Y09X/5HVG6bxt8NKFvGfOeU500S9PQs2DpgHMHt3H6Q=", "auth_key"=>"bar@peatio.dev", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:13:15')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
Redirected to http://localhost:3000/signin
Completed 302 Found in 21ms (ActiveRecord: 0.8ms)


Started GET "/signin" for 127.0.0.1 at 2014-07-18 19:13:15 +0530
Processing by SessionsController#new as HTML
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:13:15')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  Rendered sessions/new.html.slim within layouts/frame (12.6ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.7ms)
  Rendered shared/_meta.html.slim (0.3ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  Rendered shared/_menu.html.slim (5.9ms)
  Rendered shared/_header.html.slim (7.7ms)
  Rendered shared/_footer.html.slim (0.0ms)
  Rendered layouts/application.html.slim (27.1ms)
Completed 200 OK in 61ms (Views: 43.3ms | ActiveRecord: 0.8ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mIdentity Load (0.4ms)[0m  SELECT `identities`.* FROM `identities` WHERE `identities`.`email` = 'admin@peatio.dev' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mIdentity Exists (26.8ms)[0m  SELECT 1 AS one FROM `identities` WHERE (`identities`.`email` = BINARY 'admin@peatio.dev' AND `identities`.`id` != 1) LIMIT 1
  [1m[36mSQL (16.7ms)[0m  [1mUPDATE `identities` SET `password_digest` = '$2a$10$UQZKvFf15im999k4nmlRYuXYKYdIed2FX.QwonfnfauluimayDxd.', `updated_at` = '2014-07-18 19:14:21' WHERE `identities`.`id` = 1[0m
  [1m[35m (51.5ms)[0m  COMMIT
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`email` = 'admin@peatio.dev' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mIdentity Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `identities` WHERE `identities`.`email` = BINARY 'foo@peatio.dev' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (20.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `members` WHERE `members`.`sn` = 'PEATXDMEGXZTIO'
  [1m[36mSQL (18.8ms)[0m  [1mINSERT INTO `members` (`created_at`, `email`, `name`, `sn`, `updated_at`) VALUES ('2014-07-18 19:14:21', 'foo@peatio.dev', 'foo', 'PEATXDMEGXZTIO', '2014-07-18 19:14:21')[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 18
  [1m[36mAccount Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `accounts` WHERE (`accounts`.`member_id` = BINARY 18 AND `accounts`.`currency` = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `created_at`, `currency`, `locked`, `member_id`, `updated_at`) VALUES (0.0, '2014-07-18 19:14:21', 1, 0.0, 18, '2014-07-18 19:14:21')
  [1m[36mAccount Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `accounts` WHERE (`accounts`.`member_id` = BINARY 18 AND `accounts`.`currency` = 2) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `created_at`, `currency`, `locked`, `member_id`, `updated_at`) VALUES (0.0, '2014-07-18 19:14:21', 2, 0.0, 18, '2014-07-18 19:14:21')
  [1m[36m (62.2ms)[0m  [1mCOMMIT[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 18 LIMIT 1
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 18 LIMIT 1[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 18 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mActsAsTaggableOn::Tag Load (34.9ms)[0m  SELECT `tags`.* FROM `tags` WHERE (LOWER(name) = LOWER('vip') OR LOWER(name) = LOWER('hero'))
  [1m[36mActsAsTaggableOn::Tag Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `tags` WHERE `tags`.`name` = BINARY 'vip' LIMIT 1[0m
  [1m[35mSQL (24.4ms)[0m  INSERT INTO `tags` (`name`) VALUES ('vip')
  [1m[36mActsAsTaggableOn::Tag Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `tags` WHERE `tags`.`name` = BINARY 'hero' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `tags` (`name`) VALUES ('hero')
  [1m[36mActsAsTaggableOn::Tag Load (101.4ms)[0m  [1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 18 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)[0m
  [1m[35mActsAsTaggableOn::Tagging Exists (0.4ms)[0m  SELECT 1 AS one FROM `taggings` WHERE (`taggings`.`tag_id` = BINARY 1 AND `taggings`.`taggable_type` = 'Member' AND `taggings`.`taggable_id` = 18 AND `taggings`.`context` = 'tags' AND `taggings`.`tagger_id` IS NULL AND `taggings`.`tagger_type` IS NULL) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `taggings` (`context`, `created_at`, `tag_id`, `taggable_id`, `taggable_type`) VALUES ('tags', '2014-07-18 19:14:22', 1, 18, 'Member')[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT `tags`.* FROM `tags` WHERE `tags`.`id` = 1 LIMIT 1
  [1m[36mSQL (38.7ms)[0m  [1mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE `tags`.`id` = 1[0m
Mysql2::Error: Unknown column 'taggings_count' in 'field list': UPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE `tags`.`id` = 1
  [1m[35m (101.4ms)[0m  ROLLBACK
  [1m[36m (939.7ms)[0m  [1mCREATE TABLE `account_versions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `member_id` int(11), `account_id` int(11), `reason` int(11), `balance` decimal(32,16), `locked` decimal(32,16), `fee` decimal(32,16), `amount` decimal(32,16), `modifiable_id` int(11), `modifiable_type` varchar(255), `created_at` datetime, `updated_at` datetime, `currency` int(11), `fun` int(11)) ENGINE=InnoDB[0m
  [1m[35m (709.6ms)[0m  CREATE INDEX `index_account_versions_on_account_id_and_reason` USING btree ON `account_versions` (`account_id`, `reason`) 
  [1m[36m (566.3ms)[0m  [1mCREATE INDEX `index_account_versions_on_member_id_and_reason` USING btree ON `account_versions` (`member_id`, `reason`) [0m
  [1m[35m (551.6ms)[0m  CREATE INDEX `index_account_versions_on_modifiable_id_and_modifiable_type` USING btree ON `account_versions` (`modifiable_id`, `modifiable_type`) 
  [1m[36m (514.1ms)[0m  [1mCREATE TABLE `accounts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `member_id` int(11), `currency` int(11), `balance` decimal(32,16), `locked` decimal(32,16), `created_at` datetime, `updated_at` datetime, `in` decimal(32,16), `out` decimal(32,16)) ENGINE=InnoDB[0m
  [1m[35m (600.1ms)[0m  CREATE INDEX `index_accounts_on_member_id_and_currency` USING btree ON `accounts` (`member_id`, `currency`) 
  [1m[36m (483.6ms)[0m  [1mCREATE INDEX `index_accounts_on_member_id` USING btree ON `accounts` (`member_id`) [0m
  [1m[35m (461.4ms)[0m  CREATE TABLE `api_tokens` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `member_id` int(11) NOT NULL, `access_key` varchar(50) NOT NULL, `secret_key` varchar(50) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (455.9ms)[0m  [1mCREATE UNIQUE INDEX `index_api_tokens_on_access_key` USING btree ON `api_tokens` (`access_key`) [0m
  [1m[35m (966.9ms)[0m  CREATE UNIQUE INDEX `index_api_tokens_on_secret_key` USING btree ON `api_tokens` (`secret_key`) 
  [1m[36m (901.0ms)[0m  [1mCREATE TABLE `authentications` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `provider` varchar(255), `uid` varchar(255), `token` varchar(255), `secret` varchar(255), `member_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (841.7ms)[0m  CREATE INDEX `index_authentications_on_member_id` USING btree ON `authentications` (`member_id`) 
  [1m[36m (828.3ms)[0m  [1mCREATE INDEX `index_authentications_on_provider_and_uid` USING btree ON `authentications` (`provider`, `uid`) [0m
  [1m[35m (477.2ms)[0m  CREATE TABLE `credits` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `amount` decimal(10,0), `currency` varchar(255), `member_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (441.2ms)[0m  [1mCREATE TABLE `deposits` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `account_id` int(11), `member_id` int(11), `currency` int(11), `amount` decimal(32,16), `fee` decimal(32,16), `fund_uid` varchar(255), `fund_extra` varchar(255), `txid` varchar(255), `state` int(11), `aasm_state` varchar(255), `created_at` datetime, `updated_at` datetime, `done_at` datetime, `memo` varchar(255), `type` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (440.4ms)[0m  CREATE TABLE `document_translations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `document_id` int(11) NOT NULL, `locale` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime, `title` varchar(255), `body` text, `desc` text, `keywords` text) ENGINE=InnoDB
  [1m[36m (506.1ms)[0m  [1mCREATE INDEX `index_document_translations_on_document_id` USING btree ON `document_translations` (`document_id`) [0m
  [1m[35m (479.8ms)[0m  CREATE INDEX `index_document_translations_on_locale` USING btree ON `document_translations` (`locale`) 
  [1m[36m (453.2ms)[0m  [1mCREATE TABLE `documents` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `key` varchar(255), `title` varchar(255), `body` text, `is_auth` tinyint(1), `created_at` datetime, `updated_at` datetime, `desc` text, `keywords` text) ENGINE=InnoDB[0m
  [1m[35m (429.2ms)[0m  CREATE TABLE `dogecoin_trades` (`created_at` datetime, `volume` decimal(32,16), `member_id` int(11)) ENGINE=InnoDB
  [1m[36m (463.7ms)[0m  [1mCREATE TABLE `fund_sources` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `member_id` int(11), `currency` int(11), `extra` varchar(255), `uid` varchar(255), `channel_id` int(11), `is_locked` tinyint(1) DEFAULT 0, `created_at` datetime, `updated_at` datetime, `deleted_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (453.9ms)[0m  CREATE TABLE `id_documents` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `category` int(11), `name` varchar(255), `sn` varchar(255), `member_id` int(11), `created_at` datetime, `updated_at` datetime, `verified` tinyint(1)) ENGINE=InnoDB
  [1m[36m (453.0ms)[0m  [1mCREATE TABLE `identities` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `email` varchar(255), `password_digest` varchar(255), `is_active` tinyint(1), `retry_count` int(11), `is_locked` tinyint(1), `locked_at` datetime, `last_verify_at` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (478.7ms)[0m  CREATE TABLE `members` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `sn` varchar(255), `name` varchar(255), `display_name` varchar(255), `email` varchar(255), `identity_id` int(11), `created_at` datetime, `updated_at` datetime, `state` int(11), `activated` tinyint(1), `country_code` int(11), `phone_number` varchar(255), `phone_number_verified` tinyint(1)) ENGINE=InnoDB
  [1m[36m (477.7ms)[0m  [1mCREATE TABLE `orders` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `bid` int(11), `ask` int(11), `currency` int(11), `price` decimal(32,16), `volume` decimal(32,16), `origin_volume` decimal(32,16), `state` int(11), `done_at` datetime, `member_id` int(11), `created_at` datetime, `updated_at` datetime, `sn` varchar(255), `source` varchar(255) NOT NULL, `type` varchar(8), `ord_type` varchar(10), `locked` decimal(32,16), `origin_locked` decimal(32,16), `funds_received` decimal(32,16) DEFAULT 0.0) ENGINE=InnoDB[0m
  [1m[35m (1318.7ms)[0m  CREATE TABLE `partial_trees` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `proof_id` int(11) NOT NULL, `account_id` int(11) NOT NULL, `json` text NOT NULL, `created_at` datetime, `updated_at` datetime, `sum` varchar(255)) ENGINE=InnoDB
  [1m[36m (663.7ms)[0m  [1mCREATE TABLE `payment_addresses` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `account_id` int(11), `address` varchar(255), `created_at` datetime, `updated_at` datetime, `currency` int(11)) ENGINE=InnoDB[0m
  [1m[35m (415.5ms)[0m  CREATE TABLE `payment_transactions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `txid` varchar(255), `amount` decimal(32,16), `confirmations` int(11), `address` varchar(255), `state` int(11), `aasm_state` varchar(255), `created_at` datetime, `updated_at` datetime, `receive_at` datetime, `dont_at` datetime, `currency` int(11)) ENGINE=InnoDB
  [1m[36m (502.5ms)[0m  [1mCREATE TABLE `proofs` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `root` varchar(255), `currency` int(11), `ready` tinyint(1) DEFAULT 0, `created_at` datetime, `updated_at` datetime, `sum` varchar(255), `addresses` text, `balance` varchar(30)) ENGINE=InnoDB[0m
  [1m[35m (465.1ms)[0m  CREATE TABLE `taggings` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `tag_id` int(11), `taggable_id` int(11), `taggable_type` varchar(255), `tagger_id` int(11), `tagger_type` varchar(255), `context` varchar(128), `created_at` datetime) ENGINE=InnoDB
  [1m[36m (698.5ms)[0m  [1mCREATE UNIQUE INDEX `taggings_idx` USING btree ON `taggings` (`tag_id`, `taggable_id`, `taggable_type`, `context`, `tagger_id`, `tagger_type`) [0m
  [1m[35m (405.6ms)[0m  CREATE TABLE `tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255)) ENGINE=InnoDB
  [1m[36m (432.7ms)[0m  [1mCREATE UNIQUE INDEX `index_tags_on_name` USING btree ON `tags` (`name`) [0m
  [1m[35m (476.7ms)[0m  CREATE TABLE `tokens` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `token` varchar(255), `expire_at` datetime, `member_id` int(11), `is_used` tinyint(1), `type` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (649.0ms)[0m  [1mCREATE INDEX `index_tokens_on_type_and_token_and_expire_at_and_is_used` USING btree ON `tokens` (`type`, `token`, `expire_at`, `is_used`) [0m
  [1m[35m (440.4ms)[0m  CREATE TABLE `trades` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `price` decimal(32,16), `volume` decimal(32,16), `ask_id` int(11), `bid_id` int(11), `trend` int(11), `currency` int(11), `created_at` datetime, `updated_at` datetime, `ask_member_id` int(11), `bid_member_id` int(11), `funds` decimal(32,16)) ENGINE=InnoDB
  [1m[36m (492.0ms)[0m  [1mCREATE INDEX `index_trades_on_ask_id` USING btree ON `trades` (`ask_id`) [0m
  [1m[35m (467.1ms)[0m  CREATE INDEX `index_trades_on_ask_member_id` USING btree ON `trades` (`ask_member_id`) 
  [1m[36m (482.6ms)[0m  [1mCREATE INDEX `index_trades_on_bid_id` USING btree ON `trades` (`bid_id`) [0m
  [1m[35m (467.7ms)[0m  CREATE INDEX `index_trades_on_bid_member_id` USING btree ON `trades` (`bid_member_id`) 
  [1m[36m (529.9ms)[0m  [1mCREATE INDEX `index_trades_on_currency` USING btree ON `trades` (`currency`) [0m
  [1m[35m (429.9ms)[0m  CREATE TABLE `two_factors` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `member_id` int(11), `otp_secret` varchar(255), `last_verify_at` datetime, `activated` tinyint(1), `type` varchar(255)) ENGINE=InnoDB
  [1m[36m (488.7ms)[0m  [1mCREATE TABLE `versions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `item_type` varchar(255) NOT NULL, `item_id` int(11) NOT NULL, `event` varchar(255) NOT NULL, `whodunnit` varchar(255), `object` text, `created_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (553.7ms)[0m  CREATE INDEX `index_versions_on_item_type_and_item_id` USING btree ON `versions` (`item_type`, `item_id`) 
  [1m[36m (465.4ms)[0m  [1mCREATE TABLE `withdraws` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `sn` varchar(255), `account_id` int(11), `member_id` int(11), `currency` int(11), `amount` decimal(32,16), `fee` decimal(32,16), `fund_uid` varchar(255), `fund_extra` varchar(255), `created_at` datetime, `updated_at` datetime, `done_at` datetime, `txid` varchar(255), `aasm_state` varchar(255), `sum` decimal(32,16), `type` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (426.9ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (799.4ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.4ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (43.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140718090409')[0m
  [1m[35m (58.8ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140407011310')
  [1m[36m (83.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20131022035138')[0m
  [1m[35m (71.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20130926170008')
  [1m[36m (46.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130926011813')[0m
  [1m[35m (46.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140326170234')
  [1m[36m (47.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130915150504')[0m
  [1m[35m (47.0ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140416143352')
  [1m[36m (46.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130905132250')[0m
  [1m[35m (46.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20131204020953')
  [1m[36m (46.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130926014845')[0m
  [1m[35m (46.9ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20130930172651')
  [1m[36m (46.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140416143239')[0m
  [1m[35m (47.1ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20130810162023')
  [1m[36m (46.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140327065708')[0m
  [1m[35m (46.8ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20130929012418')
  [1m[36m (47.0ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140328101707')[0m
  [1m[35m (47.1ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140102172835')
  [1m[36m (46.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130928194048')[0m
  [1m[35m (46.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20130624011823')
  [1m[36m (46.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20131003021225')[0m
  [1m[35m (131.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140618004355')
  [1m[36m (47.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140102024125')[0m
  [1m[35m (47.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140524014413')
  [1m[36m (46.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20131201011127')[0m
  [1m[35m (46.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140530133210')
  [1m[36m (46.8ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20131002190141')[0m
  [1m[35m (47.0ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20130901154530')
  [1m[36m (46.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20131224162832')[0m
  [1m[35m (34.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20130928080757')
  [1m[36m (46.9ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140312061206')[0m
  [1m[35m (46.8ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421061712')
  [1m[36m (47.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130906073931')[0m
  [1m[35m (46.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140428203350')
  [1m[36m (46.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130925171856')[0m
  [1m[35m (46.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140324062812')
  [1m[36m (47.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130928190156')[0m
  [1m[35m (46.8ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140416194209')
  [1m[36m (46.9ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140101175408')[0m
  [1m[35m (46.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20131208012814')
  [1m[36m (59.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130928113620')[0m
  [1m[35m (95.1ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140418082715')
  [1m[36m (46.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140302094729')[0m
  [1m[35m (47.0ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140403031847')
  [1m[36m (60.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140507120249')[0m
  [1m[35m (70.0ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20130925175113')
  [1m[36m (47.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130925165804')[0m
  [1m[35m (46.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20131009132505')
  [1m[36m (46.9ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130919091853')[0m
  [1m[35m (46.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140326191837')
  [1m[36m (46.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140416194300')[0m
  [1m[35m (46.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20130930183833')
  [1m[36m (46.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140703070953')[0m
  [1m[35m (46.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20131027012836')
  [1m[36m (46.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130905025823')[0m
  [1m[35m (46.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20130629015414')
  [1m[36m (46.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130904215802')[0m
  [1m[35m (48.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20130925154257')
  [1m[36m (46.8ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140329070543')[0m
  [1m[35m (85.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20131130190923')
  [1m[36m (95.8ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130906073020')[0m
  [1m[35m (44.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20131001103847')
  [1m[36m (46.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140416151403')[0m
  [1m[35m (47.1ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140302094520')
  [1m[36m (46.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130907110146')[0m
  [1m[35m (46.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140306021833')
  [1m[36m (46.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140312071704')[0m
  [1m[35m (47.1ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140403070840')
  [1m[36m (59.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130928122042')[0m
  [1m[35m (45.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140303080054')
  [1m[36m (46.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130928165236')[0m
  [1m[35m (46.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20130907124647')
  [1m[36m (46.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140327044440')[0m
  [1m[35m (46.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20131003003357')
  [1m[36m (70.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140404101823')[0m
  [1m[35m (46.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140302161905')
  [1m[36m (46.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140327105217')[0m
  [1m[35m (46.9ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140531054739')
  [1m[36m (47.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140703065321')[0m
  [1m[35m (46.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140320142701')
  [1m[36m (46.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140303060739')[0m
  [1m[35m (46.8ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421080408')
  [1m[36m (47.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140105034746')[0m
  [1m[35m (47.0ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140327062025')
  [1m[36m (46.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140402043033')[0m
  [1m[35m (46.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140702035833')
  [1m[36m (46.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130926075355')[0m
  [1m[35m (46.9ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20130901010953')
  [1m[36m (46.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20131110214254')[0m
  [1m[35m (46.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140304015055')
  [1m[36m (46.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20131002012809')[0m
  [1m[35m (46.9ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140405053744')
  [1m[36m (47.8ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140306020939')[0m
  [1m[35m (46.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140331084541')
  [1m[36m (46.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140404074816')[0m
  [1m[35m (46.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20130912144526')
  [1m[36m (46.9ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20131006183340')[0m
  [1m[35m (46.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20130903080937')
  [1m[36m (46.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140324060148')[0m
  [1m[35m (46.9ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140319022202')
  [1m[36m (46.9ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20130918143551')[0m
  [1m[35m (70.8ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140319022302')
  [1m[36m (47.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140102172836')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mIdentity Load (0.4ms)[0m  [1mSELECT `identities`.* FROM `identities` WHERE `identities`.`email` = 'admin@peatio.dev' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mIdentity Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `identities` WHERE `identities`.`email` = BINARY 'admin@peatio.dev' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mIdentity Exists (0.4ms)[0m  SELECT 1 AS one FROM `identities` WHERE `identities`.`email` = BINARY 'admin@peatio.dev' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `identities` (`created_at`, `email`, `is_active`, `password_digest`, `updated_at`) VALUES ('2014-07-18 19:19:18', 'admin@peatio.dev', 1, '$2a$10$h2WltR6YjcalU1IhTt3GO.zaeje5ufZQC4Ue5sNuZg/o4mWPDxtIO', '2014-07-18 19:19:18')[0m
  [1m[35m (47.2ms)[0m  COMMIT
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`email` = 'admin@peatio.dev' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `members` WHERE `members`.`sn` = 'PEARFO7C7PBTIO'[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `members` (`created_at`, `email`, `sn`, `updated_at`) VALUES ('2014-07-18 19:19:18', 'admin@peatio.dev', 'PEARFO7C7PBTIO', '2014-07-18 19:19:18')
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1[0m
  [1m[35mAccount Exists (0.5ms)[0m  SELECT 1 AS one FROM `accounts` WHERE (`accounts`.`member_id` = BINARY 1 AND `accounts`.`currency` = 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `accounts` (`balance`, `created_at`, `currency`, `locked`, `member_id`, `updated_at`) VALUES (0.0, '2014-07-18 19:19:18', 1, 0.0, 1, '2014-07-18 19:19:18')[0m
  [1m[35mAccount Exists (0.4ms)[0m  SELECT 1 AS one FROM `accounts` WHERE (`accounts`.`member_id` = BINARY 1 AND `accounts`.`currency` = 2) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `created_at`, `currency`, `locked`, `member_id`, `updated_at`) VALUES (0.0, '2014-07-18 19:19:18', 2, 0.0, 1, '2014-07-18 19:19:18')[0m
  [1m[35m (54.7ms)[0m  COMMIT
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `members` SET `name` = 'admin', `identity_id` = 1, `updated_at` = '2014-07-18 19:19:18' WHERE `members`.`id` = 1
  [1m[36m (42.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mIdentity Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `identities` WHERE `identities`.`email` = BINARY 'foo@peatio.dev' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `identities` (`created_at`, `email`, `is_active`, `password_digest`, `updated_at`) VALUES ('2014-07-18 19:19:18', 'foo@peatio.dev', 1, '$2a$10$fsjhd679sQ0rIyabMGumjum3Mvymbwsln5roZU/y509VWYp6xUWm.', '2014-07-18 19:19:18')
  [1m[36m (96.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `members` WHERE `members`.`sn` = 'PEASVK4NOSKTIO'[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `members` (`created_at`, `email`, `identity_id`, `name`, `sn`, `updated_at`) VALUES ('2014-07-18 19:19:18', 'foo@peatio.dev', 2, 'foo', 'PEASVK4NOSKTIO', '2014-07-18 19:19:18')
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2[0m
  [1m[35mAccount Exists (0.3ms)[0m  SELECT 1 AS one FROM `accounts` WHERE (`accounts`.`member_id` = BINARY 2 AND `accounts`.`currency` = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `created_at`, `currency`, `locked`, `member_id`, `updated_at`) VALUES (0.0, '2014-07-18 19:19:18', 1, 0.0, 2, '2014-07-18 19:19:18')[0m
  [1m[35mAccount Exists (0.4ms)[0m  SELECT 1 AS one FROM `accounts` WHERE (`accounts`.`member_id` = BINARY 2 AND `accounts`.`currency` = 2) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `accounts` (`balance`, `created_at`, `currency`, `locked`, `member_id`, `updated_at`) VALUES (0.0, '2014-07-18 19:19:18', 2, 0.0, 2, '2014-07-18 19:19:18')[0m
  [1m[35m (70.5ms)[0m  COMMIT
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 2 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mActsAsTaggableOn::Tag Load (2.1ms)[0m  [1mSELECT `tags`.* FROM `tags` WHERE (LOWER(name) = LOWER('vip') OR LOWER(name) = LOWER('hero'))[0m
  [1m[35mActsAsTaggableOn::Tag Exists (0.4ms)[0m  SELECT 1 AS one FROM `tags` WHERE `tags`.`name` = BINARY 'vip' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `tags` (`name`) VALUES ('vip')[0m
  [1m[35mActsAsTaggableOn::Tag Exists (0.5ms)[0m  SELECT 1 AS one FROM `tags` WHERE `tags`.`name` = BINARY 'hero' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `tags` (`name`) VALUES ('hero')[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 2 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)
  [1m[36mActsAsTaggableOn::Tagging Exists (0.6ms)[0m  [1mSELECT 1 AS one FROM `taggings` WHERE (`taggings`.`tag_id` = BINARY 1 AND `taggings`.`taggable_type` = 'Member' AND `taggings`.`taggable_id` = 2 AND `taggings`.`context` = 'tags' AND `taggings`.`tagger_id` IS NULL AND `taggings`.`tagger_type` IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `taggings` (`context`, `created_at`, `tag_id`, `taggable_id`, `taggable_type`) VALUES ('tags', '2014-07-18 19:19:19', 1, 2, 'Member')
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT `tags`.* FROM `tags` WHERE `tags`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE `tags`.`id` = 1
Mysql2::Error: Unknown column 'taggings_count' in 'field list': UPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE `tags`.`id` = 1
  [1m[36m (48.3ms)[0m  [1mROLLBACK[0m
  [1m[36m (515.2ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (798.1ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) 
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateMembers (20130624011823)
  [1m[35m (413.1ms)[0m  CREATE TABLE `members` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `sn` varchar(255), `name` varchar(255), `email` varchar(255), `pin_digest` varchar(255), `identity_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (433.4ms)[0m  [1mCREATE TABLE `accounts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `member_id` int(11), `currency` varchar(255), `balance` decimal(32,16), `locked` decimal(32,16), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130624011823')[0m
  [1m[35m (46.4ms)[0m  COMMIT
Migrating to CreateIdentities (20130629015414)
  [1m[36m (458.8ms)[0m  [1mCREATE TABLE `identities` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `email` varchar(255), `password_digest` varchar(255), `is_active` tinyint(1), `retry_count` int(11), `is_locked` tinyint(1), `locked_at` datetime, `last_verify_at` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (469.0ms)[0m  CREATE TABLE `two_factors` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `identity_id` int(11), `otp_secret` varchar(255), `last_verify_at` datetime) ENGINE=InnoDB
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130629015414')
  [1m[36m (41.6ms)[0m  [1mCOMMIT[0m
Migrating to CreateResetPasswords (20130810162023)
  [1m[35m (409.2ms)[0m  CREATE TABLE `reset_passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `email` varchar(255), `token` varchar(255), `expire_at` datetime, `identity_id` int(11), `is_used` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (458.8ms)[0m  [1mCREATE TABLE `reset_pins` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `email` varchar(255), `token` varchar(255), `expire_at` datetime, `account_id` int(11), `is_used` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130810162023')[0m
  [1m[35m (42.0ms)[0m  COMMIT
Migrating to CreateOrders (20130901010953)
  [1m[36m (516.5ms)[0m  [1mCREATE TABLE `orders` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `bid` varchar(255), `ask` varchar(255), `currency` varchar(255), `price` decimal(32,16), `volume` decimal(32,16), `origin_volume` decimal(32,16), `state` varchar(255), `done_at` datetime, `type` varchar(255), `member_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130901010953')[0m
  [1m[35m (42.3ms)[0m  COMMIT
Migrating to CreateTrades (20130901154530)
  [1m[36m (456.3ms)[0m  [1mCREATE TABLE `trades` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `price` decimal(32,16), `volume` decimal(32,16), `ask_id` int(11), `bid_id` int(11), `trend` tinyint(1), `currency` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (446.2ms)[0m  CREATE TABLE `members_trades` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `member_id` int(11), `trade_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130901154530')
  [1m[36m (42.9ms)[0m  [1mCOMMIT[0m
Migrating to CreateAccountVersions (20130903080937)
  [1m[35m (432.7ms)[0m  CREATE TABLE `account_versions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `item_type` varchar(255) NOT NULL, `item_id` int(11) NOT NULL, `event` varchar(255) NOT NULL, `whodunnit` varchar(255), `object` text, `created_at` datetime, `reason` varchar(255), `ref_id` int(11)) ENGINE=InnoDB
  [1m[36m (568.6ms)[0m  [1mCREATE INDEX `index_account_versions_on_item_type_and_item_id` ON `account_versions` (`item_type`, `item_id`) [0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130903080937')[0m
  [1m[35m (62.5ms)[0m  COMMIT
Migrating to AddIsActiveToTwoFactors (20130904215802)
  [1m[36m (714.7ms)[0m  [1mALTER TABLE `two_factors` ADD `is_active` tinyint(1)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130904215802')[0m
  [1m[35m (54.6ms)[0m  COMMIT
Migrating to FixAccountIdByResetPin (20130905025823)
  [1m[36m (89.7ms)[0m  [1mALTER TABLE `reset_pins` CHANGE `account_id` `member_id` int(11) DEFAULT NULL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130905025823')[0m
  [1m[35m (41.0ms)[0m  COMMIT
Migrating to AddBalanceToAccountVersions (20130905132250)
  [1m[36m (1017.0ms)[0m  [1mALTER TABLE `account_versions` ADD `balance` decimal(32,16)[0m
  [1m[35m (1052.3ms)[0m  ALTER TABLE `account_versions` ADD `amount` decimal(32,16)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (21.0ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130905132250')
  [1m[36m (46.5ms)[0m  [1mCOMMIT[0m
Migrating to CreatePaymentAddresses (20130906073020)
  [1m[35m (409.5ms)[0m  CREATE TABLE `payment_addresses` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `account_id` int(11), `address` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130906073020')
  [1m[36m (41.8ms)[0m  [1mCOMMIT[0m
Migrating to CreatePaymentTransactions (20130906073931)
  [1m[35m (432.0ms)[0m  CREATE TABLE `payment_transactions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `txid` varchar(255), `amount` decimal(32,16), `confirmations` int(11), `address` varchar(255), `state` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130906073931')
  [1m[36m (41.0ms)[0m  [1mCOMMIT[0m
Migrating to CreateWithdraws (20130907110146)
  [1m[35m (434.8ms)[0m  CREATE TABLE `withdraws` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `account_id` int(11), `amount` decimal(32,16), `payment_way` varchar(255), `payment_to` varchar(255), `state` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130907110146')
  [1m[36m (43.4ms)[0m  [1mCOMMIT[0m
Migrating to CreateDeposits (20130907124647)
  [1m[35m (445.0ms)[0m  CREATE TABLE `deposits` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `account_id` int(11), `amount` decimal(32,16), `payment_way` varchar(255), `payment_id` varchar(255), `state` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130907124647')
  [1m[36m (42.8ms)[0m  [1mCOMMIT[0m
Migrating to AddReceiveAtToPaymentTransactions (20130912144526)
  [1m[35m (654.8ms)[0m  ALTER TABLE `payment_transactions` ADD `receive_at` datetime
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130912144526')
  [1m[36m (42.0ms)[0m  [1mCOMMIT[0m
Migrating to AddPaymentIdToWithdraws (20130915150504)
  [1m[35m (1810.2ms)[0m  ALTER TABLE `withdraws` ADD `payment_id` varchar(255)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130915150504')
  [1m[36m (28.8ms)[0m  [1mCOMMIT[0m
Migrating to AddRefToAccountVersions (20130918143551)
  [1m[35m (1001.8ms)[0m  ALTER TABLE `account_versions` ADD `ref` varchar(255)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130918143551')
  [1m[36m (41.0ms)[0m  [1mCOMMIT[0m
Migrating to AddSnToOrders (20130919091853)
  [1m[35m (703.4ms)[0m  ALTER TABLE `orders` ADD `sn` varchar(255)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130919091853')
  [1m[36m (42.2ms)[0m  [1mCOMMIT[0m
Migrating to ChangeToEnumerizeInOrders (20130925154257)
  [1m[35m (1011.8ms)[0m  ALTER TABLE `orders` CHANGE `bid` `bid` int(11) DEFAULT NULL
  [1m[36m (1517.5ms)[0m  [1mALTER TABLE `orders` CHANGE `ask` `ask` int(11) DEFAULT NULL[0m
  [1m[35m (891.0ms)[0m  ALTER TABLE `orders` CHANGE `state` `state` int(11) DEFAULT NULL
  [1m[36m (1375.2ms)[0m  [1mALTER TABLE `orders` CHANGE `currency` `currency` int(11) DEFAULT NULL[0m
  [1m[35m (965.4ms)[0m  ALTER TABLE `orders` CHANGE `type` `type` varchar(8) DEFAULT NULL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130925154257')
  [1m[36m (42.3ms)[0m  [1mCOMMIT[0m
Migrating to ChangeToEnumerizeInTrades (20130925165804)
  [1m[35m (989.9ms)[0m  ALTER TABLE `trades` CHANGE `trend` `trend` int(11) DEFAULT NULL
  [1m[36m (902.7ms)[0m  [1mALTER TABLE `trades` CHANGE `currency` `currency` int(11) DEFAULT NULL[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130925165804')[0m
  [1m[35m (42.2ms)[0m  COMMIT
Migrating to ChangeToEnumerizeInAccounts (20130925171856)
  [1m[36m (979.6ms)[0m  [1mALTER TABLE `accounts` CHANGE `currency` `currency` int(11) DEFAULT NULL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130925171856')[0m
  [1m[35m (101.3ms)[0m  COMMIT
Migrating to ChangeToEnumerizeInDeposits (20130925175113)
  [1m[36m (1389.1ms)[0m  [1mALTER TABLE `deposits` CHANGE `payment_way` `payment_way` int(11) DEFAULT NULL[0m
  [1m[35m (845.4ms)[0m  ALTER TABLE `deposits` CHANGE `state` `state` int(11) DEFAULT NULL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130925175113')
  [1m[36m (42.7ms)[0m  [1mCOMMIT[0m
Migrating to ChangeToEnumerizeInPaymentTransactions (20130926011813)
  [1m[35m (1553.1ms)[0m  ALTER TABLE `payment_transactions` CHANGE `state` `state` int(11) DEFAULT NULL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (21.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130926011813')
  [1m[36m (56.1ms)[0m  [1mCOMMIT[0m
Migrating to ChangeToEnumerizeInWithdraws (20130926014845)
  [1m[35m (834.2ms)[0m  ALTER TABLE `withdraws` CHANGE `payment_way` `payment_way` int(11) DEFAULT NULL
  [1m[36m (1060.9ms)[0m  [1mALTER TABLE `withdraws` CHANGE `state` `state` int(11) DEFAULT NULL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130926014845')[0m
  [1m[35m (43.6ms)[0m  COMMIT
Migrating to ChangeToEnumerizeInAccountVersions (20130926075355)
  [1m[36m (1818.9ms)[0m  [1mALTER TABLE `account_versions` CHANGE `reason` `reason` int(11) DEFAULT NULL[0m
  [1m[35m (212.1ms)[0m  DROP INDEX `index_account_versions_on_item_type_and_item_id` ON `account_versions`
  [1m[36m (559.5ms)[0m  [1mCREATE INDEX `index_account_versions_on_item_type_and_item_id_and_reason` ON `account_versions` (`item_type`, `item_id`, `reason`) [0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130926075355')[0m
  [1m[35m (43.2ms)[0m  COMMIT
Migrating to ChangeRefToTextInAccountVersions (20130926170008)
  [1m[36m (1314.1ms)[0m  [1mALTER TABLE `account_versions` CHANGE `ref` `ref` text DEFAULT NULL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130926170008')[0m
  [1m[35m (42.7ms)[0m  COMMIT
Migrating to CreateAccountLogs (20130928080757)
  [1m[36m (409.3ms)[0m  [1mCREATE TABLE `account_logs` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `member_id` int(11), `account_id` int(11), `reason` int(11), `balance` decimal(32,16), `locked` decimal(32,16), `amount` decimal(32,16), `modifiable_id` int(11), `modifiable_type` varchar(255), `detail` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (625.8ms)[0m  CREATE INDEX `index_account_logs_on_member_id_and_reason` ON `account_logs` (`member_id`, `reason`) 
  [1m[36m (505.5ms)[0m  [1mCREATE INDEX `index_account_logs_on_account_id_and_reason` ON `account_logs` (`account_id`, `reason`) [0m
  [1m[35m (553.4ms)[0m  CREATE INDEX `index_account_logs_on_modifiable_id_and_modifiable_type` ON `account_logs` (`modifiable_id`, `modifiable_type`) 
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130928080757')
  [1m[36m (42.9ms)[0m  [1mCOMMIT[0m
Migrating to DeleteTableAccountVersions (20130928113620)
  [1m[35m (192.1ms)[0m  DROP TABLE `account_versions`
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130928113620')
  [1m[36m (43.1ms)[0m  [1mCOMMIT[0m
Migrating to RenameAccountLogsToAccountVersions (20130928122042)
  [1m[35m (215.2ms)[0m  RENAME TABLE `account_logs` TO `account_versions`
  [1m[36m (244.6ms)[0m  [1mDROP INDEX `index_account_logs_on_member_id_and_reason` ON `account_versions`[0m
  [1m[35m (482.7ms)[0m  CREATE INDEX `index_account_versions_on_member_id_and_reason` ON `account_versions` (`member_id`, `reason`) 
  [1m[36m (189.0ms)[0m  [1mDROP INDEX `index_account_logs_on_account_id_and_reason` ON `account_versions`[0m
  [1m[35m (467.8ms)[0m  CREATE INDEX `index_account_versions_on_account_id_and_reason` ON `account_versions` (`account_id`, `reason`) 
  [1m[36m (224.8ms)[0m  [1mDROP INDEX `index_account_logs_on_modifiable_id_and_modifiable_type` ON `account_versions`[0m
  [1m[35m (492.3ms)[0m  CREATE INDEX `index_account_versions_on_modifiable_id_and_modifiable_type` ON `account_versions` (`modifiable_id`, `modifiable_type`) 
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130928122042')
  [1m[36m (42.0ms)[0m  [1mCOMMIT[0m
Migrating to AddAlipayToMembers (20130928165236)
  [1m[35m (713.4ms)[0m  ALTER TABLE `identities` ADD `pin_digest` varchar(255)
  [1m[36m (678.9ms)[0m  [1mALTER TABLE `members` DROP `pin_digest`[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130928165236')[0m
  [1m[35m (41.4ms)[0m  COMMIT
Migrating to RenameMemberIdToIdentityId (20130928190156)
  [1m[36m (79.9ms)[0m  [1mALTER TABLE `reset_pins` CHANGE `member_id` `identity_id` int(11) DEFAULT NULL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130928190156')[0m
  [1m[35m (51.0ms)[0m  COMMIT
Migrating to AddAlipayAddressToMembers (20130928194048)
  [1m[36m (654.8ms)[0m  [1mALTER TABLE `members` ADD `alipay` varchar(255)[0m
  [1m[35m (942.4ms)[0m  ALTER TABLE `members` ADD `state` int(11)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130928194048')
  [1m[36m (104.5ms)[0m  [1mCOMMIT[0m
Migrating to CreateInvitations (20130929012418)
  [1m[35m (395.9ms)[0m  CREATE TABLE `invitations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `is_used` tinyint(1), `token` varchar(255), `email` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130929012418')
  [1m[36m (43.0ms)[0m  [1mCOMMIT[0m
Migrating to RebuildWithdraws (20130930172651)
  [1m[35m (271.3ms)[0m  ALTER TABLE `withdraws` CHANGE `payment_way` `address_type` int(11) DEFAULT NULL
  [1m[36m (147.6ms)[0m  [1mALTER TABLE `withdraws` CHANGE `payment_to` `address` varchar(255) DEFAULT NULL[0m
  [1m[35m (99.3ms)[0m  ALTER TABLE `withdraws` CHANGE `payment_id` `tx_id` varchar(255) DEFAULT NULL
  [1m[36m (1109.9ms)[0m  [1mALTER TABLE `withdraws` ADD `address_label` varchar(255) AFTER `address`[0m
  [1m[35m (690.6ms)[0m  ALTER TABLE `withdraws` ADD `done_at` datetime AFTER `updated_at`
  [1m[36m (396.7ms)[0m  [1mCREATE TABLE `withdraw_addresses` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `label` varchar(255), `address` varchar(255), `category` int(11), `account_id` int(11), `is_locked` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130930172651')[0m
  [1m[35m (41.2ms)[0m  COMMIT
Migrating to MigrateWithdrawAddresses (20130930183833)
  [1m[36m (1112.5ms)[0m  [1mALTER TABLE `members` DROP `alipay`[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130930183833')[0m
  [1m[35m (42.2ms)[0m  COMMIT
Migrating to AddDeletedAtToWithdrawAddresses (20131001103847)
  [1m[36m (664.4ms)[0m  [1mALTER TABLE `withdraw_addresses` ADD `deleted_at` datetime[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20131001103847')[0m
  [1m[35m (42.6ms)[0m  COMMIT
Migrating to AddFeeToWithdraws (20131002012809)
  [1m[36m (629.9ms)[0m  [1mALTER TABLE `withdraws` ADD `member_id` int(11) AFTER `account_id`[0m
  [1m[35m (677.9ms)[0m  ALTER TABLE `withdraws` ADD `currency` int(11) AFTER `member_id`
  [1m[36m (882.6ms)[0m  [1mALTER TABLE `withdraws` ADD `fee` decimal(32,16) AFTER `amount`[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20131002012809')[0m
  [1m[35m (42.5ms)[0m  COMMIT
Migrating to RebuildDeposits (20131002190141)
  [1m[36m (762.0ms)[0m  [1mALTER TABLE `deposits` ADD `member_id` int(11) AFTER `account_id`[0m
  [1m[35m (724.7ms)[0m  ALTER TABLE `deposits` ADD `currency` int(11) AFTER `member_id`
  [1m[36m (654.3ms)[0m  [1mALTER TABLE `deposits` ADD `done_at` datetime[0m
  [1m[35m (103.6ms)[0m  ALTER TABLE `deposits` CHANGE `payment_way` `category` int(11) DEFAULT NULL
  [1m[36m (99.3ms)[0m  [1mALTER TABLE `deposits` CHANGE `payment_id` `tx_id` varchar(255) DEFAULT NULL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20131002190141')[0m
  [1m[35m (50.7ms)[0m  COMMIT
Migrating to AddAddressToDeposits (20131003003357)
  [1m[36m (666.1ms)[0m  [1mALTER TABLE `deposits` ADD `address` varchar(255) AFTER `amount`[0m
  [1m[35m (604.8ms)[0m  ALTER TABLE `deposits` ADD `address_label` varchar(255) AFTER `address`
  [1m[36m (81.0ms)[0m  [1mALTER TABLE `deposits` CHANGE `category` `address_type` int(11) DEFAULT NULL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20131003003357')[0m
  [1m[35m (40.7ms)[0m  COMMIT
Migrating to RenameTxidToPaymentTransactions (20131003021225)
  [1m[36m (966.2ms)[0m  [1mALTER TABLE `payment_transactions` ADD `dont_at` datetime[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (177.7ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20131003021225')[0m
  [1m[35m (67.5ms)[0m  COMMIT
Migrating to CreateTokens (20131006183340)
  [1m[36m (772.5ms)[0m  [1mCREATE TABLE `tokens` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `token` varchar(255), `expire_at` datetime, `identity_id` int(11), `is_used` tinyint(1), `type` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (672.8ms)[0m  CREATE INDEX `index_tokens_on_type_and_token_and_expire_at_and_is_used` ON `tokens` (`type`, `token`, `expire_at`, `is_used`) 
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20131006183340')
  [1m[36m (42.9ms)[0m  [1mCOMMIT[0m
Migrating to CreateDocuments (20131009132505)
  [1m[35m (433.6ms)[0m  CREATE TABLE `documents` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `key` varchar(255), `title` varchar(255), `body` text, `is_auth` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20131009132505')
  [1m[36m (42.6ms)[0m  [1mCOMMIT[0m
Migrating to AddInOutToAccounts (20131022035138)
  [1m[35m (652.7ms)[0m  ALTER TABLE `accounts` ADD `in` decimal(32,16)
  [1m[36m (715.3ms)[0m  [1mALTER TABLE `accounts` ADD `out` decimal(32,16)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20131022035138')[0m
  [1m[35m (42.9ms)[0m  COMMIT
Migrating to ChangeInOutToAccounts (20131027012836)
  [1m[36m (31.7ms)[0m  [1mALTER TABLE `accounts` CHANGE `in` `in` decimal(32,16) DEFAULT NULL[0m
  [1m[35m (32.7ms)[0m  ALTER TABLE `accounts` CHANGE `out` `out` decimal(32,16) DEFAULT NULL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20131027012836')
  [1m[36m (42.7ms)[0m  [1mCOMMIT[0m
Migrating to AddCurrencyToPaymentTransactions (20131110214254)
  [1m[35m (618.0ms)[0m  ALTER TABLE `payment_transactions` ADD `currency` int(11)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20131110214254')
  [1m[36m (43.1ms)[0m  [1mCOMMIT[0m
Migrating to RemovePinDigestFromIdentities (20131130190923)
  [1m[35m (640.4ms)[0m  ALTER TABLE `identities` DROP `pin_digest`
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20131130190923')
  [1m[36m (40.7ms)[0m  [1mCOMMIT[0m
Migrating to DropResetPins (20131201011127)
  [1m[35m (180.7ms)[0m  DROP TABLE `reset_pins`
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20131201011127')
  [1m[36m (42.9ms)[0m  [1mCOMMIT[0m
Migrating to AddCurrencyToAccountVersions (20131204020953)
  [1m[35m (1680.1ms)[0m  ALTER TABLE `account_versions` ADD `currency` int(11)
  [1m[36m (2450.1ms)[0m  [1mALTER TABLE `account_versions` DROP `detail`[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20131204020953')[0m
  [1m[35m (90.7ms)[0m  COMMIT
Migrating to FixPaymentAddressCurrecny (20131208012814)
  [1m[36m (642.0ms)[0m  [1mALTER TABLE `payment_addresses` ADD `currency` int(11)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20131208012814')[0m
  [1m[35m (43.8ms)[0m  COMMIT
Migrating to AddSnToWithdraws (20131224162832)
  [1m[36m (641.3ms)[0m  [1mALTER TABLE `withdraws` ADD `sn` varchar(255) AFTER `id`[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20131224162832')[0m
  [1m[35m (40.7ms)[0m  COMMIT
Migrating to AddFeeToAccountVersions (20140101175408)
  [1m[36m (2367.6ms)[0m  [1mALTER TABLE `account_versions` ADD `fee` decimal(32,16) AFTER `locked`[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140101175408')[0m
  [1m[35m (42.4ms)[0m  COMMIT
Migrating to AddFunToAccountVersions (20140102024125)
  [1m[36m (1619.1ms)[0m  [1mALTER TABLE `account_versions` ADD `fun` int(11)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140102024125')[0m
  [1m[35m (40.9ms)[0m  COMMIT
Migrating to ActsAsTaggableOnMigration (20140102172835)
  [1m[36m (445.1ms)[0m  [1mCREATE TABLE `tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255)) ENGINE=InnoDB[0m
  [1m[35m (504.6ms)[0m  CREATE TABLE `taggings` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `tag_id` int(11), `taggable_id` int(11), `taggable_type` varchar(255), `tagger_id` int(11), `tagger_type` varchar(255), `context` varchar(128), `created_at` datetime) ENGINE=InnoDB
  [1m[36m (469.5ms)[0m  [1mCREATE INDEX `index_taggings_on_tag_id` ON `taggings` (`tag_id`) [0m
  [1m[35m (528.2ms)[0m  CREATE INDEX `index_taggings_on_taggable_id_and_taggable_type_and_context` ON `taggings` (`taggable_id`, `taggable_type`, `context`) 
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140102172835')
  [1m[36m (40.8ms)[0m  [1mCOMMIT[0m
Migrating to AddMissingUniqueIndices (20140102172836)
  [1m[35m (420.1ms)[0m  CREATE UNIQUE INDEX `index_tags_on_name` ON `tags` (`name`) 
  [1m[36m (177.2ms)[0m  [1mDROP INDEX `index_taggings_on_tag_id` ON `taggings`[0m
  [1m[35m (177.2ms)[0m  DROP INDEX `index_taggings_on_taggable_id_and_taggable_type_and_context` ON `taggings`
  [1m[36m (614.3ms)[0m  [1mCREATE UNIQUE INDEX `taggings_idx` ON `taggings` (`tag_id`, `taggable_id`, `taggable_type`, `context`, `tagger_id`, `tagger_type`) [0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140102172836')[0m
  [1m[35m (91.4ms)[0m  COMMIT
Migrating to DropResetPasswords (20140105034746)
  [1m[36m (238.8ms)[0m  [1mDROP TABLE `reset_passwords`[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140105034746')[0m
  [1m[35m (42.9ms)[0m  COMMIT
Migrating to RenameIdentityIdToMemberId (20140302094520)
  [1m[36m (78.1ms)[0m  [1mALTER TABLE `tokens` CHANGE `identity_id` `member_id` int(11) DEFAULT NULL[0m
  [1m[35m (88.2ms)[0m  ALTER TABLE `two_factors` CHANGE `identity_id` `member_id` int(11) DEFAULT NULL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140302094520')
  [1m[36m (41.7ms)[0m  [1mCOMMIT[0m
Migrating to MigrationDataIdentityIdToMemberId (20140302094729)
  [1m[35m (0.4ms)[0m   DELETE FROM tokens WHERE type = 'ResetPin'

  [1m[36mToken Load (0.5ms)[0m  [1mSELECT `tokens`.* FROM `tokens`[0m
  [1m[35mTwoFactor Load (0.6ms)[0m  SELECT `two_factors`.* FROM `two_factors`
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140302094729')
  [1m[36m (42.9ms)[0m  [1mCOMMIT[0m
Migrating to CreateAuthentications (20140302161905)
  [1m[35m (419.4ms)[0m  CREATE TABLE `authentications` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `provider` varchar(255), `uid` varchar(255), `token` varchar(255), `secret` varchar(255), `member_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (444.0ms)[0m  [1mCREATE INDEX `index_authentications_on_member_id` ON `authentications` (`member_id`) [0m
  [1m[35m (649.7ms)[0m  CREATE INDEX `index_authentications_on_provider_and_uid` ON `authentications` (`provider`, `uid`) 
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140302161905')
  [1m[36m (43.7ms)[0m  [1mCOMMIT[0m
Migrating to AddActivatedToMembers (20140303060739)
  [1m[35m (1231.6ms)[0m  ALTER TABLE `members` ADD `activated` tinyint(1)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140303060739')
  [1m[36m (68.3ms)[0m  [1mCOMMIT[0m
Migrating to RenameIsActiveToActivated (20140303080054)
  [1m[35m (271.4ms)[0m  ALTER TABLE `two_factors` CHANGE `is_active` `activated` tinyint(1) DEFAULT NULL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140303080054')
  [1m[36m (42.2ms)[0m  [1mCOMMIT[0m
Migrating to CreateDocumentsTranslations (20140304015055)
  [1m[35m (446.2ms)[0m  CREATE TABLE `document_translations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `document_id` int(11) NOT NULL, `locale` varchar(255) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (689.1ms)[0m  [1mALTER TABLE `document_translations` ADD `title` varchar(255)[0m
  [1m[35m (666.1ms)[0m  ALTER TABLE `document_translations` ADD `body` text
  [1m[36mDocument Load (0.4ms)[0m  [1mSELECT `documents`.* FROM `documents` ORDER BY `documents`.`id` ASC LIMIT 1000[0m
  [1m[35m (548.2ms)[0m  CREATE INDEX `index_document_translations_on_document_id` ON `document_translations` (`document_id`) 
  [1m[36m (468.9ms)[0m  [1mCREATE INDEX `index_document_translations_on_locale` ON `document_translations` (`locale`) [0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140304015055')[0m
  [1m[35m (50.8ms)[0m  COMMIT
Migrating to CreateIdDocuments (20140306020939)
  [1m[36m (397.3ms)[0m  [1mCREATE TABLE `id_documents` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `category` int(11), `name` varchar(255), `sn` varchar(255), `member_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140306020939')[0m
  [1m[35m (41.7ms)[0m  COMMIT
Migrating to AddVerifiedToIdDocuments (20140306021833)
  [1m[36m (652.8ms)[0m  [1mALTER TABLE `id_documents` ADD `verified` tinyint(1)[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140306021833')[0m
  [1m[35m (41.3ms)[0m  COMMIT
Migrating to AddAasmStateToWithdraws (20140312061206)
  [1m[36m (702.6ms)[0m  [1mALTER TABLE `withdraws` ADD `aasm_state` varchar(255)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140312061206')[0m
  [1m[35m (31.4ms)[0m  COMMIT
Migrating to AddSumToWithdraws (20140312071704)
  [1m[36m (1364.6ms)[0m  [1mALTER TABLE `withdraws` ADD `sum` decimal(32,16)[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140312071704')[0m
  [1m[35m (42.3ms)[0m  COMMIT
Migrating to AddPartialTreeToAccounts (20140319022202)
  [1m[36m (714.0ms)[0m  [1mALTER TABLE `accounts` ADD `partial_tree` text[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140319022202')[0m
  [1m[35m (43.5ms)[0m  COMMIT
Migrating to CreateProofs (20140319022302)
  [1m[36m (420.5ms)[0m  [1mCREATE TABLE `proofs` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `root` varchar(255), `currency` int(11), `ready` tinyint(1) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140319022302')[0m
  [1m[35m (42.0ms)[0m  COMMIT
Migrating to CreateVersions (20140320142701)
  [1m[36m (444.7ms)[0m  [1mCREATE TABLE `versions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `item_type` varchar(255) NOT NULL, `item_id` int(11) NOT NULL, `event` varchar(255) NOT NULL, `whodunnit` varchar(255), `object` text, `created_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (650.2ms)[0m  CREATE INDEX `index_versions_on_item_type_and_item_id` ON `versions` (`item_type`, `item_id`) 
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140320142701')
  [1m[36m (41.5ms)[0m  [1mCOMMIT[0m
Migrating to RenameWithdrawAddressesToFundSources (20140324060148)
  [1m[35m (143.1ms)[0m  RENAME TABLE `withdraw_addresses` TO `fund_sources`
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140324060148')
  [1m[36m (50.3ms)[0m  [1mCOMMIT[0m
Migrating to RenameAddressColumnByWithdraws (20140324062812)
  [1m[35m (641.2ms)[0m  ALTER TABLE `fund_sources` ADD `member_id` int(11) AFTER `id`
  [1m[36m (655.5ms)[0m  [1mALTER TABLE `fund_sources` ADD `currency` int(11) AFTER `member_id`[0m
  [1m[35m (365.3ms)[0m  ALTER TABLE `fund_sources` CHANGE `label` `extra` varchar(255) DEFAULT NULL
  [1m[36m (389.4ms)[0m  [1mALTER TABLE `fund_sources` CHANGE `address` `uid` varchar(255) DEFAULT NULL[0m
  [1m[35m (91.1ms)[0m  ALTER TABLE `withdraws` CHANGE `address` `fund_source_uid` varchar(255) DEFAULT NULL
  [1m[36m (87.3ms)[0m  [1mALTER TABLE `withdraws` CHANGE `address_label` `fund_source_extra` varchar(255) DEFAULT NULL[0m
  [1m[35m (124.2ms)[0m  ALTER TABLE `withdraws` CHANGE `address_type` `withdraw_channel_id` int(11) DEFAULT NULL
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
DEPRECATION WARNING: Relation#all is deprecated. If you want to eager-load a relation, you can call #load (e.g. `Post.where(published: true).load`). If you want to get an array of records from a relation, you can call #to_a (e.g. `Post.where(published: true).to_a`). (called from block (2 levels) in <top (required)> at /home/yuva/Desktop/Arvind/peatio/peatio-master/lib/tasks/migration.rake:23)
  [1m[35mFundSource Load (0.3ms)[0m  SELECT `fund_sources`.* FROM `fund_sources`
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140324062812')
  [1m[36m (43.1ms)[0m  [1mCOMMIT[0m
Migrating to ChangeDeposits (20140326170234)
  [1m[35m (89.8ms)[0m  ALTER TABLE `deposits` CHANGE `address` `fund_source_uid` varchar(255) DEFAULT NULL
  [1m[36m (99.5ms)[0m  [1mALTER TABLE `deposits` CHANGE `address_label` `fund_source_extra` varchar(255) DEFAULT NULL[0m
  [1m[35m (99.8ms)[0m  ALTER TABLE `deposits` CHANGE `address_type` `channel_id` int(11) DEFAULT NULL
  [1m[36m (89.8ms)[0m  [1mALTER TABLE `deposits` CHANGE `tx_id` `txid` varchar(255) DEFAULT NULL[0m
  [1m[35m (677.2ms)[0m  ALTER TABLE `deposits` ADD `fee` decimal(32,16) AFTER `amount`
  [1m[36m (858.8ms)[0m  [1mALTER TABLE `deposits` ADD `aasm_state` varchar(255) AFTER `state`[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140326170234')[0m
  [1m[35m (80.0ms)[0m  COMMIT
Migrating to AddDepositIdToPaymentTransactions (20140326191837)
  [1m[36m (893.8ms)[0m  [1mALTER TABLE `payment_transactions` ADD `aasm_state` varchar(255) AFTER `state`[0m
  [1m[35m (751.8ms)[0m  ALTER TABLE `payment_transactions` ADD `channel_id` int(11) AFTER `aasm_state`
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140326191837')
  [1m[36m (41.8ms)[0m  [1mCOMMIT[0m
Migrating to ChangeWithdraws (20140327044440)
  [1m[35m (101.4ms)[0m  ALTER TABLE `withdraws` CHANGE `withdraw_channel_id` `channel_id` int(11) DEFAULT NULL
  [1m[36m (100.8ms)[0m  [1mALTER TABLE `withdraws` CHANGE `tx_id` `txid` varchar(255) DEFAULT NULL[0m
  [1m[35m (152.7ms)[0m  ALTER TABLE `withdraws` CHANGE `fund_source_uid` `fund_uid` varchar(255) DEFAULT NULL
  [1m[36m (98.4ms)[0m  [1mALTER TABLE `withdraws` CHANGE `fund_source_extra` `fund_extra` varchar(255) DEFAULT NULL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140327044440')[0m
  [1m[35m (39.7ms)[0m  COMMIT
Migrating to AddMemoAndRemoveFundSourceToDeposits (20140327062025)
  [1m[36m (700.8ms)[0m  [1mALTER TABLE `deposits` ADD `memo` varchar(255)[0m
  [1m[35m (127.5ms)[0m  ALTER TABLE `deposits` CHANGE `fund_source_uid` `fund_uid` varchar(255) DEFAULT NULL
  [1m[36m (99.2ms)[0m  [1mALTER TABLE `deposits` CHANGE `fund_source_extra` `fund_extra` varchar(255) DEFAULT NULL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140327062025')[0m
  [1m[35m (50.9ms)[0m  COMMIT
Migrating to RenameFundSourcesCategoryToChannelId (20140327065708)
  [1m[36m (90.2ms)[0m  [1mALTER TABLE `fund_sources` CHANGE `category` `channel_id` int(11) DEFAULT NULL[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140327065708')[0m
  [1m[35m (65.1ms)[0m  COMMIT
Migrating to RemoveFundSourcesAccountId (20140327105217)
  [1m[36m (1087.3ms)[0m  [1mALTER TABLE `fund_sources` DROP `account_id`[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (178.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140327105217')[0m
  [1m[35m (43.9ms)[0m  COMMIT
Migrating to AddTypeToDeposits (20140328101707)
  [1m[36m (700.5ms)[0m  [1mALTER TABLE `deposits` ADD `type` varchar(255)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140328101707')[0m
  [1m[35m (55.1ms)[0m  COMMIT
Migrating to RemoveChannelId (20140329070543)
  [1m[36m (811.1ms)[0m  [1mALTER TABLE `deposits` DROP `channel_id`[0m
  [1m[35m (666.2ms)[0m  ALTER TABLE `payment_transactions` DROP `channel_id`
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140329070543')
  [1m[36m (54.3ms)[0m  [1mCOMMIT[0m
Migrating to FundSourcesIsLockedDefaultToFalse (20140331084541)
  [1m[35m (29.5ms)[0m  ALTER TABLE `fund_sources` CHANGE `is_locked` `is_locked` tinyint(1) DEFAULT 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140331084541')
  [1m[36m (40.9ms)[0m  [1mCOMMIT[0m
Migrating to CreatePartialTrees (20140402043033)
  [1m[35m (432.2ms)[0m  CREATE TABLE `partial_trees` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `proof_id` int(11) NOT NULL, `account_id` int(11) NOT NULL, `json` text NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (728.3ms)[0m  [1mALTER TABLE `accounts` DROP `partial_tree`[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM `proofs`
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140402043033')
  [1m[36m (40.4ms)[0m  [1mCOMMIT[0m
Migrating to CreateAPITokens (20140403031847)
  [1m[35m (457.4ms)[0m  CREATE TABLE `api_tokens` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `member_id` int(11) NOT NULL, `access_key` varchar(50) NOT NULL, `secret_key` varchar(50) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (419.4ms)[0m  [1mCREATE UNIQUE INDEX `index_api_tokens_on_access_key` ON `api_tokens` (`access_key`) [0m
  [1m[35m (495.0ms)[0m  CREATE UNIQUE INDEX `index_api_tokens_on_secret_key` ON `api_tokens` (`secret_key`) 
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140403031847')
  [1m[36m (43.0ms)[0m  [1mCOMMIT[0m
Migrating to AddTypeToWithdraws (20140403070840)
  [1m[35m (703.0ms)[0m  ALTER TABLE `withdraws` ADD `type` varchar(255)
  [1m[36mWithdraw Load (0.4ms)[0m  [1mSELECT `withdraws`.* FROM `withdraws`[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140403070840')[0m
  [1m[35m (85.1ms)[0m  COMMIT
Migrating to AddCurrencyIndexToTrades (20140404074816)
  [1m[36m (470.7ms)[0m  [1mCREATE INDEX `index_trades_on_currency` ON `trades` (`currency`) [0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140404074816')[0m
  [1m[35m (42.5ms)[0m  COMMIT
Migrating to AddAskMemberIdAndBidMemberIdToTrades (20140404101823)
  [1m[36m (1641.9ms)[0m  [1mALTER TABLE `trades` ADD `ask_member_id` int(11)[0m
  [1m[35m (968.6ms)[0m  ALTER TABLE `trades` ADD `bid_member_id` int(11)
  [1m[36m (467.9ms)[0m  [1mCREATE INDEX `index_trades_on_ask_member_id` ON `trades` (`ask_member_id`) [0m
  [1m[35m (482.0ms)[0m  CREATE INDEX `index_trades_on_bid_member_id` ON `trades` (`bid_member_id`) 
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140404101823')
  [1m[36m (103.1ms)[0m  [1mCOMMIT[0m
Migrating to RemoveWithdrawsStateAndChannelId (20140405053744)
  [1m[35m (930.5ms)[0m  ALTER TABLE `withdraws` DROP `channel_id`
  [1m[36m (666.9ms)[0m  [1mALTER TABLE `withdraws` DROP `state`[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140405053744')[0m
  [1m[35m (43.3ms)[0m  COMMIT
Migrating to AddSourceToOrders (20140407011310)
  [1m[36m (655.0ms)[0m  [1mALTER TABLE `orders` ADD `source` varchar(255) NOT NULL[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE `orders` SET `orders`.`source` = 'Web'
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140407011310')
  [1m[36m (44.3ms)[0m  [1mCOMMIT[0m
Migrating to AddCountryCodeToMembers (20140416143239)
  [1m[35m (653.2ms)[0m  ALTER TABLE `members` ADD `country_code` int(11)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140416143239')
  [1m[36m (42.9ms)[0m  [1mCOMMIT[0m
Migrating to AddPhoneNumberToMembers (20140416143352)
  [1m[35m (1053.2ms)[0m  ALTER TABLE `members` ADD `phone_number` varchar(255)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140416143352')
  [1m[36m (91.0ms)[0m  [1mCOMMIT[0m
Migrating to AddPhoneNumberVerifiedToMembers (20140416151403)
  [1m[35m (1026.9ms)[0m  ALTER TABLE `members` ADD `phone_number_verified` tinyint(1)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140416151403')
  [1m[36m (43.9ms)[0m  [1mCOMMIT[0m
Migrating to RemoveTableInvitations (20140416194209)
  [1m[35m (179.0ms)[0m  DROP TABLE `invitations`
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140416194209')
  [1m[36m (42.9ms)[0m  [1mCOMMIT[0m
Migrating to RemoveTableMembersTrades (20140416194300)
  [1m[35m (143.9ms)[0m  DROP TABLE `members_trades`
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140416194300')
  [1m[36m (42.8ms)[0m  [1mCOMMIT[0m
Migrating to AddSumToProofs (20140418082715)
  [1m[35m (699.3ms)[0m  ALTER TABLE `proofs` ADD `sum` varchar(255)
  [1m[36m (616.6ms)[0m  [1mALTER TABLE `partial_trees` ADD `sum` varchar(255)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140418082715')[0m
  [1m[35m (43.4ms)[0m  COMMIT
Migrating to AddIndexOnAccounts (20140421061712)
  [1m[36m (541.3ms)[0m  [1mCREATE INDEX `index_accounts_on_member_id_and_currency` ON `accounts` (`member_id`, `currency`) [0m
  [1m[35m (444.2ms)[0m  CREATE INDEX `index_accounts_on_member_id` ON `accounts` (`member_id`) 
  [1m[36m (15.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140421061712')
  [1m[36m (61.8ms)[0m  [1mCOMMIT[0m
Migrating to AddTypeToTwoFactors (20140421080408)
  [1m[35m (641.9ms)[0m  ALTER TABLE `two_factors` ADD `type` varchar(255)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140421080408')
  [1m[36m (77.2ms)[0m  [1mCOMMIT[0m
Migrating to AddDescAndKeywordToDocuments (20140428203350)
  [1m[35m (1280.7ms)[0m  ALTER TABLE `documents` ADD `desc` text
  [1m[36m (749.7ms)[0m  [1mALTER TABLE `documents` ADD `keywords` text[0m
  [1m[35m (1209.0ms)[0m  ALTER TABLE `document_translations` ADD `desc` text
  [1m[36m (1806.5ms)[0m  [1mALTER TABLE `document_translations` ADD `keywords` text[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140428203350')[0m
  [1m[35m (96.8ms)[0m  COMMIT
Migrating to AddAddressesToProofs (20140507120249)
  [1m[36m (1122.6ms)[0m  [1mALTER TABLE `proofs` ADD `addresses` text[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140507120249')[0m
  [1m[35m (42.5ms)[0m  COMMIT
Migrating to AddOrdTypeToOrders (20140524014413)
  [1m[36m (654.4ms)[0m  [1mALTER TABLE `orders` ADD `ord_type` varchar(10)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140524014413')[0m
  [1m[35m (43.3ms)[0m  COMMIT
Migrating to AddLockedToOrders (20140530133210)
  [1m[36m (665.2ms)[0m  [1mALTER TABLE `orders` ADD `locked` decimal(32,16)[0m
  [1m[35m (666.1ms)[0m  ALTER TABLE `orders` ADD `origin_locked` decimal(32,16)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140530133210')
  [1m[36m (89.6ms)[0m  [1mCOMMIT[0m
Migrating to AddUsedFundsToTrades (20140531054739)
  [1m[35m (1944.4ms)[0m  ALTER TABLE `trades` ADD `funds` decimal(32,16)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (68.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140531054739')
  [1m[36m (58.7ms)[0m  [1mCOMMIT[0m
Migrating to AddDisplaynameToMembers (20140618004355)
  [1m[35m (726.4ms)[0m  ALTER TABLE `members` ADD `display_name` varchar(255) AFTER `name`
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140618004355')
  [1m[36m (53.8ms)[0m  [1mCOMMIT[0m
Migrating to AddBalanceToProofs (20140702035833)
  [1m[35m (652.4ms)[0m  ALTER TABLE `proofs` ADD `balance` varchar(30)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20140702035833')
  [1m[36m (109.7ms)[0m  [1mCOMMIT[0m
Migrating to AddOrderIdIndicesToTrades (20140703065321)
  [1m[35m (533.4ms)[0m  CREATE INDEX `index_trades_on_ask_id` ON `trades` (`ask_id`) 
  [1m[36m (867.0ms)[0m  [1mCREATE INDEX `index_trades_on_bid_id` ON `trades` (`bid_id`) [0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140703065321')[0m
  [1m[35m (93.5ms)[0m  COMMIT
Migrating to AddFundsReceivedToOrders (20140703070953)
  [1m[36m (746.7ms)[0m  [1mALTER TABLE `orders` ADD `funds_received` decimal(32,16) DEFAULT 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140703070953')[0m
  [1m[35m (41.0ms)[0m  COMMIT
Migrating to CreateCredits (20140718090409)
  [1m[36m (468.4ms)[0m  [1mCREATE TABLE `credits` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `amount` decimal, `currency` varchar(255), `member_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20140718090409')[0m
  [1m[35m (40.5ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mIdentity Load (0.5ms)[0m  SELECT `identities`.* FROM `identities` WHERE `identities`.`email` = 'admin@peatio.dev' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mIdentity Exists (0.5ms)[0m  SELECT 1 AS one FROM `identities` WHERE `identities`.`email` = BINARY 'admin@peatio.dev' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mIdentity Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `identities` WHERE `identities`.`email` = BINARY 'admin@peatio.dev' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `identities` (`created_at`, `email`, `is_active`, `password_digest`, `updated_at`) VALUES ('2014-07-18 19:25:44', 'admin@peatio.dev', 1, '$2a$10$JKxEhLRbAsF6twgaWrYYLeZ43QuhlUhe1.MhQw5rqMJOh1hKh5JDW', '2014-07-18 19:25:44')
  [1m[36m (49.2ms)[0m  [1mCOMMIT[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`email` = 'admin@peatio.dev' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `members` WHERE `members`.`sn` = 'PEAS4UN7JNFTIO'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `members` (`created_at`, `email`, `sn`, `updated_at`) VALUES ('2014-07-18 19:25:44', 'admin@peatio.dev', 'PEAS4UN7JNFTIO', '2014-07-18 19:25:44')[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1
  [1m[36mAccount Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `accounts` WHERE (`accounts`.`member_id` = BINARY 1 AND `accounts`.`currency` = 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `created_at`, `currency`, `locked`, `member_id`, `updated_at`) VALUES (0.0, '2014-07-18 19:25:44', 1, 0.0, 1, '2014-07-18 19:25:44')
  [1m[36mAccount Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `accounts` WHERE (`accounts`.`member_id` = BINARY 1 AND `accounts`.`currency` = 2) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `created_at`, `currency`, `locked`, `member_id`, `updated_at`) VALUES (0.0, '2014-07-18 19:25:44', 2, 0.0, 1, '2014-07-18 19:25:44')
  [1m[36m (107.1ms)[0m  [1mCOMMIT[0m
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `members` SET `name` = 'admin', `identity_id` = 1, `updated_at` = '2014-07-18 19:25:44' WHERE `members`.`id` = 1[0m
  [1m[35m (68.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mIdentity Exists (0.3ms)[0m  SELECT 1 AS one FROM `identities` WHERE `identities`.`email` = BINARY 'foo@peatio.dev' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `identities` (`created_at`, `email`, `is_active`, `password_digest`, `updated_at`) VALUES ('2014-07-18 19:25:44', 'foo@peatio.dev', 1, '$2a$10$qrPDeHs4PthxGKVzSL1TJeKDUp9yXoz/ktb32ryiR6/muAShPGZCG', '2014-07-18 19:25:44')[0m
  [1m[35m (91.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `members` WHERE `members`.`sn` = 'PEAZR7CUUPSTIO'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `members` (`created_at`, `email`, `identity_id`, `name`, `sn`, `updated_at`) VALUES ('2014-07-18 19:25:44', 'foo@peatio.dev', 2, 'foo', 'PEAZR7CUUPSTIO', '2014-07-18 19:25:44')[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2
  [1m[36mAccount Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `accounts` WHERE (`accounts`.`member_id` = BINARY 2 AND `accounts`.`currency` = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `accounts` (`balance`, `created_at`, `currency`, `locked`, `member_id`, `updated_at`) VALUES (0.0, '2014-07-18 19:25:44', 1, 0.0, 2, '2014-07-18 19:25:44')
  [1m[36mAccount Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `accounts` WHERE (`accounts`.`member_id` = BINARY 2 AND `accounts`.`currency` = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `accounts` (`balance`, `created_at`, `currency`, `locked`, `member_id`, `updated_at`) VALUES (0.0, '2014-07-18 19:25:44', 2, 0.0, 2, '2014-07-18 19:25:44')
  [1m[36m (70.9ms)[0m  [1mCOMMIT[0m
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 2 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mActsAsTaggableOn::Tag Load (1.6ms)[0m  SELECT `tags`.* FROM `tags` WHERE (LOWER(name) = LOWER('vip') OR LOWER(name) = LOWER('hero'))
  [1m[36mActsAsTaggableOn::Tag Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `tags` WHERE `tags`.`name` = BINARY 'vip' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `tags` (`name`) VALUES ('vip')
  [1m[36mActsAsTaggableOn::Tag Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `tags` WHERE `tags`.`name` = BINARY 'hero' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `tags` (`name`) VALUES ('hero')
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 2 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)[0m
  [1m[35mActsAsTaggableOn::Tagging Exists (0.4ms)[0m  SELECT 1 AS one FROM `taggings` WHERE (`taggings`.`tag_id` = BINARY 1 AND `taggings`.`taggable_type` = 'Member' AND `taggings`.`taggable_id` = 2 AND `taggings`.`context` = 'tags' AND `taggings`.`tagger_id` IS NULL AND `taggings`.`tagger_type` IS NULL) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `taggings` (`context`, `created_at`, `tag_id`, `taggable_id`, `taggable_type`) VALUES ('tags', '2014-07-18 19:25:45', 1, 2, 'Member')[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT `tags`.* FROM `tags` WHERE `tags`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE `tags`.`id` = 1[0m
Mysql2::Error: Unknown column 'taggings_count' in 'field list': UPDATE `tags` SET `taggings_count` = COALESCE(`taggings_count`, 0) + 1 WHERE `tags`.`id` = 1
  [1m[35m (45.7ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mIdentity Load (0.4ms)[0m  SELECT `identities`.* FROM `identities` WHERE `identities`.`email` = 'admin@peatio.dev' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mIdentity Exists (0.6ms)[0m  SELECT 1 AS one FROM `identities` WHERE (`identities`.`email` = BINARY 'admin@peatio.dev' AND `identities`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `identities` SET `password_digest` = '$2a$10$1DMliD4PSGMd83Wj8cs7UeLdcE/Wet628IFj3iMRW/NEAcJ3ZcUBO', `updated_at` = '2014-07-18 19:31:30' WHERE `identities`.`id` = 1[0m
  [1m[35m (100.3ms)[0m  COMMIT
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`email` = 'admin@peatio.dev' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mIdentity Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `identities` WHERE `identities`.`email` = BINARY 'foo@peatio.dev' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `members` WHERE `members`.`sn` = 'PEAKZJJLRVBTIO'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `members` (`created_at`, `email`, `name`, `sn`, `updated_at`) VALUES ('2014-07-18 19:31:30', 'foo@peatio.dev', 'foo', 'PEAKZJJLRVBTIO', '2014-07-18 19:31:30')[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 3
  [1m[36mAccount Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `accounts` WHERE (`accounts`.`member_id` = BINARY 3 AND `accounts`.`currency` = 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `created_at`, `currency`, `locked`, `member_id`, `updated_at`) VALUES (0.0, '2014-07-18 19:31:30', 1, 0.0, 3, '2014-07-18 19:31:30')
  [1m[36mAccount Exists (0.6ms)[0m  [1mSELECT 1 AS one FROM `accounts` WHERE (`accounts`.`member_id` = BINARY 3 AND `accounts`.`currency` = 2) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `accounts` (`balance`, `created_at`, `currency`, `locked`, `member_id`, `updated_at`) VALUES (0.0, '2014-07-18 19:31:30', 2, 0.0, 3, '2014-07-18 19:31:30')
  [1m[36m (111.8ms)[0m  [1mCOMMIT[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 3 LIMIT 1
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mIdentity Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `identities` WHERE `identities`.`email` = BINARY 'bar@peatio.dev' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `identities` (`created_at`, `email`, `is_active`, `password_digest`, `updated_at`) VALUES ('2014-07-18 19:31:31', 'bar@peatio.dev', 1, '$2a$10$iV4W1B/Bx9BSjsxc1vcpn.NHaoTWvLsDKUTCuHshC6cf7lUHRagY.', '2014-07-18 19:31:31')
  [1m[36m (56.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `members` WHERE `members`.`sn` = 'PEAVDA22IGVTIO'[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `members` (`created_at`, `email`, `identity_id`, `name`, `sn`, `updated_at`) VALUES ('2014-07-18 19:31:31', 'bar@peatio.dev', 3, 'bar', 'PEAVDA22IGVTIO', '2014-07-18 19:31:31')
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 4[0m
  [1m[35mAccount Exists (0.4ms)[0m  SELECT 1 AS one FROM `accounts` WHERE (`accounts`.`member_id` = BINARY 4 AND `accounts`.`currency` = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `accounts` (`balance`, `created_at`, `currency`, `locked`, `member_id`, `updated_at`) VALUES (0.0, '2014-07-18 19:31:31', 1, 0.0, 4, '2014-07-18 19:31:31')[0m
  [1m[35mAccount Exists (0.3ms)[0m  SELECT 1 AS one FROM `accounts` WHERE (`accounts`.`member_id` = BINARY 4 AND `accounts`.`currency` = 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `accounts` (`balance`, `created_at`, `currency`, `locked`, `member_id`, `updated_at`) VALUES (0.0, '2014-07-18 19:31:31', 2, 0.0, 4, '2014-07-18 19:31:31')[0m
  [1m[35m (67.7ms)[0m  COMMIT
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 4 LIMIT 1[0m
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 4 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT


Started GET "/signin" for 127.0.0.1 at 2014-07-18 19:33:25 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by SessionsController#new as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:33:25')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  Rendered sessions/new.html.slim within layouts/frame (31.0ms)
  Rendered shared/_flash.slim (5.5ms)
  Rendered shared/_html5.html.slim (10.6ms)
  Rendered shared/_meta.html.slim (3.2ms)
  Rendered shared/_browser.html.slim (3.0ms)
  Rendered shared/_pusher.html.slim (3.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  Rendered shared/_menu.html.slim (13.9ms)
  Rendered shared/_header.html.slim (21.8ms)
  Rendered shared/_footer.html.slim (20.2ms)
  Rendered layouts/application.html.slim (357.7ms)
Completed 200 OK in 479ms (Views: 419.3ms | ActiveRecord: 5.6ms)


Started GET "/signin" for 127.0.0.1 at 2014-07-18 19:33:26 +0530
Processing by SessionsController#new as HTML
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:33:26')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  Rendered sessions/new.html.slim within layouts/frame (5.6ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.3ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  Rendered shared/_menu.html.slim (5.9ms)
  Rendered shared/_header.html.slim (7.5ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (27.0ms)
Completed 200 OK in 54ms (Views: 36.3ms | ActiveRecord: 0.9ms)


Started POST "/auth/identity/callback" for 127.0.0.1 at 2014-07-18 19:33:43 +0530
(identity) Callback phase initiated.
  [1m[35mIdentity Load (0.4ms)[0m  SELECT `identities`.* FROM `identities` WHERE `identities`.`email` = 'foo@peatio.dev' ORDER BY `identities`.`id` ASC LIMIT 1
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Y09X/5HVG6bxt8NKFvGfOeU500S9PQs2DpgHMHt3H6Q=", "auth_key"=>"foo@peatio.dev", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:33:43')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36mAuthentication Load (0.7ms)[0m  [1mSELECT `authentications`.* FROM `authentications` WHERE `authentications`.`provider` = 'identity' AND `authentications`.`uid` = '2' LIMIT 1[0m
  [1m[35mMember Load (12.6ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`email` = 'foo@peatio.dev' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mAuthentication Exists (0.5ms)[0m  SELECT 1 AS one FROM `authentications` WHERE (`authentications`.`provider` = BINARY 'identity' AND `authentications`.`member_id` = 2) LIMIT 1
  [1m[36mAuthentication Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `authentications` WHERE (`authentications`.`uid` = BINARY '2' AND `authentications`.`provider` = 'identity') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `authentications` (`created_at`, `member_id`, `provider`, `uid`, `updated_at`) VALUES ('2014-07-18 19:33:44', 2, 'identity', '2', '2014-07-18 19:33:44')
  [1m[36m (58.6ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/verify/two_factor/new
Completed 302 Found in 179ms (ActiveRecord: 75.7ms)


Started GET "/verify/two_factor/new" for 127.0.0.1 at 2014-07-18 19:33:44 +0530
Processing by Verify::TwoFactorsController#new as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:33:44')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
Redirected to http://localhost:3000/settings
Completed 302 Found in 18ms (ActiveRecord: 1.6ms)


Started GET "/settings" for 127.0.0.1 at 2014-07-18 19:33:44 +0530
Processing by Private::SettingsController#index as HTML
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:33:44')
  [1m[36mTwoFactor Load (0.5ms)[0m  [1mSELECT `two_factors`.* FROM `two_factors` WHERE `two_factors`.`member_id` = 2 AND `two_factors`.`type` = 'TwoFactor::App' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mTwoFactor Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `two_factors` WHERE (`two_factors`.`type` = BINARY 'TwoFactor::App' AND `two_factors`.`member_id` = 2) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `two_factors` (`member_id`, `type`) VALUES (2, 'TwoFactor::App')
  [1m[36m (47.7ms)[0m  [1mCOMMIT[0m
  [1m[35mIdDocument Load (0.5ms)[0m  SELECT `id_documents`.* FROM `id_documents` WHERE `id_documents`.`member_id` = 2 LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2[0m
  Rendered private/settings/_account_balance.html.slim (21.4ms)
  [1m[35mAuthentication Load (0.6ms)[0m  SELECT `authentications`.* FROM `authentications` WHERE `authentications`.`member_id` = 2 AND `authentications`.`provider` = 'identity' LIMIT 1
  [1m[36mIdentity Load (0.5ms)[0m  [1mSELECT `identities`.* FROM `identities` WHERE `identities`.`id` = 2 LIMIT 1[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 2 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)
  Rendered private/settings/index.html.slim within layouts/frame (88.1ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (13.6ms)
  Rendered shared/_header.html.slim (15.4ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (35.1ms)
Completed 200 OK in 301ms (Views: 133.1ms | ActiveRecord: 80.6ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 19:33:56 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:33:56')
  [1m[36mTrade Load (0.7ms)[0m  [1mSELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:33:56') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:33:56')
  [1m[36mOrder Load (0.7ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.6ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 2 or bid_member_id = 2) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (7.3ms)
  Rendered private/markets/_account_balance.html.slim (4.2ms)
  Rendered private/markets/_price_chart.html.slim (2.8ms)
  Rendered private/markets/_place_order.html.slim (30.5ms)
  Rendered private/markets/_market_trades.html.slim (5.8ms)
  Rendered private/markets/_order_book.html.slim (3.6ms)
  Rendered private/markets/_my_orders.html.slim (8.4ms)
  Rendered private/markets/show.html.slim within layouts/market (93.3ms)
  Rendered shared/_footer_col24.html.slim (22.9ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.0ms)
  Rendered shared/_header.html.slim (4.7ms)
  Rendered layouts/application.html.slim (69.9ms)
Completed 200 OK in 310ms (Views: 199.5ms | ActiveRecord: 6.4ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-18 19:33:57 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (1.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36mTrade Load (4.3ms)[0m  [1mSELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:33:57') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC[0m
  Rendered api/v1/prices/show.jbuilder (1.0ms)
Completed 200 OK in 27ms (Views: 13.9ms | ActiveRecord: 5.7ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-18 19:33:58 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38842.230807", "channel_name"=>"private-PEAZR7CUUPSTIO"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:33:58')[0m
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 0.9ms)


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-18 19:34:12 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"100.00", "origin_volume"=>"100", "total"=>"10000.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:34:12')[0m
Unpermitted parameters: total
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-18 19:34:12', 3, 10000.0, 2, 'limit', 10000.0, 100.0, 100.0, 'Web', 100, 'OrderBid', '2014-07-18 19:34:12', 100.0)
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (21.3ms)[0m  [1mupdate accounts set balance = balance + -10000.0, locked = locked + 10000.0 where id = 3[0m
  [1m[35m (69.8ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,2,3,1,'Order',10000.0,-10000.0,'2014-07-18 19:34:12','2014-07-18 19:34:12' FROM `accounts` WHERE `accounts`.`id` = 3 AND `accounts`.`balance` = -10000.0 AND `accounts`.`locked` = 10000.0
  [1m[36m (195.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 382ms (Views: 0.1ms | ActiveRecord: 289.3ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 19:34:14 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:34:14')[0m
  [1m[35mTrade Load (0.8ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:34:14') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:34:14')[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 2 or bid_member_id = 2) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.6ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.2ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (12.7ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.5ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.3ms)
  Rendered shared/_menu.html.slim (4.4ms)
  Rendered shared/_header.html.slim (7.1ms)
  Rendered layouts/application.html.slim (38.3ms)
Completed 200 OK in 101ms (Views: 54.7ms | ActiveRecord: 3.8ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-18 19:34:15 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.8ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35mTrade Load (0.6ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:34:15') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 117ms (Views: 108.6ms | ActiveRecord: 1.4ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-18 19:34:17 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38802.265038", "channel_name"=>"private-PEAZR7CUUPSTIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:34:17')
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 0.7ms)


Started GET "/settings" for 127.0.0.1 at 2014-07-18 19:34:24 +0530
Processing by Private::SettingsController#index as HTML
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:34:24')
  [1m[36mTwoFactor Load (0.5ms)[0m  [1mSELECT `two_factors`.* FROM `two_factors` WHERE `two_factors`.`member_id` = 2 AND `two_factors`.`type` = 'TwoFactor::App' LIMIT 1[0m
  [1m[35mIdDocument Load (0.3ms)[0m  SELECT `id_documents`.* FROM `id_documents` WHERE `id_documents`.`member_id` = 2 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2[0m
  Rendered private/settings/_account_balance.html.slim (5.1ms)
  [1m[35mAuthentication Load (0.6ms)[0m  SELECT `authentications`.* FROM `authentications` WHERE `authentications`.`member_id` = 2 AND `authentications`.`provider` = 'identity' LIMIT 1
  [1m[36mIdentity Load (0.4ms)[0m  [1mSELECT `identities`.* FROM `identities` WHERE `identities`.`id` = 2 LIMIT 1[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 2 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)
  Rendered private/settings/index.html.slim within layouts/frame (21.1ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (2.9ms)
  Rendered shared/_header.html.slim (4.6ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (24.8ms)
Completed 200 OK in 70ms (Views: 47.6ms | ActiveRecord: 3.8ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 19:49:31 +0530
  [1m[36mActiveRecord::SchemaMigration Load (49.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.8ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (1.7ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:49:32')[0m
  [1m[35mTrade Load (0.7ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:49:32') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:49:32')[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 2 or bid_member_id = 2) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.8ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (5.7ms)
  Rendered private/markets/_account_balance.html.slim (3.4ms)
  Rendered private/markets/_price_chart.html.slim (2.3ms)
  Rendered private/markets/_place_order.html.slim (50.6ms)
  Rendered private/markets/_market_trades.html.slim (6.0ms)
  Rendered private/markets/_order_book.html.slim (3.0ms)
  Rendered private/markets/_my_orders.html.slim (7.7ms)
  Rendered private/markets/show.html.slim within layouts/market (126.8ms)
  Rendered shared/_footer_col24.html.slim (69.3ms)
  Rendered shared/_html5.html.slim (12.6ms)
  Rendered shared/_meta.html.slim (3.1ms)
  Rendered shared/_browser.html.slim (2.8ms)
  Rendered shared/_pusher.html.slim (3.0ms)
  Rendered shared/_menu.html.slim (21.2ms)
  Rendered shared/_header.html.slim (29.4ms)
  Rendered layouts/application.html.slim (455.5ms)
Completed 200 OK in 1236ms (Views: 680.0ms | ActiveRecord: 12.8ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 19:49:33 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.6ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:49:33')
  [1m[36mTrade Load (0.5ms)[0m  [1mSELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:49:33') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:49:33')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 2 or bid_member_id = 2) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.8ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.5ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.3ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (2.9ms)
  Rendered shared/_header.html.slim (4.7ms)
  Rendered layouts/application.html.slim (22.3ms)
Completed 200 OK in 79ms (Views: 35.8ms | ActiveRecord: 3.9ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 19:49:33 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:49:33')[0m
  [1m[35mTrade Load (0.6ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:49:33') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:49:33')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 2 or bid_member_id = 2) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.9ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (2.9ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.1ms)
  Rendered shared/_footer_col24.html.slim (0.0ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (4.3ms)
  Rendered shared/_header.html.slim (6.3ms)
  Rendered layouts/application.html.slim (24.1ms)
Completed 200 OK in 92ms (Views: 38.0ms | ActiveRecord: 3.8ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 19:49:33 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:49:33')
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:49:33') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:49:33')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.6ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 2 or bid_member_id = 2) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.2ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.7ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.9ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.1ms)
  Rendered shared/_header.html.slim (4.9ms)
  Rendered layouts/application.html.slim (24.3ms)
Completed 200 OK in 82ms (Views: 39.0ms | ActiveRecord: 4.3ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-18 19:49:35 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36mTrade Load (1.1ms)[0m  [1mSELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:49:35') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC[0m
  Rendered api/v1/prices/show.jbuilder (0.6ms)
Completed 200 OK in 88ms (Views: 78.7ms | ActiveRecord: 1.5ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-18 19:49:41 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38860.227385", "channel_name"=>"private-PEAZR7CUUPSTIO"}
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:49:41')[0m
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 19:50:15 +0530
  [1m[36mActiveRecord::SchemaMigration Load (389.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (54.8ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (83.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:50:16')[0m
  [1m[35mTrade Load (33.6ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:50:16') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:50:16')[0m
  [1m[35mOrder Load (135.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (23.7ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 2 or bid_member_id = 2) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (31.8ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (5.8ms)
  Rendered private/markets/_account_balance.html.slim (3.3ms)
  Rendered private/markets/_price_chart.html.slim (2.4ms)
  Rendered private/markets/_place_order.html.slim (22.0ms)
  Rendered private/markets/_market_trades.html.slim (3.3ms)
  Rendered private/markets/_order_book.html.slim (2.7ms)
  Rendered private/markets/_my_orders.html.slim (7.3ms)
  Rendered private/markets/show.html.slim within layouts/market (72.8ms)
  Rendered shared/_footer_col24.html.slim (55.4ms)
  Rendered shared/_html5.html.slim (11.3ms)
  Rendered shared/_meta.html.slim (3.0ms)
  Rendered shared/_browser.html.slim (2.4ms)
  Rendered shared/_pusher.html.slim (2.8ms)
  Rendered shared/_menu.html.slim (23.3ms)
  Rendered shared/_header.html.slim (30.0ms)
  Rendered layouts/application.html.slim (230.1ms)
Completed 200 OK in 1002ms (Views: 371.6ms | ActiveRecord: 435.4ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-18 19:50:18 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38862.226632", "channel_name"=>"private-PEAZR7CUUPSTIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:50:18')
  Rendered text template (0.0ms)
Completed 403 Forbidden in 167ms (Views: 153.3ms | ActiveRecord: 0.7ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-18 19:50:20 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35mTrade Load (2.6ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:50:20') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  Rendered api/v1/prices/show.jbuilder (2.3ms)
Completed 200 OK in 28ms (Views: 14.2ms | ActiveRecord: 3.0ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-18 19:50:22 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38869.234393", "channel_name"=>"private-PEAL5Z3NJJ4TIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:50:22')
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/settings" for 127.0.0.1 at 2014-07-18 19:51:45 +0530
Processing by Private::SettingsController#index as HTML
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:51:45')
  [1m[36mTwoFactor Load (91.3ms)[0m  [1mSELECT `two_factors`.* FROM `two_factors` WHERE `two_factors`.`member_id` = 2 AND `two_factors`.`type` = 'TwoFactor::App' LIMIT 1[0m
  [1m[35mIdDocument Load (83.3ms)[0m  SELECT `id_documents`.* FROM `id_documents` WHERE `id_documents`.`member_id` = 2 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2[0m
  Rendered private/settings/_account_balance.html.slim (11.1ms)
  [1m[35mAuthentication Load (38.3ms)[0m  SELECT `authentications`.* FROM `authentications` WHERE `authentications`.`member_id` = 2 AND `authentications`.`provider` = 'identity' LIMIT 1
  [1m[36mIdentity Load (19.1ms)[0m  [1mSELECT `identities`.* FROM `identities` WHERE `identities`.`id` = 2 LIMIT 1[0m
  [1m[35mActsAsTaggableOn::Tag Load (27.9ms)[0m  SELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 2 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)
  Rendered private/settings/index.html.slim within layouts/frame (273.5ms)
  Rendered shared/_flash.slim (5.4ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (4.2ms)
  Rendered shared/_header.html.slim (6.1ms)
  Rendered shared/_footer.html.slim (7.2ms)
  Rendered layouts/application.html.slim (69.3ms)
Completed 200 OK in 596ms (Views: 228.3ms | ActiveRecord: 307.7ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 19:51:54 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (1.1ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:51:54')
  [1m[36mTrade Load (0.8ms)[0m  [1mSELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:51:54') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:51:54')
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 2 or bid_member_id = 2) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.4ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  Rendered private/markets/_price_chart.html.slim (0.2ms)
  Rendered private/markets/_place_order.html.slim (12.2ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (21.5ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.3ms)
  Rendered shared/_menu.html.slim (3.5ms)
  Rendered shared/_header.html.slim (5.4ms)
  Rendered layouts/application.html.slim (23.0ms)
Completed 200 OK in 149ms (Views: 47.9ms | ActiveRecord: 4.8ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-18 19:51:55 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36mTrade Load (2.3ms)[0m  [1mSELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:51:55') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 23ms (Views: 13.7ms | ActiveRecord: 2.6ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-18 19:51:56 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38826.232664", "channel_name"=>"private-PEAL5Z3NJJ4TIO"}
  [1m[35mMember Load (0.7ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (1.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:51:56')[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 2.0ms)


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-18 19:52:04 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"10.00", "origin_volume"=>"10", "total"=>"100.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:52:04')[0m
Unpermitted parameters: total
  [1m[35mTrade Load (15.1ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (176.7ms)[0m  INSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-18 19:52:04', 3, 100.0, 2, 'limit', 100.0, 10.0, 10.0, 'Web', 100, 'OrderBid', '2014-07-18 19:52:04', 10.0)
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (31.3ms)[0m  [1mupdate accounts set balance = balance + -100.0, locked = locked + 100.0 where id = 3[0m
  [1m[35m (253.0ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,2,3,13,'Order',100.0,-100.0,'2014-07-18 19:52:04','2014-07-18 19:52:04' FROM `accounts` WHERE `accounts`.`id` = 3 AND `accounts`.`balance` = -100.0 AND `accounts`.`locked` = 100.0
  [1m[36m (163.8ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 733ms (Views: 0.2ms | ActiveRecord: 642.0ms)


Started GET "/settings" for 127.0.0.1 at 2014-07-18 19:52:06 +0530
Processing by Private::SettingsController#index as HTML
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:52:06')[0m
  [1m[35mTwoFactor Load (0.4ms)[0m  SELECT `two_factors`.* FROM `two_factors` WHERE `two_factors`.`member_id` = 2 AND `two_factors`.`type` = 'TwoFactor::App' LIMIT 1
  [1m[36mIdDocument Load (0.3ms)[0m  [1mSELECT `id_documents`.* FROM `id_documents` WHERE `id_documents`.`member_id` = 2 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2
  Rendered private/settings/_account_balance.html.slim (5.2ms)
  [1m[36mAuthentication Load (0.5ms)[0m  [1mSELECT `authentications`.* FROM `authentications` WHERE `authentications`.`member_id` = 2 AND `authentications`.`provider` = 'identity' LIMIT 1[0m
  [1m[35mIdentity Load (0.4ms)[0m  SELECT `identities`.* FROM `identities` WHERE `identities`.`id` = 2 LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 2 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)[0m
  Rendered private/settings/index.html.slim within layouts/frame (22.2ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.9ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.2ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.2ms)
  Rendered shared/_header.html.slim (5.5ms)
  Rendered shared/_footer.html.slim (0.2ms)
  Rendered layouts/application.html.slim (27.1ms)
Completed 200 OK in 75ms (Views: 52.3ms | ActiveRecord: 3.3ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 19:52:12 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:52:12')[0m
  [1m[35mTrade Load (1.4ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:52:12') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:52:12')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 2 or bid_member_id = 2) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.4ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (11.0ms)
  Rendered shared/_footer_col24.html.slim (0.0ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (2.9ms)
  Rendered shared/_header.html.slim (4.5ms)
  Rendered layouts/application.html.slim (22.6ms)
Completed 200 OK in 93ms (Views: 38.4ms | ActiveRecord: 4.6ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-18 19:52:13 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35mTrade Load (3.4ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:52:13') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 25ms (Views: 14.1ms | ActiveRecord: 3.7ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-18 19:52:14 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38827.232241", "channel_name"=>"private-PEAL5Z3NJJ4TIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (1.2ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:52:14')
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 1.6ms)


Started POST "/markets/btccny/order_asks" for 127.0.0.1 at 2014-07-18 19:52:23 +0530
Processing by Private::OrderAsksController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_ask"=>{"ord_type"=>"limit", "price"=>"10.00", "origin_volume"=>"10", "total"=>"100.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.6ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:52:23')
Unpermitted parameters: total
  [1m[36mTrade Load (0.7ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (70.6ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-18 19:52:23', 3, 10.0, 2, 'limit', 10.0, 10.0, 10.0, 'Web', 100, 'OrderAsk', '2014-07-18 19:52:23', 10.0)[0m
  [1m[35mMember Load (0.6ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (101.1ms)[0m  update accounts set balance = balance + -10.0, locked = locked + 10.0 where id = 4
  [1m[36m (0.7ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,2,2,4,14,'Order',10.0,-10.0,'2014-07-18 19:52:23','2014-07-18 19:52:23' FROM `accounts` WHERE `accounts`.`id` = 4 AND `accounts`.`balance` = -10.0 AND `accounts`.`locked` = 10.0[0m
  [1m[35m (81.9ms)[0m  COMMIT
Completed 200 OK in 301ms (Views: 0.2ms | ActiveRecord: 257.2ms)


Started GET "/settings" for 127.0.0.1 at 2014-07-18 19:52:25 +0530
Processing by Private::SettingsController#index as HTML
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:52:25')
  [1m[36mTwoFactor Load (0.5ms)[0m  [1mSELECT `two_factors`.* FROM `two_factors` WHERE `two_factors`.`member_id` = 2 AND `two_factors`.`type` = 'TwoFactor::App' LIMIT 1[0m
  [1m[35mIdDocument Load (0.4ms)[0m  SELECT `id_documents`.* FROM `id_documents` WHERE `id_documents`.`member_id` = 2 LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2[0m
  Rendered private/settings/_account_balance.html.slim (5.3ms)
  [1m[35mAuthentication Load (2.6ms)[0m  SELECT `authentications`.* FROM `authentications` WHERE `authentications`.`member_id` = 2 AND `authentications`.`provider` = 'identity' LIMIT 1
  [1m[36mIdentity Load (0.7ms)[0m  [1mSELECT `identities`.* FROM `identities` WHERE `identities`.`id` = 2 LIMIT 1[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 2 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)
  Rendered private/settings/index.html.slim within layouts/frame (27.0ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (1.0ms)
  Rendered shared/_meta.html.slim (0.5ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (14.3ms)
  Rendered shared/_header.html.slim (16.5ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (37.3ms)
Completed 200 OK in 109ms (Views: 64.3ms | ActiveRecord: 6.3ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 19:52:42 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:52:42')
  [1m[36mTrade Load (0.9ms)[0m  [1mSELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:52:42') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:52:42')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 2 or bid_member_id = 2) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.6ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.0ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.7ms)
  Rendered private/markets/show.html.slim within layouts/market (12.8ms)
  Rendered shared/_footer_col24.html.slim (0.0ms)
  Rendered shared/_html5.html.slim (0.9ms)
  Rendered shared/_meta.html.slim (0.6ms)
  Rendered shared/_browser.html.slim (0.3ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (2.9ms)
  Rendered shared/_header.html.slim (4.9ms)
  Rendered layouts/application.html.slim (25.5ms)
Completed 200 OK in 94ms (Views: 42.3ms | ActiveRecord: 3.8ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-18 19:52:43 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36mTrade Load (0.8ms)[0m  [1mSELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:52:43') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 52ms (Views: 43.9ms | ActiveRecord: 1.2ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-18 19:52:44 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38827.232301", "channel_name"=>"private-PEAL5Z3NJJ4TIO"}
  [1m[35mMember Load (1.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:52:44')[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 1.4ms)


Started POST "/markets/btccny/order_asks" for 127.0.0.1 at 2014-07-18 19:53:08 +0530
Processing by Private::OrderAsksController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_ask"=>{"ord_type"=>"limit", "price"=>"9.00", "origin_volume"=>"10", "total"=>"90.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:53:08')[0m
Unpermitted parameters: total
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (32.3ms)[0m  INSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-18 19:53:08', 3, 10.0, 2, 'limit', 10.0, 10.0, 9.0, 'Web', 100, 'OrderAsk', '2014-07-18 19:53:08', 10.0)
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (95.2ms)[0m  [1mupdate accounts set balance = balance + -10.0, locked = locked + 10.0 where id = 4[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,2,2,4,15,'Order',10.0,-10.0,'2014-07-18 19:53:08','2014-07-18 19:53:08' FROM `accounts` WHERE `accounts`.`id` = 4 AND `accounts`.`balance` = -20.0 AND `accounts`.`locked` = 20.0
  [1m[36m (124.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 293ms (Views: 0.1ms | ActiveRecord: 254.4ms)


Started GET "/settings" for 127.0.0.1 at 2014-07-18 19:53:11 +0530
Processing by Private::SettingsController#index as HTML
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:53:11')[0m
  [1m[35mTwoFactor Load (0.4ms)[0m  SELECT `two_factors`.* FROM `two_factors` WHERE `two_factors`.`member_id` = 2 AND `two_factors`.`type` = 'TwoFactor::App' LIMIT 1
  [1m[36mIdDocument Load (0.3ms)[0m  [1mSELECT `id_documents`.* FROM `id_documents` WHERE `id_documents`.`member_id` = 2 LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2
  Rendered private/settings/_account_balance.html.slim (5.3ms)
  [1m[36mAuthentication Load (0.4ms)[0m  [1mSELECT `authentications`.* FROM `authentications` WHERE `authentications`.`member_id` = 2 AND `authentications`.`provider` = 'identity' LIMIT 1[0m
  [1m[35mIdentity Load (0.5ms)[0m  SELECT `identities`.* FROM `identities` WHERE `identities`.`id` = 2 LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 2 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)[0m
  Rendered private/settings/index.html.slim within layouts/frame (25.4ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (1.1ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.3ms)
  Rendered shared/_menu.html.slim (3.4ms)
  Rendered shared/_header.html.slim (6.0ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (25.5ms)
Completed 200 OK in 72ms (Views: 52.9ms | ActiveRecord: 3.8ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 19:53:20 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:53:20')[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:53:20') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:53:20')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 2 or bid_member_id = 2) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.3ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (11.3ms)
  Rendered shared/_footer_col24.html.slim (0.0ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.2ms)
  Rendered shared/_header.html.slim (5.2ms)
  Rendered layouts/application.html.slim (24.0ms)
Completed 200 OK in 85ms (Views: 38.6ms | ActiveRecord: 3.9ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-18 19:53:21 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35mTrade Load (0.7ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:53:21') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 22ms (Views: 9.2ms | ActiveRecord: 1.1ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-18 19:53:22 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38849.232754", "channel_name"=>"private-PEAL5Z3NJJ4TIO"}
  [1m[36mMember Load (0.6ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:53:22')
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 0.9ms)


Started POST "/markets/btccny/order_asks" for 127.0.0.1 at 2014-07-18 19:54:03 +0530
Processing by Private::OrderAsksController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_ask"=>{"ord_type"=>"limit", "price"=>"-2.00", "origin_volume"=>"-111.0000", "total"=>"222.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:54:03')
Unpermitted parameters: total
  [1m[36mTrade Load (0.9ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
Member id=2 failed to submit order: invalid price
{"utf8"=>"âœ“", "order_ask"=>{"ord_type"=>"limit", "price"=>"-2.00", "origin_volume"=>"-111.0000", "total"=>"222.00", "bid"=>"cny", "ask"=>"btc", "state"=>"wait", "currency"=>"btccny", "member_id"=>2, "volume"=>"-111.0000", "source"=>"Web"}, "action"=>"create", "controller"=>"private/order_asks", "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
/home/yuva/Desktop/Arvind/peatio/peatio-master/app/services/ordering.rb:56:in `check_price!'
/home/yuva/Desktop/Arvind/peatio/peatio-master/app/services/ordering.rb:15:in `submit'
/home/yuva/Desktop/Arvind/peatio/peatio-master/app/controllers/concerns/order_creation.rb:20:in `order_submit'
/home/yuva/Desktop/Arvind/peatio/peatio-master/app/controllers/private/order_asks_controller.rb:7:in `create'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.8/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.8/lib/abstract_controller/base.rb:189:in `process_action'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.8/lib/action_controller/metal/rendering.rb:10:in `process_action'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.8/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.8/lib/active_support/callbacks.rb:453:in `_run__404831166__process_action__callbacks'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.8/lib/active_support/callbacks.rb:80:in `run_callbacks'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.8/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.8/lib/action_controller/metal/rescue.rb:29:in `process_action'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.8/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.8/lib/active_support/notifications.rb:159:in `block in instrument'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.8/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/activesupport-4.0.8/lib/active_support/notifications.rb:159:in `instrument'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.8/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.8/lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/activerecord-4.0.8/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/home/yuva/.rvm/gems/ruby-2.1.2/gems/actionpack-4.0.8/lib/abstract_controller/base.rb:136:in `process'
Completed 500 Internal Server Error in 22ms (Views: 0.1ms | ActiveRecord: 1.7ms)


Started POST "/markets/btccny/order_asks" for 127.0.0.1 at 2014-07-18 19:54:10 +0530
Processing by Private::OrderAsksController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_ask"=>{"ord_type"=>"limit", "price"=>"4.00", "origin_volume"=>"4", "total"=>"16.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:54:10')[0m
Unpermitted parameters: total
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (14.6ms)[0m  INSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-18 19:54:10', 3, 4.0, 2, 'limit', 4.0, 4.0, 4.0, 'Web', 100, 'OrderAsk', '2014-07-18 19:54:10', 4.0)
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35mAccount Load (1.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.8ms)[0m  [1mupdate accounts set balance = balance + -4.0, locked = locked + 4.0 where id = 4[0m
  [1m[35m (0.8ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,2,2,4,16,'Order',4.0,-4.0,'2014-07-18 19:54:10','2014-07-18 19:54:10' FROM `accounts` WHERE `accounts`.`id` = 4 AND `accounts`.`balance` = -24.0 AND `accounts`.`locked` = 24.0
  [1m[36m (70.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 128ms (Views: 0.2ms | ActiveRecord: 90.3ms)


Started GET "/signup" for 127.0.0.1 at 2014-07-18 19:57:33 +0530
Processing by IdentitiesController#new as HTML
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 5 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:57:34')[0m
Redirected to http://localhost:3000/
Filter chain halted as :auth_anybody! rendered or redirected
Completed 302 Found in 34ms (ActiveRecord: 2.9ms)


Started GET "/" for 127.0.0.1 at 2014-07-18 19:57:35 +0530
Processing by WelcomeController#index as HTML
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 5 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:57:35')[0m
Redirected to http://localhost:3000/markets/btccny
Completed 302 Found in 13ms (ActiveRecord: 0.7ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 19:57:35 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 5 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:57:35')[0m
  [1m[35mTrade Load (2.8ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:57:35') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:57:35')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 5 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.3ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 5 or bid_member_id = 5) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 5 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 5 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 5 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.3ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (12.1ms)
  Rendered shared/_footer_col24.html.slim (0.6ms)
  Rendered shared/_html5.html.slim (0.9ms)
  Rendered shared/_meta.html.slim (0.6ms)
  Rendered shared/_browser.html.slim (0.2ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (4.0ms)
  Rendered shared/_header.html.slim (6.5ms)
  Rendered layouts/application.html.slim (25.4ms)
Completed 200 OK in 625ms (Views: 42.9ms | ActiveRecord: 66.5ms)


Started GET "/" for 127.0.0.1 at 2014-07-18 19:57:40 +0530
Processing by WelcomeController#index as HTML
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:57:40')
Redirected to http://localhost:3000/markets/btccny
Completed 302 Found in 118ms (ActiveRecord: 0.7ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 19:57:40 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:57:40')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:57:40')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.3ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 2 or bid_member_id = 2) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.3ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.4ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.3ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (11.0ms)
  Rendered shared/_footer_col24.html.slim (0.0ms)
  Rendered shared/_html5.html.slim (0.7ms)
  Rendered shared/_meta.html.slim (0.3ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (2.8ms)
  Rendered shared/_header.html.slim (4.5ms)
  Rendered layouts/application.html.slim (21.1ms)
Completed 200 OK in 71ms (Views: 35.2ms | ActiveRecord: 2.6ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-18 19:57:42 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 14ms (Views: 8.8ms | ActiveRecord: 0.4ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-18 19:57:43 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38816.242805", "channel_name"=>"private-PEAL5Z3NJJ4TIO"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:57:43')[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-18 19:57:44 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 5 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.2ms)
Completed 200 OK in 15ms (Views: 9.5ms | ActiveRecord: 0.3ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-18 19:57:46 +0530
Processing by Private::PusherController#auth as HTML
  Parameters: {"socket_id"=>"38861.228179", "channel_name"=>"private-PEAR7DMLXO5TIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 5 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:57:46')
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-18 19:57:50 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"23.00", "origin_volume"=>"23", "total"=>"529.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.6ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (1.2ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:57:50')
Unpermitted parameters: total
  [1m[36mTrade Load (2.1ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (18.3ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-18 19:57:50', 3, 529.0, 2, 'limit', 529.0, 23.0, 23.0, 'Web', 100, 'OrderBid', '2014-07-18 19:57:50', 23.0)[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36mAccount Load (2.2ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (14.4ms)[0m  update accounts set balance = balance + -529.0, locked = locked + 529.0 where id = 3
  [1m[36m (0.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,2,3,17,'Order',529.0,-529.0,'2014-07-18 19:57:50','2014-07-18 19:57:50' FROM `accounts` WHERE `accounts`.`id` = 3 AND `accounts`.`balance` = -629.0 AND `accounts`.`locked` = 629.0[0m
  [1m[35m (90.6ms)[0m  COMMIT
Completed 200 OK in 293ms (Views: 0.2ms | ActiveRecord: 130.4ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 19:58:04 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:58:04')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:58:04')[0m
  [1m[35mOrder Load (1.3ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 2 or bid_member_id = 2) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.0ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.8ms)
  Rendered private/markets/show.html.slim within layouts/market (11.0ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.1ms)
  Rendered shared/_header.html.slim (5.4ms)
  Rendered layouts/application.html.slim (22.7ms)
Completed 200 OK in 79ms (Views: 37.4ms | ActiveRecord: 4.3ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-18 19:58:05 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 13ms (Views: 7.8ms | ActiveRecord: 0.3ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-18 19:58:06 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38816.242837", "channel_name"=>"private-PEAL5Z3NJJ4TIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:58:06')[0m
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started GET "/credits/new" for 127.0.0.1 at 2014-07-18 19:58:07 +0530
Processing by CreditsController#new as HTML
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:58:07')[0m
  Rendered credits/_form.html.erb (32.8ms)
  [1m[35mCredit Load (48.6ms)[0m  SELECT `credits`.* FROM `credits` WHERE `credits`.`member_id` = 2
  Rendered credits/new.html.erb within layouts/frame (92.4ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.6ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (2.7ms)
  Rendered shared/_header.html.slim (4.9ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (28.4ms)
Completed 200 OK in 189ms (Views: 80.1ms | ActiveRecord: 91.0ms)


Started GET "/deposits" for 127.0.0.1 at 2014-07-18 19:58:09 +0530
Processing by Private::DepositsController#index as HTML
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:58:09')
  Rendered private/deposits/index.html.slim within layouts/frame (5.9ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.7ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.0ms)
  Rendered shared/_header.html.slim (5.0ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (22.7ms)
Completed 200 OK in 48ms (Views: 32.6ms | ActiveRecord: 1.2ms)


Started GET "/withdraws" for 127.0.0.1 at 2014-07-18 19:58:12 +0530
Processing by Private::WithdrawsController#index as HTML
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:58:12')
Redirected to http://localhost:3000/settings
Filter chain halted as :auth_activated! rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)


Started GET "/settings" for 127.0.0.1 at 2014-07-18 19:58:12 +0530
Processing by Private::SettingsController#index as HTML
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:58:12')
  [1m[36mTwoFactor Load (0.4ms)[0m  [1mSELECT `two_factors`.* FROM `two_factors` WHERE `two_factors`.`member_id` = 2 AND `two_factors`.`type` = 'TwoFactor::App' LIMIT 1[0m
  [1m[35mIdDocument Load (0.4ms)[0m  SELECT `id_documents`.* FROM `id_documents` WHERE `id_documents`.`member_id` = 2 LIMIT 1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2[0m
  Rendered private/settings/_account_balance.html.slim (6.5ms)
  [1m[35mAuthentication Load (0.5ms)[0m  SELECT `authentications`.* FROM `authentications` WHERE `authentications`.`member_id` = 2 AND `authentications`.`provider` = 'identity' LIMIT 1
  [1m[36mIdentity Load (0.4ms)[0m  [1mSELECT `identities`.* FROM `identities` WHERE `identities`.`id` = 2 LIMIT 1[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 2 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)
  Rendered private/settings/index.html.slim within layouts/frame (69.0ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (1.0ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (2.8ms)
  Rendered shared/_header.html.slim (4.5ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (25.8ms)
Completed 200 OK in 154ms (Views: 94.5ms | ActiveRecord: 19.2ms)


Started GET "/exchange_assets" for 127.0.0.1 at 2014-07-18 19:58:14 +0530
Processing by Private::AssetsController#index as HTML
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:58:14')
Redirected to http://localhost:3000/settings
Filter chain halted as :auth_activated! rendered or redirected
Completed 302 Found in 13ms (ActiveRecord: 1.0ms)


Started GET "/settings" for 127.0.0.1 at 2014-07-18 19:58:14 +0530
Processing by Private::SettingsController#index as HTML
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:58:14')
  [1m[36mTwoFactor Load (0.5ms)[0m  [1mSELECT `two_factors`.* FROM `two_factors` WHERE `two_factors`.`member_id` = 2 AND `two_factors`.`type` = 'TwoFactor::App' LIMIT 1[0m
  [1m[35mIdDocument Load (0.4ms)[0m  SELECT `id_documents`.* FROM `id_documents` WHERE `id_documents`.`member_id` = 2 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2[0m
  Rendered private/settings/_account_balance.html.slim (5.4ms)
  [1m[35mAuthentication Load (0.7ms)[0m  SELECT `authentications`.* FROM `authentications` WHERE `authentications`.`member_id` = 2 AND `authentications`.`provider` = 'identity' LIMIT 1
  [1m[36mIdentity Load (0.5ms)[0m  [1mSELECT `identities`.* FROM `identities` WHERE `identities`.`id` = 2 LIMIT 1[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 2 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)
  Rendered private/settings/index.html.slim within layouts/frame (24.4ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.7ms)
  Rendered shared/_meta.html.slim (0.3ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (2.9ms)
  Rendered shared/_header.html.slim (4.6ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (23.7ms)
Completed 200 OK in 70ms (Views: 49.4ms | ActiveRecord: 4.1ms)


Started GET "/history/orders" for 127.0.0.1 at 2014-07-18 19:58:17 +0530
Processing by Private::HistoryController#orders as HTML
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:58:17')
  [1m[36mOrder Load (0.7ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 ORDER BY id desc LIMIT 20 OFFSET 0[0m
  [1m[35mTrade Load (22.9ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`bid_id` IN (17, 13)
  [1m[36mTrade Load (0.8ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`ask_id` IN (16, 15, 14)[0m
  Rendered private/history/_order.html.slim (7.3ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `orders` WHERE `orders`.`member_id` = 2
  Rendered private/history/orders.html.slim within layouts/application (102.2ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (4.5ms)
  Rendered shared/_header.html.slim (6.6ms)
  Rendered shared/_footer.html.slim (0.1ms)
Completed 200 OK in 142ms (Views: 104.6ms | ActiveRecord: 25.4ms)


Started GET "/history/account" for 127.0.0.1 at 2014-07-18 19:58:20 +0530
Processing by Private::HistoryController#account as HTML
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:58:20')
  [1m[36mDeposit Load (57.6ms)[0m  [1mSELECT `deposits`.* FROM `deposits` WHERE `deposits`.`member_id` = 2 AND `deposits`.`aasm_state` = 'accepted'[0m
  [1m[35mWithdraw Load (55.4ms)[0m  SELECT `withdraws`.* FROM `withdraws` WHERE `withdraws`.`member_id` = 2 AND `withdraws`.`aasm_state` = 'done'
  Rendered private/history/account.html.slim within layouts/application (11.4ms)
  Rendered shared/_html5.html.slim (0.7ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.9ms)
  Rendered shared/_header.html.slim (6.4ms)
  Rendered shared/_footer.html.slim (0.1ms)
Completed 200 OK in 222ms (Views: 38.8ms | ActiveRecord: 153.5ms)


Started GET "/history/trades" for 127.0.0.1 at 2014-07-18 19:58:22 +0530
Processing by Private::HistoryController#trades as HTML
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:58:22')
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE (bid_member_id = 2 OR ask_member_id = 2) ORDER BY id desc LIMIT 20 OFFSET 0[0m
  Rendered private/history/_trade.html.slim (0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `trades` WHERE (bid_member_id = 2 OR ask_member_id = 2)
  Rendered private/history/trades.html.slim within layouts/application (15.8ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.1ms)
  Rendered shared/_header.html.slim (5.1ms)
  Rendered shared/_footer.html.slim (0.1ms)
Completed 200 OK in 53ms (Views: 40.9ms | ActiveRecord: 1.9ms)


Started GET "/history/orders" for 127.0.0.1 at 2014-07-18 19:58:24 +0530
Processing by Private::HistoryController#orders as HTML
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:58:24')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 ORDER BY id desc LIMIT 20 OFFSET 0[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`bid_id` IN (17, 13)
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`ask_id` IN (16, 15, 14)[0m
  Rendered private/history/_order.html.slim (3.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `orders` WHERE `orders`.`member_id` = 2
  Rendered private/history/orders.html.slim within layouts/application (24.4ms)
  Rendered shared/_html5.html.slim (0.9ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (2.8ms)
  Rendered shared/_header.html.slim (4.6ms)
  Rendered shared/_footer.html.slim (0.0ms)
Completed 200 OK in 64ms (Views: 51.7ms | ActiveRecord: 2.8ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 19:58:29 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:58:29')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:58:29')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.3ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 2 or bid_member_id = 2) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.7ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.2ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.2ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.9ms)
  Rendered private/markets/show.html.slim within layouts/market (10.4ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (1.0ms)
  Rendered shared/_meta.html.slim (0.8ms)
  Rendered shared/_browser.html.slim (0.2ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.0ms)
  Rendered shared/_header.html.slim (4.7ms)
  Rendered layouts/application.html.slim (23.7ms)
Completed 200 OK in 93ms (Views: 37.4ms | ActiveRecord: 3.3ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-18 19:58:30 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 16ms (Views: 8.5ms | ActiveRecord: 0.4ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-18 19:58:31 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38819.241673", "channel_name"=>"private-PEAL5Z3NJJ4TIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 19:58:31')[0m
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 20:01:35 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 20:01:35')[0m
  [1m[35mTrade Load (0.6ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 20:01:35') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 20:01:35')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.3ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 2 or bid_member_id = 2) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.4ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  Rendered private/markets/_price_chart.html.slim (0.2ms)
  Rendered private/markets/_place_order.html.slim (4.1ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (1.9ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (15.0ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (4.1ms)
  Rendered shared/_header.html.slim (6.6ms)
  Rendered layouts/application.html.slim (24.7ms)
Completed 200 OK in 92ms (Views: 43.2ms | ActiveRecord: 3.9ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-18 20:01:36 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 16ms (Views: 10.3ms | ActiveRecord: 0.4ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-18 20:01:38 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38866.221646", "channel_name"=>"private-PEAL5Z3NJJ4TIO"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 20:01:38')[0m
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 20:01:52 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 20:01:52')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 20:01:52')
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 2 or bid_member_id = 2) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.4ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.4ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (2.9ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (16.7ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (1.0ms)
  Rendered shared/_meta.html.slim (0.5ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.2ms)
  Rendered shared/_header.html.slim (5.2ms)
  Rendered layouts/application.html.slim (24.4ms)
Completed 200 OK in 92ms (Views: 45.1ms | ActiveRecord: 3.9ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-18 20:01:53 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 12ms (Views: 7.6ms | ActiveRecord: 0.4ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-18 20:01:54 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38871.234889", "channel_name"=>"private-PEAL5Z3NJJ4TIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 20:01:54')
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 0.9ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 20:04:16 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 20:04:17')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 20:04:17')[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.5ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 2 or bid_member_id = 2) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.6ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (2.9ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (14.2ms)
  Rendered shared/_footer_col24.html.slim (0.7ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (2.8ms)
  Rendered shared/_header.html.slim (4.4ms)
  Rendered layouts/application.html.slim (22.1ms)
Completed 200 OK in 170ms (Views: 41.2ms | ActiveRecord: 9.8ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-18 20:04:19 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (1.8ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.2ms)
Completed 200 OK in 12ms (Views: 5.9ms | ActiveRecord: 1.8ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-18 20:04:21 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38837.229441", "channel_name"=>"private-PEAL5Z3NJJ4TIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 20:04:21')[0m
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 20:06:33 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 20:06:35')[0m
  [1m[35mTrade Load (0.6ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 20:06:35') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 20:06:35')[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 2 or bid_member_id = 2) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.2ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.0ms)
  Rendered shared/_footer_col24.html.slim (0.6ms)
  Rendered shared/_html5.html.slim (1.0ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.2ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.5ms)
  Rendered shared/_header.html.slim (5.6ms)
  Rendered layouts/application.html.slim (24.7ms)
Completed 200 OK in 177ms (Views: 38.9ms | ActiveRecord: 11.0ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-18 20:06:36 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 18ms (Views: 9.6ms | ActiveRecord: 0.4ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-18 20:06:38 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38819.242317", "channel_name"=>"private-PEAL5Z3NJJ4TIO"}
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 20:06:38')[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 1.0ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 20:07:37 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 20:07:38')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 20:07:38')
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 2 or bid_member_id = 2) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (3.7ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (4.6ms)
  Rendered private/markets/_market_trades.html.slim (0.3ms)
  Rendered private/markets/_order_book.html.slim (0.2ms)
  Rendered private/markets/_my_orders.html.slim (0.7ms)
  Rendered private/markets/show.html.slim within layouts/market (13.7ms)
  Rendered shared/_footer_col24.html.slim (0.5ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.1ms)
  Rendered shared/_header.html.slim (5.0ms)
  Rendered layouts/application.html.slim (23.0ms)
Completed 200 OK in 177ms (Views: 41.2ms | ActiveRecord: 12.1ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-18 20:07:40 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 16ms (Views: 8.5ms | ActiveRecord: 0.4ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-18 20:07:42 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38839.229332", "channel_name"=>"private-PEAL5Z3NJJ4TIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 20:07:42')
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-18 20:08:59 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 20:09:00')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 20:09:00')
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 2 or bid_member_id = 2) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 2 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 2 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (7.0ms)
  Rendered private/markets/_account_balance.html.slim (3.7ms)
  Rendered private/markets/_price_chart.html.slim (2.7ms)
  Rendered private/markets/_place_order.html.slim (24.7ms)
  Rendered private/markets/_market_trades.html.slim (3.8ms)
  Rendered private/markets/_order_book.html.slim (2.8ms)
  Rendered private/markets/_my_orders.html.slim (8.4ms)
  Rendered private/markets/show.html.slim within layouts/market (79.8ms)
  Rendered shared/_footer_col24.html.slim (8.3ms)
  Rendered shared/_html5.html.slim (10.4ms)
  Rendered shared/_meta.html.slim (3.4ms)
  Rendered shared/_browser.html.slim (2.9ms)
  Rendered shared/_pusher.html.slim (3.0ms)
  Rendered shared/_menu.html.slim (12.1ms)
  Rendered shared/_header.html.slim (19.5ms)
  Rendered layouts/application.html.slim (234.7ms)
Completed 200 OK in 551ms (Views: 336.9ms | ActiveRecord: 26.1ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-18 20:09:01 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.5ms)
Completed 200 OK in 21ms (Views: 12.5ms | ActiveRecord: 0.4ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-18 20:09:04 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38830.230645", "channel_name"=>"private-PEAL5Z3NJJ4TIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-17 20:09:04')
Completed 200 OK in 17ms (Views: 1.6ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2014-07-21 11:34:20 +0530
  [1m[36mActiveRecord::SchemaMigration Load (18.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36m (40.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-20 11:34:20')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  Rendered welcome/index.html.slim within layouts/landing (43.4ms)
  Rendered shared/_html5.html.slim (12.6ms)
  Rendered shared/_meta.html.slim (3.3ms)
  Rendered shared/_browser.html.slim (3.1ms)
  Rendered shared/_footer.html.slim (16.5ms)
Completed 200 OK in 996ms (Views: 763.6ms | ActiveRecord: 77.2ms)


Started GET "/signin" for 127.0.0.1 at 2014-07-21 11:34:25 +0530
Processing by SessionsController#new as HTML
  [1m[36mMember Load (1.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-20 11:34:25')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  Rendered sessions/new.html.slim within layouts/frame (36.7ms)
  Rendered shared/_flash.slim (5.6ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (3.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  Rendered shared/_menu.html.slim (25.3ms)
  Rendered shared/_header.html.slim (55.8ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (85.4ms)
Completed 200 OK in 296ms (Views: 216.5ms | ActiveRecord: 21.7ms)


Started POST "/auth/identity/callback" for 127.0.0.1 at 2014-07-21 11:34:30 +0530
(identity) Callback phase initiated.
  [1m[35mIdentity Load (0.4ms)[0m  SELECT `identities`.* FROM `identities` WHERE `identities`.`email` = 'arvindyuvasoft112@gmail.com' ORDER BY `identities`.`id` ASC LIMIT 1
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"kg4/R8PONJF4TOFaTenw15YTL39bE2MjYq61vmei9j8=", "auth_key"=>"arvindyuvasoft112@gmail.com", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-20 11:34:30')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1
  [1m[36mAuthentication Load (57.4ms)[0m  [1mSELECT `authentications`.* FROM `authentications` WHERE `authentications`.`provider` = 'identity' AND `authentications`.`uid` = '17' LIMIT 1[0m
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 17 LIMIT 1
Redirected to http://localhost:3000/verify/two_factor/new
Completed 302 Found in 230ms (ActiveRecord: 91.1ms)


Started GET "/verify/two_factor/new" for 127.0.0.1 at 2014-07-21 11:34:31 +0530
Processing by Verify::TwoFactorsController#new as HTML
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-20 11:34:31')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` IS NULL LIMIT 1[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 17 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 17 LIMIT 1[0m
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 17 LIMIT 1
  Rendered member_mailer/notify_signin.text.erb (0.5ms)

Sent mail to arvindyuvasoft112@gmail.com (6064.5ms)
Date: Mon, 21 Jul 2014 11:34:31 +0530
From: example@peatio.com
To: arvindyuvasoft112@gmail.com
Message-ID: <53ccad6f57126_c0e71395009073d@yuva-System-Product-Name.mail>
Subject: You have just signed in
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

You have just signed in.

If it's not you, please contact us ASAP.

Redirected to http://localhost:3000/settings
Completed 302 Found in 6209ms (ActiveRecord: 1.7ms)


Started GET "/settings" for 127.0.0.1 at 2014-07-21 11:34:37 +0530
Processing by Private::SettingsController#index as HTML
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 17 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-20 11:34:37')
  [1m[36mTwoFactor Load (0.4ms)[0m  [1mSELECT `two_factors`.* FROM `two_factors` WHERE `two_factors`.`member_id` = 17 AND `two_factors`.`type` = 'TwoFactor::App' LIMIT 1[0m
  [1m[35mIdDocument Load (0.4ms)[0m  SELECT `id_documents`.* FROM `id_documents` WHERE `id_documents`.`member_id` = 17 LIMIT 1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 17[0m
  Rendered private/settings/_account_balance.html.slim (23.5ms)
  [1m[35mAuthentication Load (0.7ms)[0m  SELECT `authentications`.* FROM `authentications` WHERE `authentications`.`member_id` = 17 AND `authentications`.`provider` = 'identity' LIMIT 1
  [1m[36mIdentity Load (0.5ms)[0m  [1mSELECT `identities`.* FROM `identities` WHERE `identities`.`id` = 17 LIMIT 1[0m
  [1m[35mActsAsTaggableOn::Tag Load (22.0ms)[0m  SELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 17 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)
  Rendered private/settings/index.html.slim within layouts/frame (176.1ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (1.0ms)
  Rendered shared/_meta.html.slim (0.5ms)
  Rendered shared/_browser.html.slim (0.2ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (17.9ms)
  Rendered shared/_header.html.slim (20.5ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (45.2ms)
Completed 200 OK in 481ms (Views: 200.9ms | ActiveRecord: 168.4ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-21 11:34:42 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 17 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-20 11:34:42')
  [1m[36mTrade Load (27.2ms)[0m  [1mSELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-20 11:34:42') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-20 11:34:42')
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 17 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (7.1ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 17 or bid_member_id = 17) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 17 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 17 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 17 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (8.0ms)
  Rendered private/markets/_account_balance.html.slim (3.9ms)
  Rendered private/markets/_price_chart.html.slim (2.5ms)
  Rendered private/markets/_place_order.html.slim (32.1ms)
  Rendered private/markets/_market_trades.html.slim (3.7ms)
  Rendered private/markets/_order_book.html.slim (3.0ms)
  Rendered private/markets/_my_orders.html.slim (8.3ms)
  Rendered private/markets/show.html.slim within layouts/market (88.5ms)
  Rendered shared/_footer_col24.html.slim (7.3ms)
  Rendered shared/_html5.html.slim (0.7ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (2.9ms)
  Rendered shared/_header.html.slim (4.5ms)
  Rendered layouts/application.html.slim (69.3ms)
Completed 200 OK in 345ms (Views: 197.1ms | ActiveRecord: 39.3ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-21 11:34:43 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 17 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.4ms)
Completed 200 OK in 33ms (Views: 26.5ms | ActiveRecord: 0.3ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-21 11:34:44 +0530
Processing by Private::PusherController#auth as HTML
  Parameters: {"socket_id"=>"38860.456977", "channel_name"=>"private-PEAN3HSSFBGTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 17 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-20 11:34:44')
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36mOrder Load (26.1ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`state` = 100 AND `orders`.`currency` = 3 ORDER BY id asc[0m
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderAsk Load (25.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 4 LIMIT 1 FOR UPDATE
  [1m[36mOrderBid Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 7 LIMIT 1 FOR UPDATE[0m
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36mSQL (149.3ms)[0m  [1mINSERT INTO `trades` (`ask_id`, `ask_member_id`, `bid_id`, `bid_member_id`, `created_at`, `currency`, `funds`, `price`, `trend`, `updated_at`, `volume`) VALUES (4, 1, 7, 1, '2014-07-23 16:56:46', 3, 1892.0, 44.0, 1, '2014-07-23 16:56:46', 43.0)[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -1892.0 where id = 1
  [1m[36m (0.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-1892.0,1,1,1,2,'Trade',-1892.0,0.0,'2014-07-23 16:56:48','2014-07-23 16:56:48' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -24684.0 AND `accounts`.`locked` = 22792.0[0m
  [1m[35mAccount Load (0.3ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mupdate accounts set balance = balance + 43.0, locked = locked + 0 where id = 2[0m
  [1m[35m (0.6ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,43.0,2,1,2,2,'Trade',0.0,43.0,'2014-07-23 16:56:48','2014-07-23 16:56:48' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -89.0 AND `accounts`.`locked` = 132.0
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  update accounts set balance = balance + 21070.0, locked = locked + -21070.0 where id = 1
  [1m[36m (0.3ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 1,0.0,620,-1892.0,1,1,1,2,'Trade',-21070.0,21070.0,'2014-07-23 16:56:48','2014-07-23 16:56:48' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -3614.0 AND `accounts`.`locked` = 1722.0[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `orders` SET `volume` = 0.0, `locked` = 21070.0, `funds_received` = 43.0, `state` = 200, `updated_at` = '2014-07-23 16:56:48' WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 7
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.3ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mupdate accounts set balance = balance + 0.0, locked = locked + -43.0 where id = 2[0m
  [1m[35m (0.3ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,0.0,2,1,2,2,'Trade',-43.0,0.0,'2014-07-23 16:56:48','2014-07-23 16:56:48' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -89.0 AND `accounts`.`locked` = 89.0
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  update accounts set balance = balance + 1892.0, locked = locked + 0 where id = 1
  [1m[36m (0.3ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,0.0,1,1,1,2,'Trade',0.0,1892.0,'2014-07-23 16:56:48','2014-07-23 16:56:48' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -1722.0 AND `accounts`.`locked` = 1722.0[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `orders` SET `volume` = 13.0, `locked` = 13.0, `funds_received` = 1892.0, `updated_at` = '2014-07-23 16:56:48' WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 4
  [1m[36m (163.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderAsk Load (0.3ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 9 LIMIT 1 FOR UPDATE[0m
  [1m[35mOrderBid Load (0.3ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 3 LIMIT 1 FOR UPDATE
  [1m[36mTrade Load (0.3ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35mSQL (8.5ms)[0m  INSERT INTO `trades` (`ask_id`, `ask_member_id`, `bid_id`, `bid_member_id`, `created_at`, `currency`, `funds`, `price`, `trend`, `updated_at`, `volume`) VALUES (9, 1, 3, 1, '2014-07-23 16:56:48', 3, 1089.0, 33.0, 0, '2014-07-23 16:56:48', 33.0)
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.3ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mupdate accounts set balance = balance + 0.0, locked = locked + -1089.0 where id = 1[0m
  [1m[35m (0.3ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-1089.0,1,1,1,3,'Trade',-1089.0,0.0,'2014-07-23 16:56:48','2014-07-23 16:56:48' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -1722.0 AND `accounts`.`locked` = 633.0
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  update accounts set balance = balance + 33.0, locked = locked + 0 where id = 2
  [1m[36m (0.3ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,33.0,2,1,2,3,'Trade',0.0,33.0,'2014-07-23 16:56:48','2014-07-23 16:56:48' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -56.0 AND `accounts`.`locked` = 89.0[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `orders` SET `volume` = 7.0, `locked` = 271.0, `funds_received` = 37.0, `updated_at` = '2014-07-23 16:56:48' WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 3
  [1m[36mMember Load (0.2ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.3ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mupdate accounts set balance = balance + 0.0, locked = locked + -33.0 where id = 2[0m
  [1m[35m (0.3ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,0.0,2,1,2,3,'Trade',-33.0,0.0,'2014-07-23 16:56:48','2014-07-23 16:56:48' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -56.0 AND `accounts`.`locked` = 56.0
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  update accounts set balance = balance + 1089.0, locked = locked + 0 where id = 1
  [1m[36m (0.3ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,0.0,1,1,1,3,'Trade',0.0,1089.0,'2014-07-23 16:56:48','2014-07-23 16:56:48' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -633.0 AND `accounts`.`locked` = 633.0[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `orders` SET `volume` = 0.0, `locked` = 0.0, `funds_received` = 1089.0, `state` = 200, `updated_at` = '2014-07-23 16:56:48' WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 9
  [1m[36m (81.0ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:58:10')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:58:13')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:58:16')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:58:19')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:58:22')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:58:25')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:58:28')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:58:32')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:58:35')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:58:38')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:58:41')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:58:44')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:58:47')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:58:50')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:58:53')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:58:56')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:58:59')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:02')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:05')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:08')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:11')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:14')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:17')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:20')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:23')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:26')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:29')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:32')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:35')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:38')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:41')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:44')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:47')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:50')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:53')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 16:59:54 +0530
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:56')
  [1m[36mActiveRecord::SchemaMigration Load (107.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38851.729425", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (26.2ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:57')[0m
Completed 200 OK in 375ms (Views: 0.3ms | ActiveRecord: 30.1ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 16:59:57 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:57')[0m
  [1m[35mTrade Load (22.8ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:57') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:57')[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (22.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (29.9ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (5.5ms)
  Rendered private/markets/_account_balance.html.slim (3.6ms)
  Rendered private/markets/_price_chart.html.slim (2.5ms)
  Rendered private/markets/_place_order.html.slim (141.7ms)
  Rendered private/markets/_market_trades.html.slim (6.5ms)
  Rendered private/markets/_order_book.html.slim (3.6ms)
  Rendered private/markets/_my_orders.html.slim (8.2ms)
  Rendered private/markets/show.html.slim within layouts/market (384.8ms)
  Rendered shared/_footer_col24.html.slim (36.7ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 16:59:59')[0m
  Rendered shared/_html5.html.slim (46.5ms)
  Rendered shared/_meta.html.slim (3.7ms)
  Rendered shared/_browser.html.slim (3.1ms)
  Rendered shared/_pusher.html.slim (3.2ms)
  Rendered shared/_menu.html.slim (11.5ms)
  Rendered shared/_header.html.slim (34.2ms)
  Rendered layouts/application.html.slim (1432.7ms)
Completed 200 OK in 2469ms (Views: 1997.7ms | ActiveRecord: 81.3ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:00:00 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38851.729433", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:00')
Completed 200 OK in 15ms (Views: 0.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:02')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:05')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:08')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:11')[0m


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:00:13 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:13') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  Rendered api/v1/prices/show.jbuilder (9.3ms)
Completed 200 OK in 503ms (Views: 493.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:14')


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:00:16 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38817.717651", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:16')
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:17')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:20')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:23')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:26')


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-23 17:00:26 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"54.00", "origin_volume"=>"6", "total"=>"324.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:26')
Unpermitted parameters: total
  [1m[36mTrade Load (49.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (68.2ms)[0m  BEGIN
  [1m[36mSQL (315.9ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:00:26', 3, 324.0, 1, 'limit', 324.0, 6.0, 54.0, 'Web', 100, 'OrderBid', '2014-07-23 17:00:26', 6.0)[0m
  [1m[35mMember Load (0.6ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (72.5ms)[0m  update accounts set balance = balance + -324.0, locked = locked + 324.0 where id = 1
  [1m[36m (95.0ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,1,1,10,'Order',324.0,-324.0,'2014-07-23 17:00:27','2014-07-23 17:00:27' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -957.0 AND `accounts`.`locked` = 957.0[0m
  [1m[35m (235.5ms)[0m  COMMIT
Completed 200 OK in 1714ms (Views: 0.2ms | ActiveRecord: 838.4ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:00:28 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:28')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:28')[0m
  [1m[35mOrder Load (41.1ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  [1m[35m (63.8ms)[0m  BEGIN
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  [1m[36mOrderAsk Load (217.8ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 4 LIMIT 1 FOR UPDATE[0m
  [1m[35mOrderBid Load (0.3ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 10 LIMIT 1 FOR UPDATE
  [1m[36mTrade Load (0.3ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  Rendered private/markets/_price_chart.html.slim (0.2ms)
  Rendered private/markets/_place_order.html.slim (3.8ms)
  [1m[35mSQL (82.7ms)[0m  INSERT INTO `trades` (`ask_id`, `ask_member_id`, `bid_id`, `bid_member_id`, `created_at`, `currency`, `funds`, `price`, `trend`, `updated_at`, `volume`) VALUES (4, 1, 10, 1, '2014-07-23 17:00:28', 3, 264.0, 44.0, 1, '2014-07-23 17:00:28', 6.0)
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.3ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  Rendered private/markets/_market_trades.html.slim (0.3ms)
  Rendered private/markets/_order_book.html.slim (0.2ms)
  [1m[36m (72.7ms)[0m  [1mupdate accounts set balance = balance + 0.0, locked = locked + -264.0 where id = 1[0m
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (341.2ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  [1m[35m (153.9ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-264.0,1,1,1,4,'Trade',-264.0,0.0,'2014-07-23 17:00:28','2014-07-23 17:00:28' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -957.0 AND `accounts`.`locked` = 693.0
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  update accounts set balance = balance + 6.0, locked = locked + 0 where id = 2
  [1m[36m (0.3ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,6.0,2,1,2,4,'Trade',0.0,6.0,'2014-07-23 17:00:28','2014-07-23 17:00:28' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -50.0 AND `accounts`.`locked` = 56.0[0m
  [1m[35mAccount Load (0.3ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mupdate accounts set balance = balance + 60.0, locked = locked + -60.0 where id = 1[0m
  [1m[35m (0.3ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 1,0.0,620,-264.0,1,1,1,4,'Trade',-60.0,60.0,'2014-07-23 17:00:28','2014-07-23 17:00:28' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -897.0 AND `accounts`.`locked` = 633.0
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `orders` SET `volume` = 0.0, `locked` = 60.0, `funds_received` = 6.0, `state` = 200, `updated_at` = '2014-07-23 17:00:28' WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 10[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -6.0 where id = 2
  [1m[36m (0.2ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,0.0,2,1,2,4,'Trade',-6.0,0.0,'2014-07-23 17:00:28','2014-07-23 17:00:28' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -50.0 AND `accounts`.`locked` = 50.0[0m
  [1m[35mAccount Load (0.2ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mupdate accounts set balance = balance + 264.0, locked = locked + 0 where id = 1[0m
  Rendered shared/_html5.html.slim (0.9ms)
  Rendered shared/_meta.html.slim (0.5ms)
  [1m[35m (147.0ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,0.0,1,1,1,4,'Trade',0.0,264.0,'2014-07-23 17:00:28','2014-07-23 17:00:28' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -633.0 AND `accounts`.`locked` = 633.0
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `orders` SET `volume` = 7.0, `locked` = 7.0, `funds_received` = 2156.0, `updated_at` = '2014-07-23 17:00:29' WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 4[0m
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.4ms)
  Rendered shared/_header.html.slim (94.6ms)
  Rendered layouts/application.html.slim (350.6ms)
Completed 200 OK in 1063ms (Views: 939.1ms | ActiveRecord: 43.3ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:29')[0m
  [1m[35m (250.7ms)[0m  COMMIT
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:32')


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:00:33 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.2ms)
Completed 200 OK in 122ms (Views: 112.9ms | ActiveRecord: 0.3ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:00:35 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38819.716745", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:35')[0m
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mMember Load (1296.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:36')[0m
Completed 200 OK in 1310ms (Views: 0.1ms | ActiveRecord: 1296.9ms)
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mMember Load (0.7ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mOrderAsk Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 4 LIMIT 1
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:38')
  [1m[36mMember Load (39.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mOrderBid Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 10 LIMIT 1
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:41')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:44')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:47')[0m


Started POST "/markets/btccny/order_asks" for 127.0.0.1 at 2014-07-23 17:00:48 +0530
Processing by Private::OrderAsksController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_ask"=>{"ord_type"=>"limit", "price"=>"7.00", "origin_volume"=>"8", "total"=>"56.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:48')[0m
Unpermitted parameters: total
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (16.2ms)[0m  INSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:00:48', 3, 8.0, 1, 'limit', 8.0, 8.0, 7.0, 'Web', 100, 'OrderAsk', '2014-07-23 17:00:48', 8.0)
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (4.1ms)[0m  [1mupdate accounts set balance = balance + -8.0, locked = locked + 8.0 where id = 2[0m
  [1m[35m (0.7ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,2,1,2,11,'Order',8.0,-8.0,'2014-07-23 17:00:48','2014-07-23 17:00:48' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -58.0 AND `accounts`.`locked` = 58.0
  [1m[36m (261.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 329ms (Views: 0.1ms | ActiveRecord: 284.3ms)
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mOrderAsk Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 11 LIMIT 1 FOR UPDATE
  [1m[36mOrderBid Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 1 LIMIT 1 FOR UPDATE[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36mSQL (18.9ms)[0m  [1mINSERT INTO `trades` (`ask_id`, `ask_member_id`, `bid_id`, `bid_member_id`, `created_at`, `currency`, `funds`, `price`, `trend`, `updated_at`, `volume`) VALUES (11, 1, 1, 1, '2014-07-23 17:00:49', 3, 12.0, 12.0, 0, '2014-07-23 17:00:49', 1.0)[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (21.6ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -12.0 where id = 1
  [1m[36m (0.5ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-12.0,1,1,1,5,'Trade',-12.0,0.0,'2014-07-23 17:00:49','2014-07-23 17:00:49' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -633.0 AND `accounts`.`locked` = 621.0[0m
  [1m[35mAccount Load (1.2ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mupdate accounts set balance = balance + 1.0, locked = locked + 0 where id = 2[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,1.0,2,1,2,5,'Trade',0.0,1.0,'2014-07-23 17:00:49','2014-07-23 17:00:49' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -57.0 AND `accounts`.`locked` = 58.0
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `orders` SET `volume` = 0.0, `locked` = 0.0, `funds_received` = 1.0, `state` = 200, `updated_at` = '2014-07-23 17:00:49' WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 1[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -1.0 where id = 2
  [1m[36m (0.5ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,0.0,2,1,2,5,'Trade',-1.0,0.0,'2014-07-23 17:00:49','2014-07-23 17:00:49' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -57.0 AND `accounts`.`locked` = 57.0[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mupdate accounts set balance = balance + 12.0, locked = locked + 0 where id = 1[0m
  [1m[35m (0.5ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,0.0,1,1,1,5,'Trade',0.0,12.0,'2014-07-23 17:00:49','2014-07-23 17:00:49' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -621.0 AND `accounts`.`locked` = 621.0
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `orders` SET `volume` = 7.0, `locked` = 7.0, `funds_received` = 12.0, `updated_at` = '2014-07-23 17:00:49' WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 11[0m
  [1m[35mOrderAsk Load (219.7ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 11 LIMIT 1 FOR UPDATE
  [1m[36mOrderBid Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 3 LIMIT 1 FOR UPDATE[0m
  [1m[35m (39.1ms)[0m  COMMIT
  [1m[35mTrade Load (1.9ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mMember Load (1.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mOrderAsk Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 11 LIMIT 1[0m
  [1m[35mMember Load (0.7ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mOrderBid Load (0.3ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 1 LIMIT 1[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mSQL (22.9ms)[0m  [1mINSERT INTO `trades` (`ask_id`, `ask_member_id`, `bid_id`, `bid_member_id`, `created_at`, `currency`, `funds`, `price`, `trend`, `updated_at`, `volume`) VALUES (11, 1, 3, 1, '2014-07-23 17:00:49', 3, 231.0, 33.0, 1, '2014-07-23 17:00:49', 7.0)[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (7.9ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -231.0 where id = 1
  [1m[36m (0.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-231.0,1,1,1,6,'Trade',-231.0,0.0,'2014-07-23 17:00:49','2014-07-23 17:00:49' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -621.0 AND `accounts`.`locked` = 390.0[0m
  [1m[35mAccount Load (0.3ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mupdate accounts set balance = balance + 7.0, locked = locked + 0 where id = 2[0m
  [1m[35m (0.3ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,7.0,2,1,2,6,'Trade',0.0,7.0,'2014-07-23 17:00:49','2014-07-23 17:00:49' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -50.0 AND `accounts`.`locked` = 57.0
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  update accounts set balance = balance + 40.0, locked = locked + -40.0 where id = 1
  [1m[36m (0.5ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 1,0.0,620,-231.0,1,1,1,6,'Trade',-40.0,40.0,'2014-07-23 17:00:49','2014-07-23 17:00:49' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -581.0 AND `accounts`.`locked` = 350.0[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `orders` SET `volume` = 0.0, `locked` = 40.0, `funds_received` = 44.0, `state` = 200, `updated_at` = '2014-07-23 17:00:49' WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 3
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.3ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mupdate accounts set balance = balance + 0.0, locked = locked + -7.0 where id = 2[0m
  [1m[35m (0.3ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,0.0,2,1,2,6,'Trade',-7.0,0.0,'2014-07-23 17:00:49','2014-07-23 17:00:49' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -50.0 AND `accounts`.`locked` = 50.0
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  update accounts set balance = balance + 231.0, locked = locked + 0 where id = 1
  [1m[36m (0.3ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,0.0,1,1,1,6,'Trade',0.0,231.0,'2014-07-23 17:00:49','2014-07-23 17:00:49' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -350.0 AND `accounts`.`locked` = 350.0[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `orders` SET `volume` = 0.0, `locked` = 0.0, `funds_received` = 243.0, `state` = 200, `updated_at` = '2014-07-23 17:00:49' WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 11
  [1m[36m (66.2ms)[0m  [1mCOMMIT[0m
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mOrderAsk Load (0.6ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 11 LIMIT 1[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mOrderBid Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 3 LIMIT 1[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:50')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:00:50 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:50')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:50')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.7ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (10.9ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (1.4ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.0ms)
  Rendered shared/_header.html.slim (4.6ms)
  Rendered layouts/application.html.slim (24.1ms)
Completed 200 OK in 81ms (Views: 38.8ms | ActiveRecord: 3.0ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:00:52 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 11ms (Views: 6.3ms | ActiveRecord: 0.3ms)
  [1m[36m (1.2ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:53')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:00:54 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38830.700258", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:54')
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:56')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:00:59')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:02')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:05')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:08')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:11')[0m
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:14')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:17')[0m


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-23 17:01:19 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"22.00", "origin_volume"=>"11", "total"=>"242.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:19')
Unpermitted parameters: total
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (21.3ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:01:19', 3, 242.0, 1, 'limit', 242.0, 11.0, 22.0, 'Web', 100, 'OrderBid', '2014-07-23 17:01:19', 11.0)[0m
  [1m[35mMember Load (0.9ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (7.9ms)[0m  update accounts set balance = balance + -242.0, locked = locked + 242.0 where id = 1
  [1m[36m (0.5ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,1,1,12,'Order',242.0,-242.0,'2014-07-23 17:01:19','2014-07-23 17:01:19' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -592.0 AND `accounts`.`locked` = 592.0[0m
  [1m[35m (97.4ms)[0m  COMMIT
Completed 200 OK in 172ms (Views: 0.4ms | ActiveRecord: 129.8ms)
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:20')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:01:21 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:21')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:21')[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.5ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.7ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (11.5ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.1ms)
  Rendered shared/_header.html.slim (5.1ms)
  Rendered layouts/application.html.slim (23.6ms)
Completed 200 OK in 85ms (Views: 38.7ms | ActiveRecord: 3.6ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:01:22 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.2ms)
Completed 200 OK in 12ms (Views: 6.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:23')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:01:24 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38866.704251", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:24')[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:26')


Started GET "/admin" for 127.0.0.1 at 2014-07-23 17:01:29 +0530
Processing by Admin::DashboardController#index as HTML
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:29')[0m
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:29')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:32')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:35')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:38')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:41')[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:44')
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:47')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:50')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:53')[0m
  Rendered admin/dashboard/index.html.slim within layouts/admin (25946.3ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:56')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:01:59')[0m
  Rendered shared/_flash.slim (9.7ms)
Completed 200 OK in 32353ms (Views: 32338.9ms | ActiveRecord: 2.5ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:02:01 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38864.705618", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:01')[0m
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 0.9ms)


Started GET "/admin" for 127.0.0.1 at 2014-07-23 17:02:01 +0530
Processing by Admin::DashboardController#index as HTML
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:01')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35m (0.9ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  Rendered admin/dashboard/index.html.slim within layouts/admin (32.4ms)
  Rendered shared/_flash.slim (0.1ms)
Completed 200 OK in 58ms (Views: 43.0ms | ActiveRecord: 3.0ms)
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:02')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:05')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:08')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:11')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:14')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:17')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:20')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:23')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:26')
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:29')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:32')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:35')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:38')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:41')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:44')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:47')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:50')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:53')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:56')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:02:59')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:02')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:05')[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:08')
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:11')[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:14')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:18')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:21')
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY id desc LIMIT 80[0m
  [1m[35m (32.1ms)[0m  SELECT MIN(`trades`.`price`) AS min_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:22')
  [1m[36m (0.5ms)[0m  [1mSELECT MAX(`trades`.`price`) AS max_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:22')[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:24')[0m


Started GET "/admin" for 127.0.0.1 at 2014-07-23 17:03:26 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Admin::DashboardController#index as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:26')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  Rendered admin/dashboard/index.html.slim within layouts/admin (78.5ms)
  Rendered shared/_flash.slim (6.0ms)
Completed 200 OK in 404ms (Views: 303.4ms | ActiveRecord: 7.3ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:27')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:30')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:33')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:36')[0m


Started GET "/" for 127.0.0.1 at 2014-07-23 17:03:38 +0530
Processing by WelcomeController#index as HTML
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:38')[0m
Redirected to http://localhost:3000/markets/btccny
Completed 302 Found in 12ms (ActiveRecord: 0.7ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:03:38 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:38')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:38')
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (11.1ms)
  Rendered private/markets/_account_balance.html.slim (5.4ms)
  Rendered private/markets/_price_chart.html.slim (3.3ms)
  Rendered private/markets/_place_order.html.slim (41.8ms)
  Rendered private/markets/_market_trades.html.slim (3.9ms)
  Rendered private/markets/_order_book.html.slim (3.7ms)
  Rendered private/markets/_my_orders.html.slim (9.7ms)
  Rendered private/markets/show.html.slim within layouts/market (160.8ms)
  Rendered shared/_footer_col24.html.slim (28.6ms)
  [1m[35m (36.8ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:39')
  Rendered shared/_html5.html.slim (82.8ms)
  Rendered shared/_meta.html.slim (3.5ms)
  Rendered shared/_browser.html.slim (3.1ms)
  Rendered shared/_pusher.html.slim (3.5ms)
  Rendered shared/_menu.html.slim (12.3ms)
  Rendered shared/_header.html.slim (35.0ms)
  Rendered layouts/application.html.slim (797.4ms)
Completed 200 OK in 1190ms (Views: 1017.3ms | ActiveRecord: 5.4ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:42')[0m


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:03:42 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.6ms)
Completed 200 OK in 105ms (Views: 100.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:45')


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:03:46 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38803.772349", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:46')
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:48')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:51')


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-23 17:03:51 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"65.00", "origin_volume"=>"6", "total"=>"390.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:51')
Unpermitted parameters: total
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (19.4ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:03:51', 3, 390.0, 1, 'limit', 390.0, 6.0, 65.0, 'Web', 100, 'OrderBid', '2014-07-23 17:03:51', 6.0)[0m
  [1m[35mMember Load (0.6ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (15.8ms)[0m  update accounts set balance = balance + -390.0, locked = locked + 390.0 where id = 1
  [1m[36m (17.0ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,1,1,13,'Order',390.0,-390.0,'2014-07-23 17:03:51','2014-07-23 17:03:51' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -982.0 AND `accounts`.`locked` = 982.0[0m
  [1m[35m (180.8ms)[0m  COMMIT
Completed 200 OK in 315ms (Views: 0.2ms | ActiveRecord: 235.4ms)
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:03:54 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (2.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:54')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:54')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (6.8ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.3ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:54')[0m
  Rendered private/markets/_my_orders.html.slim (4.5ms)
  Rendered private/markets/show.html.slim within layouts/market (15.3ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.7ms)
  Rendered shared/_header.html.slim (5.7ms)
  Rendered layouts/application.html.slim (24.4ms)
Completed 200 OK in 106ms (Views: 43.9ms | ActiveRecord: 10.8ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:03:55 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 17ms (Views: 9.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:57')


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:03:58 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38860.705871", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:03:58')[0m
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:00')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:03')


Started POST "/markets/btccny/order_asks" for 127.0.0.1 at 2014-07-23 17:04:03 +0530
Processing by Private::OrderAsksController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_ask"=>{"ord_type"=>"limit", "price"=>"43.00", "origin_volume"=>"4", "total"=>"172.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:03')[0m
Unpermitted parameters: total
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (20.0ms)[0m  INSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:04:03', 3, 4.0, 1, 'limit', 4.0, 4.0, 43.0, 'Web', 100, 'OrderAsk', '2014-07-23 17:04:03', 4.0)
  [1m[36mMember Load (0.6ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (44.1ms)[0m  [1mupdate accounts set balance = balance + -4.0, locked = locked + 4.0 where id = 2[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,2,1,2,14,'Order',4.0,-4.0,'2014-07-23 17:04:03','2014-07-23 17:04:03' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -54.0 AND `accounts`.`locked` = 54.0
  [1m[36m (279.7ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 388ms (Views: 0.1ms | ActiveRecord: 346.5ms)
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:04:05 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:05')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:05')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.5ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.7ms)
  Rendered private/markets/show.html.slim within layouts/market (11.5ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.3ms)
  Rendered shared/_header.html.slim (5.3ms)
  Rendered layouts/application.html.slim (22.8ms)
Completed 200 OK in 84ms (Views: 37.8ms | ActiveRecord: 2.6ms)
  [1m[36m (1.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:07')[0m


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:04:08 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 200ms (Views: 194.2ms | ActiveRecord: 0.3ms)
  [1m[36m (168.0ms)[0m  [1mBEGIN[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:04:09 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38853.798935", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:09')
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 0.9ms)
  [1m[35m (2.8ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:10')
  [1m[35mOrderAsk Load (28.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 4 LIMIT 1 FOR UPDATE
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:13')[0m
  [1m[36mOrderBid Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 13 LIMIT 1 FOR UPDATE[0m
  [1m[35mTrade Load (0.6ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36mSQL (21.0ms)[0m  [1mINSERT INTO `trades` (`ask_id`, `ask_member_id`, `bid_id`, `bid_member_id`, `created_at`, `currency`, `funds`, `price`, `trend`, `updated_at`, `volume`) VALUES (4, 1, 13, 1, '2014-07-23 17:04:14', 3, 264.0, 44.0, 1, '2014-07-23 17:04:14', 6.0)[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (21.9ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -264.0 where id = 1
  [1m[36m (0.5ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-264.0,1,1,1,7,'Trade',-264.0,0.0,'2014-07-23 17:04:15','2014-07-23 17:04:15' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -982.0 AND `accounts`.`locked` = 718.0[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mupdate accounts set balance = balance + 6.0, locked = locked + 0 where id = 2[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,6.0,2,1,2,7,'Trade',0.0,6.0,'2014-07-23 17:04:15','2014-07-23 17:04:15' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -48.0 AND `accounts`.`locked` = 54.0
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  update accounts set balance = balance + 126.0, locked = locked + -126.0 where id = 1
  [1m[36m (0.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 1,0.0,620,-264.0,1,1,1,7,'Trade',-126.0,126.0,'2014-07-23 17:04:15','2014-07-23 17:04:15' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -856.0 AND `accounts`.`locked` = 592.0[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `orders` SET `volume` = 0.0, `locked` = 126.0, `funds_received` = 6.0, `state` = 200, `updated_at` = '2014-07-23 17:04:15' WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 13
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mupdate accounts set balance = balance + 0.0, locked = locked + -6.0 where id = 2[0m
  [1m[35m (0.5ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,0.0,2,1,2,7,'Trade',-6.0,0.0,'2014-07-23 17:04:15','2014-07-23 17:04:15' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -48.0 AND `accounts`.`locked` = 48.0
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  update accounts set balance = balance + 264.0, locked = locked + 0 where id = 1
  [1m[36m (0.5ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,0.0,1,1,1,7,'Trade',0.0,264.0,'2014-07-23 17:04:15','2014-07-23 17:04:15' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -592.0 AND `accounts`.`locked` = 592.0[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `orders` SET `volume` = 1.0, `locked` = 1.0, `funds_received` = 2420.0, `updated_at` = '2014-07-23 17:04:15' WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 4
  [1m[36m (89.0ms)[0m  [1mCOMMIT[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mOrderAsk Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 4 LIMIT 1
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mOrderBid Load (0.8ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 13 LIMIT 1
  [1m[36mMember Load (0.2ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:16')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:19')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:04:20 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.6ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:20')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:20')[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (16.1ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (2.9ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.5ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.1ms)
  Rendered shared/_header.html.slim (5.0ms)
  Rendered layouts/application.html.slim (22.2ms)
Completed 200 OK in 105ms (Views: 36.4ms | ActiveRecord: 19.1ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:04:21 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 16ms (Views: 6.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:22')


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:04:23 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38860.705907", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:23')[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:25')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:28')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:31')[0m


Started POST "/markets/btccny/order_asks" for 127.0.0.1 at 2014-07-23 17:04:34 +0530
Processing by Private::OrderAsksController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_ask"=>{"ord_type"=>"limit", "price"=>"4.00", "origin_volume"=>"3", "total"=>"12.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:34')[0m
Unpermitted parameters: total
  [1m[35mTrade Load (1.7ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (36.9ms)[0m  INSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:04:34', 3, 3.0, 1, 'limit', 3.0, 3.0, 4.0, 'Web', 100, 'OrderAsk', '2014-07-23 17:04:34', 3.0)
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:34')
  [1m[36mMember Load (0.9ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.3ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (31.2ms)[0m  [1mupdate accounts set balance = balance + -3.0, locked = locked + 3.0 where id = 2[0m
  [1m[35m (0.5ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,2,1,2,15,'Order',3.0,-3.0,'2014-07-23 17:04:34','2014-07-23 17:04:34' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -51.0 AND `accounts`.`locked` = 51.0
  [1m[36m (210.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 320ms (Views: 0.1ms | ActiveRecord: 283.4ms)
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mOrderAsk Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 15 LIMIT 1 FOR UPDATE
  [1m[36mOrderBid Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 12 LIMIT 1 FOR UPDATE[0m
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36mSQL (5.7ms)[0m  [1mINSERT INTO `trades` (`ask_id`, `ask_member_id`, `bid_id`, `bid_member_id`, `created_at`, `currency`, `funds`, `price`, `trend`, `updated_at`, `volume`) VALUES (15, 1, 12, 1, '2014-07-23 17:04:34', 3, 66.0, 22.0, 0, '2014-07-23 17:04:34', 3.0)[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (49.4ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -66.0 where id = 1
  [1m[36m (0.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-66.0,1,1,1,8,'Trade',-66.0,0.0,'2014-07-23 17:04:34','2014-07-23 17:04:34' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -592.0 AND `accounts`.`locked` = 526.0[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mupdate accounts set balance = balance + 3.0, locked = locked + 0 where id = 2[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,3.0,2,1,2,8,'Trade',0.0,3.0,'2014-07-23 17:04:34','2014-07-23 17:04:34' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -48.0 AND `accounts`.`locked` = 51.0
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `orders` SET `volume` = 8.0, `locked` = 176.0, `funds_received` = 3.0, `updated_at` = '2014-07-23 17:04:34' WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 12[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -3.0 where id = 2
  [1m[36m (0.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,0.0,2,1,2,8,'Trade',-3.0,0.0,'2014-07-23 17:04:35','2014-07-23 17:04:35' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -48.0 AND `accounts`.`locked` = 48.0[0m
  [1m[35mAccount Load (0.3ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mupdate accounts set balance = balance + 66.0, locked = locked + 0 where id = 1[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,0.0,1,1,1,8,'Trade',0.0,66.0,'2014-07-23 17:04:35','2014-07-23 17:04:35' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -526.0 AND `accounts`.`locked` = 526.0
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `orders` SET `volume` = 0.0, `locked` = 0.0, `funds_received` = 66.0, `state` = 200, `updated_at` = '2014-07-23 17:04:35' WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 15[0m
  [1m[35m (336.4ms)[0m  COMMIT
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mOrderAsk Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 15 LIMIT 1[0m
  [1m[35mMember Load (0.2ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mOrderBid Load (0.3ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 12 LIMIT 1[0m
  [1m[35mMember Load (0.2ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:04:36 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:36')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:36')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.6ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (11.8ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.7ms)
  Rendered shared/_header.html.slim (6.7ms)
  Rendered layouts/application.html.slim (24.9ms)
Completed 200 OK in 86ms (Views: 40.6ms | ActiveRecord: 2.9ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:37')[0m


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:04:37 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 10ms (Views: 5.6ms | ActiveRecord: 0.3ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:04:39 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38861.706758", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:39')
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:40')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:43')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:46')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:49')[0m


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-23 17:04:51 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"2.00", "origin_volume"=>"33", "total"=>"66.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (34.2ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:51')
Unpermitted parameters: total
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (24.5ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:04:51', 3, 66.0, 1, 'limit', 66.0, 33.0, 2.0, 'Web', 100, 'OrderBid', '2014-07-23 17:04:51', 33.0)[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (100.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (19.0ms)[0m  update accounts set balance = balance + -66.0, locked = locked + 66.0 where id = 1
  [1m[36m (0.6ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,1,1,16,'Order',66.0,-66.0,'2014-07-23 17:04:51','2014-07-23 17:04:51' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -592.0 AND `accounts`.`locked` = 592.0[0m
  [1m[35m (113.2ms)[0m  COMMIT
Completed 200 OK in 338ms (Views: 0.4ms | ActiveRecord: 293.3ms)
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:52')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:04:53 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (1.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:53')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:53')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.8ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (6.3ms)
  Rendered private/markets/_market_trades.html.slim (0.3ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.7ms)
  Rendered private/markets/show.html.slim within layouts/market (19.4ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.9ms)
  Rendered shared/_browser.html.slim (0.2ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.3ms)
  Rendered shared/_header.html.slim (5.8ms)
  Rendered layouts/application.html.slim (30.9ms)
Completed 200 OK in 109ms (Views: 54.2ms | ActiveRecord: 4.5ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:04:54 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (1.2ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 29ms (Views: 21.7ms | ActiveRecord: 1.2ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:55')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:04:56 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38871.723174", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:56')[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:04:58')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:01')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:04')


Started GET "/admin" for 127.0.0.1 at 2014-07-23 17:05:05 +0530
Processing by Admin::DashboardController#index as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:05')[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36m (0.2ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:07')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:10')
  Rendered admin/dashboard/index.html.slim within layouts/admin (6931.1ms)
  Rendered shared/_flash.slim (0.2ms)
Completed 200 OK in 7009ms (Views: 6997.5ms | ActiveRecord: 2.4ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:05:12 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38870.724491", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:12')[0m
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:13')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:16')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:19')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:22')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:25')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:28')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:31')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:34')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:37')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:40')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:43')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:46')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:49')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:52')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:55')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:05:58')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:06:01')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:06:04')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:06:07')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:06:10')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:06:13')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:06:16')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:06:19')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:06:22')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:06:25')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:06:28')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:06:31')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:06:34')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:06:37')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:06:40')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:06:43')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:06:46')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:06:49')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:06:52')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:06:55')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:06:58')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:07:01')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:07:04')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:07:07')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:07:10')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:07:13')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:07:16')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:07:19')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:07:22')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:07:25')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:07:28')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:07:31')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:07:34')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:07:37')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:07:40')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:07:43')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:07:46')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:07:49')[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:07:52')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:07:55')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:07:58')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:08:01')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:08:04')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:08:07')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:08:10')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:08:13')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:08:17')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:08:20')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:08:23')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:08:26')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:08:29')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:08:32')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:08:35')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:08:38')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:08:41')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:08:44')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:08:47')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:08:50')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:08:53')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:08:56')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:08:59')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:09:02')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:09:05')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:09:08')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:09:11')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:09:14')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:09:17')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:09:20')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:09:23')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:09:26')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:09:29')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:09:32')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:09:35')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:09:38')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:09:41')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:09:44')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:09:47')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:09:50')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:09:53')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:09:56')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:09:59')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:10:02')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:10:05')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:10:08')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:10:11')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:10:14')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:10:17')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:10:20')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:10:23')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:10:26')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:10:29')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:10:32')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:10:35')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:10:38')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:10:41')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:10:44')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:10:47')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:10:50')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:10:53')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:10:56')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:10:59')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:02')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:05')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:08')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:11')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:14')[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:17')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:20')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:23')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:26')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:29')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:32')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:35')


Started GET "/admin" for 127.0.0.1 at 2014-07-23 17:11:35 +0530
Processing by Admin::DashboardController#index as HTML
  [1m[35mMember Load (37.7ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:36')[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:38')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:41')
  Rendered admin/dashboard/index.html.slim within layouts/admin (6169.1ms)
  Rendered shared/_flash.slim (0.2ms)
Completed 200 OK in 6348ms (Views: 6237.8ms | ActiveRecord: 39.8ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:44')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:47')


Started GET "/" for 127.0.0.1 at 2014-07-23 17:11:48 +0530
Processing by WelcomeController#index as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:48')[0m
Redirected to http://localhost:3000/markets/btccny
Completed 302 Found in 12ms (ActiveRecord: 0.9ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:11:48 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:48')[0m
  [1m[35mTrade Load (147.3ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:48') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:48')[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (9.0ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (18.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.2ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (77.1ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.9ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.4ms)
  Rendered shared/_header.html.slim (17.1ms)
  Rendered layouts/application.html.slim (104.3ms)
Completed 200 OK in 507ms (Views: 250.3ms | ActiveRecord: 177.1ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:11:49 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 63ms (Views: 57.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:50')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:11:51 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38858.731372", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:51')[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:53')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:56')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:11:59')


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-23 17:12:02 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"21.00", "origin_volume"=>"34", "total"=>"714.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:02')[0m
Unpermitted parameters: total
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:02')[0m
  [1m[35mSQL (62.7ms)[0m  INSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:12:02', 3, 714.0, 1, 'limit', 714.0, 34.0, 21.0, 'Web', 100, 'OrderBid', '2014-07-23 17:12:02', 34.0)
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (69.2ms)[0m  [1mupdate accounts set balance = balance + -714.0, locked = locked + 714.0 where id = 1[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,1,1,17,'Order',714.0,-714.0,'2014-07-23 17:12:02','2014-07-23 17:12:02' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -1306.0 AND `accounts`.`locked` = 1306.0
  [1m[36m (270.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 472ms (Views: 0.8ms | ActiveRecord: 404.5ms)
  [1m[35mMember Load (0.6ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:05')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:12:05 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:05')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:05')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.1ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.6ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.3ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.2ms)
  Rendered shared/_header.html.slim (9.3ms)
  Rendered layouts/application.html.slim (26.4ms)
Completed 200 OK in 77ms (Views: 40.3ms | ActiveRecord: 3.0ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:12:06 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 11ms (Views: 6.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:08')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:12:09 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38842.725698", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:09')
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:11')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:14')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:12:16 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:17')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:17')[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.5ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.2ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (2.7ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (9.4ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.7ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (2.8ms)
  Rendered shared/_header.html.slim (4.6ms)
  Rendered layouts/application.html.slim (21.1ms)
Completed 200 OK in 80ms (Views: 33.6ms | ActiveRecord: 3.3ms)
  [1m[35m (1.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:17')


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:12:18 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 10ms (Views: 5.7ms | ActiveRecord: 0.4ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:12:19 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38808.719244", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:19')[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:20')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:23')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:26')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:29')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:32')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:35')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:38')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:41')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:44')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:47')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:50')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:53')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:56')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:12:59')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:02')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:05')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:08')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:11')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:14')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:17')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:20')[0m
  [1m[35m (1.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:23')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:26')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:29')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:32')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:35')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:38')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:41')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:13:42 +0530
  [1m[36mActiveRecord::SchemaMigration Load (22.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:43')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:43')
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (12.0ms)
  Rendered private/markets/_account_balance.html.slim (3.9ms)
  Rendered private/markets/_price_chart.html.slim (3.0ms)
  Rendered private/markets/_place_order.html.slim (44.0ms)
  Rendered private/markets/_market_trades.html.slim (4.2ms)
  Rendered private/markets/_order_book.html.slim (3.8ms)
  Rendered private/markets/_my_orders.html.slim (9.9ms)
  Rendered private/markets/show.html.slim within layouts/market (137.2ms)
  Rendered shared/_footer_col24.html.slim (18.5ms)
  Rendered shared/_html5.html.slim (33.1ms)
  Rendered shared/_meta.html.slim (5.7ms)
  Rendered shared/_browser.html.slim (3.7ms)
  Rendered shared/_pusher.html.slim (2.7ms)
  Rendered shared/_menu.html.slim (11.7ms)
  Rendered shared/_header.html.slim (18.8ms)
  Rendered layouts/application.html.slim (1039.8ms)
Completed 200 OK in 1453ms (Views: 1222.1ms | ActiveRecord: 11.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:44')[0m


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:13:45 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.6ms)
Completed 200 OK in 36ms (Views: 30.5ms | ActiveRecord: 0.3ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:13:47 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38860.706784", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:47')
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:47')


Started GET "/admin" for 127.0.0.1 at 2014-07-23 17:13:50 +0530
Processing by Admin::DashboardController#index as HTML
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:50')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  Rendered admin/dashboard/index.html.slim within layouts/admin (41.6ms)
  Rendered shared/_flash.slim (6.0ms)
Completed 200 OK in 184ms (Views: 169.9ms | ActiveRecord: 2.8ms)
  [1m[36m (0.7ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:50')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:53')


Started GET "/" for 127.0.0.1 at 2014-07-23 17:13:55 +0530
Processing by WelcomeController#index as HTML
  [1m[36mMember Load (1.7ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:55')
Redirected to http://localhost:3000/markets/btccny
Completed 302 Found in 16ms (ActiveRecord: 2.0ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:13:55 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:55')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:55')[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.5ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.6ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.6ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.9ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.0ms)
  Rendered shared/_header.html.slim (4.6ms)
  Rendered layouts/application.html.slim (66.3ms)
Completed 200 OK in 131ms (Views: 80.1ms | ActiveRecord: 3.6ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:13:56 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 13ms (Views: 8.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:56')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:13:57 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38862.704016", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:57')[0m
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:13:59')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:02')[0m


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-23 17:14:03 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"4.00", "origin_volume"=>"4", "total"=>"16.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:03')[0m
Unpermitted parameters: total
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (16.2ms)[0m  INSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:14:03', 3, 16.0, 1, 'limit', 16.0, 4.0, 4.0, 'Web', 100, 'OrderBid', '2014-07-23 17:14:03', 4.0)
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (16.1ms)[0m  [1mupdate accounts set balance = balance + -16.0, locked = locked + 16.0 where id = 1[0m
  [1m[35m (0.5ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,1,1,18,'Order',16.0,-16.0,'2014-07-23 17:14:03','2014-07-23 17:14:03' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -1322.0 AND `accounts`.`locked` = 1322.0
  [1m[36m (279.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 462ms (Views: 0.1ms | ActiveRecord: 314.2ms)
  [1m[36mMember Load (30.2ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:05')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:14:06 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:06')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:06')
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.6ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (12.5ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.7ms)
  Rendered shared/_header.html.slim (6.0ms)
  Rendered layouts/application.html.slim (23.5ms)
Completed 200 OK in 86ms (Views: 39.3ms | ActiveRecord: 3.3ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:14:07 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 10ms (Views: 5.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:08')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:14:09 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38865.707704", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:09')
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:11')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:14:13 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:13')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:13')[0m
  [1m[35mOrder Load (0.7ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (1.0ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.4ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.9ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.3ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.1ms)
  Rendered shared/_header.html.slim (4.7ms)
  Rendered layouts/application.html.slim (22.5ms)
Completed 200 OK in 95ms (Views: 43.7ms | ActiveRecord: 4.0ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:14:14 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 15ms (Views: 7.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:15')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:14:15 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38866.705420", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:16')[0m
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:18')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:21')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:14:21 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:21')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:21')
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.4ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (2.8ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (9.9ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.3ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (4.4ms)
  Rendered shared/_header.html.slim (6.2ms)
  Rendered layouts/application.html.slim (23.5ms)
Completed 200 OK in 95ms (Views: 36.7ms | ActiveRecord: 3.2ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:14:22 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 15ms (Views: 10.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:24')


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:14:24 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38865.707724", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:24')
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:27')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:30')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:33')[0m


Started POST "/markets/btccny/order_asks" for 127.0.0.1 at 2014-07-23 17:14:33 +0530
Processing by Private::OrderAsksController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_ask"=>{"ord_type"=>"limit", "price"=>"65.00", "origin_volume"=>"56", "total"=>"3640.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:33')
Unpermitted parameters: total
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (18.9ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:14:33', 3, 56.0, 1, 'limit', 56.0, 56.0, 65.0, 'Web', 100, 'OrderAsk', '2014-07-23 17:14:33', 56.0)[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (15.1ms)[0m  update accounts set balance = balance + -56.0, locked = locked + 56.0 where id = 2
  [1m[36m (0.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,2,1,2,19,'Order',56.0,-56.0,'2014-07-23 17:14:33','2014-07-23 17:14:33' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -104.0 AND `accounts`.`locked` = 104.0[0m
  [1m[35m (53.9ms)[0m  COMMIT
Completed 200 OK in 148ms (Views: 0.3ms | ActiveRecord: 90.7ms)
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:36')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:39')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:14:41 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:41')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:41')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.1ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (1.2ms)
  Rendered private/markets/show.html.slim within layouts/market (11.1ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.1ms)
  Rendered shared/_header.html.slim (5.2ms)
  Rendered layouts/application.html.slim (24.8ms)
Completed 200 OK in 92ms (Views: 40.2ms | ActiveRecord: 2.7ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:42')


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:14:42 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 15ms (Views: 9.7ms | ActiveRecord: 0.4ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:14:44 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38813.721242", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:44')[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:45')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:48')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:14:50 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:50')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:50')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.3ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.1ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.2ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.9ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.2ms)
  Rendered shared/_header.html.slim (5.1ms)
  Rendered layouts/application.html.slim (23.4ms)
Completed 200 OK in 87ms (Views: 36.9ms | ActiveRecord: 3.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:51')[0m


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:14:52 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 21ms (Views: 15.3ms | ActiveRecord: 0.3ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:14:53 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38865.707769", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:53')
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:54')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:57')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:14:59 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.6ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:59')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:14:59')[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.1ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.3ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.4ms)
  Rendered shared/_header.html.slim (5.2ms)
  Rendered layouts/application.html.slim (22.8ms)
Completed 200 OK in 86ms (Views: 36.2ms | ActiveRecord: 3.6ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:00')


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:15:00 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mTrade Load (0.6ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:00') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 22ms (Views: 8.2ms | ActiveRecord: 1.0ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:15:02 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38861.707676", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:02')
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 0.9ms)


Started GET "/admin" for 127.0.0.1 at 2014-07-23 17:15:03 +0530
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:03')[0m
Processing by Admin::DashboardController#index as HTML
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:03')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  Rendered admin/dashboard/index.html.slim within layouts/admin (2767.9ms)
  Rendered shared/_flash.slim (0.1ms)
Completed 200 OK in 2795ms (Views: 2780.6ms | ActiveRecord: 2.6ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:15:05 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38860.706913", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:05')
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:06')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:09')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:12')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:15')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:18')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:21')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:24')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:27')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:30')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:33')[0m
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`state` = 100 AND `orders`.`currency` = 3 ORDER BY id asc[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:36')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:39')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:42')


Started GET "/admin" for 127.0.0.1 at 2014-07-23 17:15:42 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Admin::DashboardController#index as HTML
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:43')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  Rendered admin/dashboard/index.html.slim within layouts/admin (62.6ms)
  Rendered shared/_flash.slim (5.9ms)
Completed 200 OK in 204ms (Views: 147.6ms | ActiveRecord: 6.7ms)
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:45')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:48')


Started GET "/" for 127.0.0.1 at 2014-07-23 17:15:50 +0530
Processing by WelcomeController#index as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:50')[0m
Redirected to http://localhost:3000/markets/btccny
Completed 302 Found in 15ms (ActiveRecord: 0.8ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:15:50 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:50')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:50')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.3ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (5.9ms)
  Rendered private/markets/_account_balance.html.slim (3.9ms)
  Rendered private/markets/_price_chart.html.slim (2.4ms)
  Rendered private/markets/_place_order.html.slim (19.6ms)
  Rendered private/markets/_market_trades.html.slim (3.6ms)
  Rendered private/markets/_order_book.html.slim (3.3ms)
  Rendered private/markets/_my_orders.html.slim (8.5ms)
  Rendered private/markets/show.html.slim within layouts/market (57.7ms)
  Rendered shared/_footer_col24.html.slim (16.9ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:51')[0m
  Rendered shared/_html5.html.slim (45.9ms)
  Rendered shared/_meta.html.slim (3.2ms)
  Rendered shared/_browser.html.slim (2.8ms)
  Rendered shared/_pusher.html.slim (3.0ms)
  Rendered shared/_menu.html.slim (11.4ms)
  Rendered shared/_header.html.slim (18.8ms)
  Rendered layouts/application.html.slim (476.6ms)
Completed 200 OK in 679ms (Views: 558.2ms | ActiveRecord: 4.0ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:54')


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:15:55 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.4ms)
Completed 200 OK in 41ms (Views: 36.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:57')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:15:58 +0530
Processing by Private::PusherController#auth as HTML
  Parameters: {"socket_id"=>"38851.731117", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:15:58')
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:00')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:03')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:06')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:09')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:12')


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-23 17:16:14 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"41.00", "origin_volume"=>"1", "total"=>"41.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:14')
Unpermitted parameters: total
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (45.9ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:16:14', 3, 41.0, 1, 'limit', 41.0, 1.0, 41.0, 'Web', 100, 'OrderBid', '2014-07-23 17:16:14', 1.0)[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (20.8ms)[0m  update accounts set balance = balance + -41.0, locked = locked + 41.0 where id = 1
  [1m[36m (0.5ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,1,1,20,'Order',41.0,-41.0,'2014-07-23 17:16:14','2014-07-23 17:16:14' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -1363.0 AND `accounts`.`locked` = 1363.0[0m
  [1m[35m (96.7ms)[0m  COMMIT
Completed 200 OK in 238ms (Views: 0.2ms | ActiveRecord: 166.1ms)
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:15')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:18')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:21')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:24')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:27')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:30')


Started POST "/markets/btccny/order_asks" for 127.0.0.1 at 2014-07-23 17:16:33 +0530
Processing by Private::OrderAsksController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_ask"=>{"ord_type"=>"limit", "price"=>"6.00", "origin_volume"=>"6", "total"=>"36.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (2.2ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:33')
Unpermitted parameters: total
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (20.6ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:16:33', 3, 6.0, 1, 'limit', 6.0, 6.0, 6.0, 'Web', 100, 'OrderAsk', '2014-07-23 17:16:33', 6.0)[0m
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (42.8ms)[0m  update accounts set balance = balance + -6.0, locked = locked + 6.0 where id = 2
  [1m[36m (0.7ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,2,1,2,21,'Order',6.0,-6.0,'2014-07-23 17:16:33','2014-07-23 17:16:33' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -110.0 AND `accounts`.`locked` = 110.0[0m
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:33')[0m
  [1m[35m (119.7ms)[0m  COMMIT
Completed 200 OK in 242ms (Views: 0.1ms | ActiveRecord: 188.1ms)
  [1m[35mMember Load (0.7ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[35m (69.1ms)[0m  BEGIN
  [1m[36m (41.3ms)[0m  [1mBEGIN[0m
  [1m[35mOrderAsk Load (92.1ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 21 LIMIT 1 FOR UPDATE
  [1m[36mOrderBid Load (147.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 12 LIMIT 1 FOR UPDATE[0m
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36mSQL (47.0ms)[0m  [1mINSERT INTO `trades` (`ask_id`, `ask_member_id`, `bid_id`, `bid_member_id`, `created_at`, `currency`, `funds`, `price`, `trend`, `updated_at`, `volume`) VALUES (21, 1, 12, 1, '2014-07-23 17:16:34', 3, 110.0, 22.0, 1, '2014-07-23 17:16:34', 5.0)[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (25.8ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -110.0 where id = 1
  [1m[36m (0.6ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-110.0,1,1,1,9,'Trade',-110.0,0.0,'2014-07-23 17:16:34','2014-07-23 17:16:34' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -1363.0 AND `accounts`.`locked` = 1253.0[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mupdate accounts set balance = balance + 5.0, locked = locked + 0 where id = 2[0m
  [1m[35m (0.6ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,5.0,2,1,2,9,'Trade',0.0,5.0,'2014-07-23 17:16:35','2014-07-23 17:16:35' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -105.0 AND `accounts`.`locked` = 110.0
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `orders` SET `volume` = 3.0, `locked` = 66.0, `funds_received` = 8.0, `updated_at` = '2014-07-23 17:16:36' WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 12[0m
  [1m[35m (33.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:36')
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -5.0 where id = 2
  [1m[36m (71.1ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,0.0,2,1,2,9,'Trade',-5.0,0.0,'2014-07-23 17:16:37','2014-07-23 17:16:37' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -105.0 AND `accounts`.`locked` = 105.0[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mupdate accounts set balance = balance + 110.0, locked = locked + 0 where id = 1[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,0.0,1,1,1,9,'Trade',0.0,110.0,'2014-07-23 17:16:37','2014-07-23 17:16:37' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -1253.0 AND `accounts`.`locked` = 1253.0
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `orders` SET `volume` = 1.0, `locked` = 1.0, `funds_received` = 110.0, `updated_at` = '2014-07-23 17:16:38' WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 21[0m
  [1m[36mOrderAsk Load (5036.6ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 21 LIMIT 1 FOR UPDATE[0m
  [1m[35m (210.3ms)[0m  COMMIT
  [1m[35mOrderBid Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 20 LIMIT 1 FOR UPDATE
  [1m[36mTrade Load (0.5ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35mSQL (39.1ms)[0m  INSERT INTO `trades` (`ask_id`, `ask_member_id`, `bid_id`, `bid_member_id`, `created_at`, `currency`, `funds`, `price`, `trend`, `updated_at`, `volume`) VALUES (21, 1, 20, 1, '2014-07-23 17:16:39', 3, 41.0, 41.0, 1, '2014-07-23 17:16:39', 1.0)
  [1m[36mMember Load (32.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:39')[0m
  [1m[35mMember Load (115.1ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mOrderAsk Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 21 LIMIT 1[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrderBid Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 12 LIMIT 1[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mupdate accounts set balance = balance + 0.0, locked = locked + -41.0 where id = 1[0m
  [1m[35m (0.6ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-41.0,1,1,1,10,'Trade',-41.0,0.0,'2014-07-23 17:16:40','2014-07-23 17:16:40' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -1253.0 AND `accounts`.`locked` = 1212.0
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  update accounts set balance = balance + 1.0, locked = locked + 0 where id = 2
  [1m[36m (0.3ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,1.0,2,1,2,10,'Trade',0.0,1.0,'2014-07-23 17:16:40','2014-07-23 17:16:40' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -104.0 AND `accounts`.`locked` = 105.0[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `orders` SET `volume` = 0.0, `locked` = 0.0, `funds_received` = 1.0, `state` = 200, `updated_at` = '2014-07-23 17:16:40' WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 20
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mupdate accounts set balance = balance + 0.0, locked = locked + -1.0 where id = 2[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,0.0,2,1,2,10,'Trade',-1.0,0.0,'2014-07-23 17:16:40','2014-07-23 17:16:40' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -104.0 AND `accounts`.`locked` = 104.0
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  update accounts set balance = balance + 41.0, locked = locked + 0 where id = 1
  [1m[36m (0.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,0.0,1,1,1,10,'Trade',0.0,41.0,'2014-07-23 17:16:41','2014-07-23 17:16:41' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -1212.0 AND `accounts`.`locked` = 1212.0[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `orders` SET `volume` = 0.0, `locked` = 0.0, `funds_received` = 151.0, `state` = 200, `updated_at` = '2014-07-23 17:16:41' WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 21
  [1m[36m (51.7ms)[0m  [1mCOMMIT[0m
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mMember Load (10.2ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mOrderAsk Load (27.6ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 21 LIMIT 1[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mOrderBid Load (0.6ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 20 LIMIT 1[0m
  [1m[35mMember Load (0.2ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:42')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:45')[0m
  [1m[35m (3.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:48')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:16:51 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.6ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:51')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:51')[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.3ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (11.1ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.5ms)
  Rendered shared/_header.html.slim (5.6ms)
  Rendered layouts/application.html.slim (24.6ms)
Completed 200 OK in 85ms (Views: 39.1ms | ActiveRecord: 3.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:51')[0m


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:16:52 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.2ms)
Completed 200 OK in 11ms (Views: 6.3ms | ActiveRecord: 0.4ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:16:54 +0530
Processing by Private::PusherController#auth as HTML
  Parameters: {"socket_id"=>"38851.731221", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:54')[0m
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 1.1ms)
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:54')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:16:57')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:00')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:03')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:06')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:09')[0m


Started POST "/markets/btccny/order_asks" for 127.0.0.1 at 2014-07-23 17:17:11 +0530
Processing by Private::OrderAsksController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_ask"=>{"ord_type"=>"limit", "price"=>"33.00", "origin_volume"=>"33", "total"=>"1089.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:11')[0m
Unpermitted parameters: total
  [1m[35mTrade Load (0.7ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (23.3ms)[0m  INSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:17:11', 3, 33.0, 1, 'limit', 33.0, 33.0, 33.0, 'Web', 100, 'OrderAsk', '2014-07-23 17:17:11', 33.0)
  [1m[36mMember Load (0.6ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mupdate accounts set balance = balance + -33.0, locked = locked + 33.0 where id = 2[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,2,1,2,22,'Order',33.0,-33.0,'2014-07-23 17:17:11','2014-07-23 17:17:11' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -137.0 AND `accounts`.`locked` = 137.0
  [1m[36m (134.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 202ms (Views: 0.1ms | ActiveRecord: 161.1ms)
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:12')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:15')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:17:16 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:16')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:16')
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.7ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.3ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (11.1ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.0ms)
  Rendered shared/_header.html.slim (4.7ms)
  Rendered layouts/application.html.slim (22.5ms)
Completed 200 OK in 84ms (Views: 37.1ms | ActiveRecord: 3.9ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:17:18 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:18')
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 66ms (Views: 62.4ms | ActiveRecord: 0.3ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:17:19 +0530
Processing by Private::PusherController#auth as HTML
  Parameters: {"socket_id"=>"38858.731899", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:19')
Completed 200 OK in 14ms (Views: 0.4ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:21')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:24')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:27')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:30')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:33')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:36')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:39')[0m


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-23 17:17:40 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"11.00", "origin_volume"=>"11", "total"=>"121.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:40')
Unpermitted parameters: total
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (19.8ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:17:40', 3, 121.0, 1, 'limit', 121.0, 11.0, 11.0, 'Web', 100, 'OrderBid', '2014-07-23 17:17:40', 11.0)[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  update accounts set balance = balance + -121.0, locked = locked + 121.0 where id = 1
  [1m[36m (0.8ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,1,1,23,'Order',121.0,-121.0,'2014-07-23 17:17:40','2014-07-23 17:17:40' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -1333.0 AND `accounts`.`locked` = 1333.0[0m
  [1m[35m (39.8ms)[0m  COMMIT
Completed 200 OK in 107ms (Views: 0.4ms | ActiveRecord: 63.1ms)
  [1m[35mMember Load (18.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:42')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:45')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:48')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:51')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:54')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:17:54 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:54')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:54')[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.2ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.6ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.3ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.1ms)
  Rendered shared/_header.html.slim (4.8ms)
  Rendered layouts/application.html.slim (21.6ms)
Completed 200 OK in 80ms (Views: 35.6ms | ActiveRecord: 3.9ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:17:56 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 11ms (Views: 6.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:57')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:17:58 +0530
Processing by Private::PusherController#auth as HTML
  Parameters: {"socket_id"=>"38856.734643", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:17:58')[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:18:00')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:18:03')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:18:06')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:18:09')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:18:12')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:18:15')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:18:18')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:18:21')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:18:24')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:18:27')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:18:30')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:18:33')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:18:36')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:18:39')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:18:42')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:18:45')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:18:48')
  [1m[36m (36.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:18:51')[0m
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:18:54')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:18:57')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:19:00')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:19:03')[0m
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:19:06')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:19:09')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:19:12')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:19:15')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:19:18')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:19:21')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:19:24')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:19:27')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:19:30')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:19:33')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:19:36')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:19:40')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:19:43')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:19:46')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:19:49')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:19:52')[0m


Started GET "/admin" for 127.0.0.1 at 2014-07-23 17:19:54 +0530
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:19:55')
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Admin::DashboardController#index as HTML
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:19:55')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:19:58')[0m
  Rendered admin/dashboard/index.html.slim within layouts/admin (3013.1ms)
  Rendered shared/_flash.slim (8.9ms)
Completed 200 OK in 3392ms (Views: 3327.7ms | ActiveRecord: 7.1ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:01')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:04')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:07')


Started GET "/" for 127.0.0.1 at 2014-07-23 17:20:09 +0530
Processing by WelcomeController#index as HTML
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:09')[0m
Redirected to http://localhost:3000/markets/btccny
Completed 302 Found in 14ms (ActiveRecord: 0.7ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:20:09 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:09')[0m
  [1m[35mTrade Load (234.5ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:09') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:10')[0m
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:10')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.5ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (5.9ms)
  Rendered private/markets/_account_balance.html.slim (3.9ms)
  Rendered private/markets/_price_chart.html.slim (2.4ms)
  Rendered private/markets/_place_order.html.slim (81.3ms)
  Rendered private/markets/_market_trades.html.slim (4.8ms)
  Rendered private/markets/_order_book.html.slim (2.8ms)
  Rendered private/markets/_my_orders.html.slim (7.9ms)
  Rendered private/markets/show.html.slim within layouts/market (119.7ms)
  Rendered shared/_footer_col24.html.slim (34.3ms)
  Rendered shared/_html5.html.slim (181.5ms)
  Rendered shared/_meta.html.slim (3.7ms)
  Rendered shared/_browser.html.slim (2.6ms)
  Rendered shared/_pusher.html.slim (3.0ms)
  Rendered shared/_menu.html.slim (11.3ms)
  Rendered shared/_header.html.slim (18.5ms)
  Rendered layouts/application.html.slim (1856.2ms)
Completed 200 OK in 2393ms (Views: 2017.1ms | ActiveRecord: 239.4ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:13')


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:20:14 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.4ms)
Completed 200 OK in 13ms (Views: 8.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:16')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:20:16 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38801.773828", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:16')[0m
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:19')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:22')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:25')


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-23 17:20:27 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"1.00", "origin_volume"=>"1", "total"=>"1.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:27')[0m
Unpermitted parameters: total
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (12.2ms)[0m  INSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:20:27', 3, 1.0, 1, 'limit', 1.0, 1.0, 1.0, 'Web', 100, 'OrderBid', '2014-07-23 17:20:27', 1.0)
  [1m[36mMember Load (1.0ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mupdate accounts set balance = balance + -1.0, locked = locked + 1.0 where id = 1[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,1,1,24,'Order',1.0,-1.0,'2014-07-23 17:20:27','2014-07-23 17:20:27' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -1334.0 AND `accounts`.`locked` = 1334.0
  [1m[36m (69.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 147ms (Views: 0.4ms | ActiveRecord: 85.2ms)
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:28')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:20:30 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:30')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:30')
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.1ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (10.4ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.9ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.4ms)
  Rendered shared/_header.html.slim (5.2ms)
  Rendered layouts/application.html.slim (25.7ms)
Completed 200 OK in 97ms (Views: 39.8ms | ActiveRecord: 3.3ms)
  [1m[35m (4.2ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:31')


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:20:31 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 22ms (Views: 16.5ms | ActiveRecord: 0.4ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:20:33 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38840.729242", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:33')
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:34')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:37')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:40')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:20:40 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:40')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:40')[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.3ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.9ms)
  Rendered shared/_footer_col24.html.slim (0.0ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.3ms)
  Rendered shared/_menu.html.slim (3.3ms)
  Rendered shared/_header.html.slim (5.5ms)
  Rendered layouts/application.html.slim (23.4ms)
Completed 200 OK in 85ms (Views: 37.7ms | ActiveRecord: 3.2ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:20:41 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 16ms (Views: 9.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:43')


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:20:43 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38811.719679", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:43')[0m
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:46')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:49')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:52')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:55')


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-23 17:20:55 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"5.00", "origin_volume"=>"5", "total"=>"25.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:55')[0m
Unpermitted parameters: total
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (20.4ms)[0m  INSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:20:55', 3, 25.0, 1, 'limit', 25.0, 5.0, 5.0, 'Web', 100, 'OrderBid', '2014-07-23 17:20:55', 5.0)
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mupdate accounts set balance = balance + -25.0, locked = locked + 25.0 where id = 1[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,1,1,25,'Order',25.0,-25.0,'2014-07-23 17:20:55','2014-07-23 17:20:55' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -1359.0 AND `accounts`.`locked` = 1359.0
  [1m[36m (152.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 217ms (Views: 0.1ms | ActiveRecord: 175.4ms)
  [1m[35mMember Load (43.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:20:57 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (130.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:57')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:58')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (1.3ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.9ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (4.3ms)
  Rendered private/markets/_market_trades.html.slim (0.5ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (13.2ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (5.1ms)
  Rendered shared/_header.html.slim (7.2ms)
  Rendered layouts/application.html.slim (25.7ms)
Completed 200 OK in 242ms (Views: 42.4ms | ActiveRecord: 134.8ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:20:58')[0m


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:20:59 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 15ms (Views: 10.6ms | ActiveRecord: 0.3ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:21:01 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38840.729287", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:01')
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:01')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:04')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:07')


Started GET "/admin" for 127.0.0.1 at 2014-07-23 17:21:09 +0530
Processing by Admin::DashboardController#index as HTML
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:09')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  Rendered admin/dashboard/index.html.slim within layouts/admin (30.7ms)
  Rendered shared/_flash.slim (0.1ms)
Completed 200 OK in 60ms (Views: 46.1ms | ActiveRecord: 2.8ms)
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:10')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:13')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:16')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:19')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:22')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:25')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:28')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:31')
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`state` = 100 AND `orders`.`currency` = 3 ORDER BY id asc[0m
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:34')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:37')


Started GET "/" for 127.0.0.1 at 2014-07-23 17:21:37 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by WelcomeController#index as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:37')[0m
Redirected to http://localhost:3000/markets/btccny
Completed 302 Found in 62ms (ActiveRecord: 3.9ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:21:37 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:37')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:37')
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (7.2ms)
  Rendered private/markets/_account_balance.html.slim (3.9ms)
  Rendered private/markets/_price_chart.html.slim (2.5ms)
  Rendered private/markets/_place_order.html.slim (25.7ms)
  Rendered private/markets/_market_trades.html.slim (4.2ms)
  Rendered private/markets/_order_book.html.slim (3.3ms)
  Rendered private/markets/_my_orders.html.slim (9.6ms)
  Rendered private/markets/show.html.slim within layouts/market (83.8ms)
  Rendered shared/_footer_col24.html.slim (27.7ms)
  Rendered shared/_html5.html.slim (10.5ms)
  Rendered shared/_meta.html.slim (3.3ms)
  Rendered shared/_browser.html.slim (2.6ms)
  Rendered shared/_pusher.html.slim (3.2ms)
  Rendered shared/_menu.html.slim (21.5ms)
  Rendered shared/_header.html.slim (29.1ms)
  Rendered layouts/application.html.slim (952.0ms)
Completed 200 OK in 1228ms (Views: 1077.5ms | ActiveRecord: 8.1ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:21:40 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.5ms)
Completed 200 OK in 20ms (Views: 11.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:40')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:21:41 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38843.728926", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:41')
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:43')
  [1m[36m (22.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:46')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:49')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:52')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:55')


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-23 17:21:58 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"12.00", "origin_volume"=>"12", "total"=>"144.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:58')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:58')[0m
Unpermitted parameters: total
  [1m[36mTrade Load (0.7ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (23.8ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:21:58', 3, 144.0, 1, 'limit', 144.0, 12.0, 12.0, 'Web', 100, 'OrderBid', '2014-07-23 17:21:58', 12.0)[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  update accounts set balance = balance + -144.0, locked = locked + 144.0 where id = 1
  [1m[36m (0.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,1,1,26,'Order',144.0,-144.0,'2014-07-23 17:21:58','2014-07-23 17:21:58' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -1503.0 AND `accounts`.`locked` = 1503.0[0m
  [1m[35m (87.4ms)[0m  COMMIT
Completed 200 OK in 228ms (Views: 0.2ms | ActiveRecord: 114.6ms)
  [1m[36mMember Load (25.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:21:59 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:59')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:21:59')[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.9ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.2ms)
  Rendered private/markets/_market_trades.html.slim (0.3ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (11.7ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.5ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.5ms)
  Rendered shared/_header.html.slim (5.7ms)
  Rendered layouts/application.html.slim (25.0ms)
Completed 200 OK in 99ms (Views: 40.5ms | ActiveRecord: 3.3ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:22:00 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.2ms)
Completed 200 OK in 15ms (Views: 7.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:01')


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:22:02 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38802.774820", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:02')[0m
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 1.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:04')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:07')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:10')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:22:13 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:13')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:13')
  [1m[36mOrder Load (0.7ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.7ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.6ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.9ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.7ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:13')
  Rendered shared/_menu.html.slim (3.5ms)
  Rendered shared/_header.html.slim (5.4ms)
  Rendered layouts/application.html.slim (23.3ms)
Completed 200 OK in 88ms (Views: 37.9ms | ActiveRecord: 3.9ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:22:14 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 11ms (Views: 6.1ms | ActiveRecord: 0.3ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:22:15 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38855.799994", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.6ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:15')
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 1.1ms)
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:16')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:19')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:22')[0m
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:25')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:28')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:31')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:34')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:37')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:40')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:43')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:46')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:49')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:52')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:55')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:22:58')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:23:01')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:23:04')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:23:07')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:23:10')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:23:13')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:23:16')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:23:19')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:23:22')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:23:25')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:23:28')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:23:31')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:23:34')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:23:37')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:23:40')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:23:43')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:23:46')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:23:49')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:23:52')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:23:55')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:23:58')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:24:01')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:24:04')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:24:07')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:24:10')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:24:13')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:24:16')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:24:19')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:24:22')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:24:25')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:24:28')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:24:31')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:24:34')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:24:37')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:24:40')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:24:43')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:24:46')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:24:49')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:24:52')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:24:55')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:24:58')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:25:01')
  [1m[36m (0.8ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:25:04')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:25:07')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:25:10')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:25:13')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:25:16')[0m
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:25:20')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:25:23')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:25:26')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:25:29')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:25:32')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:25:35')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:25:38')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:25:41')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:25:44')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:25:47')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:25:50')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:25:53')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:25:56')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:25:59')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:26:02')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:26:05')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:26:08')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:26:11')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:26:14')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:26:17')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:26:20')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:26:23')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:26:26')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:26:29')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:26:32')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:26:35')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:26:38')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:26:41')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:26:44')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:26:47')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:26:50')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:26:53')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:26:56')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:26:59')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:27:02')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:27:05')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:27:08')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:27:11')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:27:14')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:27:17')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:27:20')
  [1m[36m (0.8ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:27:23')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:27:26')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:27:29')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:27:32')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:27:35')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:27:38')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:27:41')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:27:44')
  [1m[36m (1.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:27:47')[0m
  [1m[35m (0.9ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:27:50')
  [1m[36m (0.7ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:27:53')[0m
  [1m[35m (0.8ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:27:56')
  [1m[36m (0.7ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:27:59')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:28:02')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:28:05')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:28:08')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:28:11')[0m
  [1m[35m (0.9ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:28:14')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:28:17')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:28:20')
  [1m[36m (0.7ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:28:23')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:28:26')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:28:29')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:28:32')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:28:35')[0m
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:28:38')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:28:41')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:28:44')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:28:47')[0m
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:28:50')
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:28:53')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:28:56')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:28:59')[0m


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-23 17:29:00 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"2.00", "origin_volume"=>"1", "total"=>"2.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:00')
Unpermitted parameters: total
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (18.5ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:29:00', 3, 2.0, 1, 'limit', 2.0, 1.0, 2.0, 'Web', 100, 'OrderBid', '2014-07-23 17:29:00', 1.0)[0m
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  update accounts set balance = balance + -2.0, locked = locked + 2.0 where id = 1
  [1m[36m (0.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,1,1,27,'Order',2.0,-2.0,'2014-07-23 17:29:00','2014-07-23 17:29:00' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -1505.0 AND `accounts`.`locked` = 1505.0[0m
  [1m[35m (49.4ms)[0m  COMMIT
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
Completed 200 OK in 115ms (Views: 0.2ms | ActiveRecord: 70.9ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:29:02 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.7ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:02')
  [1m[36mTrade Load (21.6ms)[0m  [1mSELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:02') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:02')
  [1m[36mOrder Load (0.8ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.2ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.2ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (13.5ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.9ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.0ms)
  Rendered shared/_header.html.slim (4.8ms)
  Rendered layouts/application.html.slim (23.2ms)
Completed 200 OK in 127ms (Views: 40.6ms | ActiveRecord: 25.5ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:02')


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:29:03 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 10ms (Views: 5.8ms | ActiveRecord: 0.4ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:29:05 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38804.731505", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:05')
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 1.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:05')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:08')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:11')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:14')


Started POST "/markets/btccny/order_asks" for 127.0.0.1 at 2014-07-23 17:29:16 +0530
Processing by Private::OrderAsksController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_ask"=>{"ord_type"=>"limit", "price"=>"30.00", "origin_volume"=>"20", "total"=>"600.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:16')
Unpermitted parameters: total
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:29:16', 3, 20.0, 1, 'limit', 20.0, 20.0, 30.0, 'Web', 100, 'OrderAsk', '2014-07-23 17:29:16', 20.0)[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  update accounts set balance = balance + -20.0, locked = locked + 20.0 where id = 2
  [1m[36m (0.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,2,1,2,28,'Order',20.0,-20.0,'2014-07-23 17:29:16','2014-07-23 17:29:16' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -157.0 AND `accounts`.`locked` = 157.0[0m
  [1m[35m (83.0ms)[0m  COMMIT
Completed 200 OK in 140ms (Views: 0.1ms | ActiveRecord: 86.8ms)
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:17')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:29:18 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:18')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:18')[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.7ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (11.3ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.9ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.7ms)
  Rendered shared/_header.html.slim (5.6ms)
  Rendered layouts/application.html.slim (35.4ms)
Completed 200 OK in 99ms (Views: 50.5ms | ActiveRecord: 3.5ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:29:20 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 11ms (Views: 5.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:20')


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:29:21 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38870.726521", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:21')[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:23')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:26')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:29')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:32')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:35')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:38')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:41')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:44')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:47')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:50')
  [1m[36m (0.8ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:53')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:56')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:29:59')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:30:02')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:30:05')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:30:08')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:30:11')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:30:14')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:30:17')[0m
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:30:20')
  [1m[36m (22.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:30:23')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:30:26')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:30:29')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:30:32')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:30:35')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:30:38')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:30:41')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:30:45')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:30:48')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:30:51')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:30:54')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:30:57')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:31:00')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:31:03')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:31:06')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:31:09')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:31:12')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:31:15')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:31:18')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:31:21')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:31:24')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:31:27')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:31:30')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:31:33')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:31:36')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:31:39')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:31:42')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:31:45')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:31:48')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:31:51')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:31:54')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:31:57')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:32:00')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:32:03')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:32:06')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:32:09')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:32:12')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:32:15')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:32:18')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:32:21')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:32:24')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:32:27')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:32:30')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:32:33')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:32:36')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:32:39')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:32:42')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:32:45')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:32:48')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:32:51')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:32:54')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:32:57')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:33:00')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:33:03')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:33:06')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:33:09')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:33:12')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:33:15')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:33:18')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:33:21')
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:33:24')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:33:27')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:33:30')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:33:33')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:33:36')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:33:39')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:33:42')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:33:45')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:33:48')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:33:51')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:33:54')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:33:57')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:34:00')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:34:03')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:34:06')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:34:09')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:34:12')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:34:15')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:34:18')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:34:21')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:34:24')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:34:27')
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:34:30')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:34:33')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:34:36')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:34:39')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:34:42')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:34:45')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:34:48')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:34:51')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:34:54')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:34:57')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:35:01')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:35:04')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:35:07')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:35:10')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:35:13')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:35:16')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:35:19')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:35:22')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:35:25')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:35:28')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:35:31')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:35:34')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:35:37')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:35:40')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:35:43')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:35:46')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:35:49')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:35:52')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:35:55')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:35:58')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:36:01')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:36:04')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:36:07')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:36:10')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:36:13')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:36:16')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:36:19')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:36:22')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:36:25')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:36:28')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:36:31')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:36:34')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:36:37')[0m
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:36:40')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:36:43')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:36:46')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:36:49')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:36:52')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:36:55')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:36:58')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:37:01')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:37:04')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:37:07')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:37:10')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:37:13')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:37:16')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:37:19')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:37:22')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:37:25')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:37:28')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:37:31')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:37:34')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:37:37')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:37:40')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:37:43')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:37:46')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:37:49')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:37:52')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:37:55')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:37:58')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:01')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:04')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:07')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:10')
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:13')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:16')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:19')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:22')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:25')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:28')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:31')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:38:34 +0530
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:34')
  [1m[36mActiveRecord::SchemaMigration Load (22.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (28.1ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:35')[0m
  [1m[35mTrade Load (102.3ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:35') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:35')[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.5ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.7ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (9.3ms)
  Rendered private/markets/_account_balance.html.slim (3.7ms)
  Rendered private/markets/_price_chart.html.slim (2.4ms)
  Rendered private/markets/_place_order.html.slim (87.0ms)
  Rendered private/markets/_market_trades.html.slim (3.7ms)
  Rendered private/markets/_order_book.html.slim (2.9ms)
  Rendered private/markets/_my_orders.html.slim (52.3ms)
  Rendered private/markets/show.html.slim within layouts/market (278.4ms)
  Rendered shared/_footer_col24.html.slim (17.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:37')[0m
  Rendered shared/_html5.html.slim (94.7ms)
  Rendered shared/_meta.html.slim (3.4ms)
  Rendered shared/_browser.html.slim (3.2ms)
  Rendered shared/_pusher.html.slim (4.0ms)
  Rendered shared/_menu.html.slim (11.9ms)
  Rendered shared/_header.html.slim (33.8ms)
  Rendered layouts/application.html.slim (2035.9ms)
Completed 200 OK in 3003ms (Views: 2442.0ms | ActiveRecord: 153.4ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:38:38 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38815.723349", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:38')
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (1.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:40')


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:38:42 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.4ms)
Completed 200 OK in 296ms (Views: 292.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:43')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:38:44 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38839.717759", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:44')[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:46')


Started GET "/credits/new" for 127.0.0.1 at 2014-07-23 17:38:48 +0530
Processing by CreditsController#new as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:48')[0m
  Rendered credits/_form.html.slim (30.5ms)
  [1m[35mCredit Load (92.3ms)[0m  SELECT `credits`.* FROM `credits`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `credits`.* FROM `credits`[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `credits`.* FROM `credits`
  Rendered credits/new.html.slim within layouts/frame (143.8ms)
  Rendered shared/_flash.slim (6.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:49')[0m
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.5ms)
  Rendered shared/_header.html.slim (7.6ms)
  Rendered shared/_footer.html.slim (6.8ms)
  Rendered layouts/application.html.slim (2855.8ms)
Completed 200 OK in 3103ms (Views: 2966.5ms | ActiveRecord: 115.8ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:38:51 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38837.717646", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:51')
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:52')
  [1m[36m (0.7ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:55')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:38:58')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:01')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:04')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:07')[0m


Started GET "/credits/new" for 127.0.0.1 at 2014-07-23 17:39:09 +0530
Processing by CreditsController#new as HTML
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:09')
  Rendered credits/_form.html.slim (2.1ms)
  [1m[36mCredit Load (0.4ms)[0m  [1mSELECT `credits`.* FROM `credits`[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `credits`.* FROM `credits`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `credits`.* FROM `credits`[0m
  Rendered credits/new.html.slim within layouts/frame (11.0ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.2ms)
  Rendered shared/_header.html.slim (4.9ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (23.3ms)
Completed 200 OK in 54ms (Views: 38.7ms | ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:10')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:13')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:16')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:19')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:22')


Started POST "/credits/create" for 127.0.0.1 at 2014-07-23 17:39:24 +0530
Processing by CreditsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"xFyfgqwwFnsI3twOXMp5viV+ihuVSy9P+WNmyMYGO/o=", "credit"=>{"currency"=>"btc", "amount"=>"23"}, "commit"=>"Create Credit"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:24')[0m
  [1m[35m (49.5ms)[0m  BEGIN
  [1m[36mSQL (393.1ms)[0m  [1mINSERT INTO `credits` (`amount`, `created_at`, `currency`, `member_id`, `updated_at`) VALUES (23, '2014-07-23 17:39:24', 'btc', 1, '2014-07-23 17:39:24')[0m
  [1m[35m (137.4ms)[0m  COMMIT
Redirected to http://localhost:3000/credits/new
Completed 302 Found in 610ms (ActiveRecord: 580.9ms)


Started GET "/credits/new" for 127.0.0.1 at 2014-07-23 17:39:25 +0530
Processing by CreditsController#new as HTML
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:25')
  Rendered credits/_form.html.slim (1.9ms)
  [1m[36mCredit Load (0.4ms)[0m  [1mSELECT `credits`.* FROM `credits`[0m
  Rendered credits/new.html.slim within layouts/frame (32.4ms)
Completed 500 Internal Server Error in 47ms

NoMethodError - undefined method `credits_delete_path' for #<#<Class:0xe35dfa0>:0xabd6780>:
  app/views/credits/new.html.slim:21:in `block in _app_views_credits_new_html_slim__343844623_119203030'
  app/views/credits/new.html.slim:16:in `_app_views_credits_new_html_slim__343844623_119203030'
  actionpack (4.0.8) lib/action_view/template.rb:143:in `block in render'
  activesupport (4.0.8) lib/active_support/notifications.rb:161:in `instrument'
  actionpack (4.0.8) lib/action_view/template.rb:141:in `render'
  actionpack (4.0.8) lib/action_view/renderer/template_renderer.rb:49:in `block (2 levels) in render_template'
  actionpack (4.0.8) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
  activesupport (4.0.8) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.8) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.8) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.8) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
  actionpack (4.0.8) lib/action_view/renderer/template_renderer.rb:48:in `block in render_template'
  actionpack (4.0.8) lib/action_view/renderer/template_renderer.rb:56:in `render_with_layout'
  actionpack (4.0.8) lib/action_view/renderer/template_renderer.rb:47:in `render_template'
  actionpack (4.0.8) lib/action_view/renderer/template_renderer.rb:17:in `render'
  actionpack (4.0.8) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionpack (4.0.8) lib/action_view/renderer/renderer.rb:23:in `render'
  actionpack (4.0.8) lib/abstract_controller/rendering.rb:127:in `_render_template'
  actionpack (4.0.8) lib/action_controller/metal/streaming.rb:219:in `_render_template'
  actionpack (4.0.8) lib/abstract_controller/rendering.rb:120:in `render_to_body'
  actionpack (4.0.8) lib/action_controller/metal/rendering.rb:33:in `render_to_body'
  actionpack (4.0.8) lib/action_controller/metal/renderers.rb:26:in `render_to_body'
  actionpack (4.0.8) lib/abstract_controller/rendering.rb:97:in `render'
  actionpack (4.0.8) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.0.8) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.0.8) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /home/yuva/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
  activesupport (4.0.8) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.0.8) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.0.8) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.0.8) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.0.8) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.0.8) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.0.8) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.0.8) lib/abstract_controller/base.rb:189:in `process_action'
  actionpack (4.0.8) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.0.8) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
  activesupport (4.0.8) lib/active_support/callbacks.rb:443:in `_run__245994857__process_action__callbacks'
  activesupport (4.0.8) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.8) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (4.0.8) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.0.8) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.0.8) lib/active_support/notifications.rb:159:in `block in instrument'
  activesupport (4.0.8) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.0.8) lib/active_support/notifications.rb:159:in `instrument'
  actionpack (4.0.8) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.0.8) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.0.8) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.0.8) lib/abstract_controller/base.rb:136:in `process'
  actionpack (4.0.8) lib/abstract_controller/rendering.rb:44:in `process'
  actionpack (4.0.8) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.0.8) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.0.8) lib/action_controller/metal.rb:231:in `block in action'
  actionpack (4.0.8) lib/action_dispatch/routing/route_set.rb:82:in `dispatch'
  actionpack (4.0.8) lib/action_dispatch/routing/route_set.rb:50:in `call'
  actionpack (4.0.8) lib/action_dispatch/journey/router.rb:71:in `block in call'
  actionpack (4.0.8) lib/action_dispatch/journey/router.rb:59:in `call'
  actionpack (4.0.8) lib/action_dispatch/routing/route_set.rb:676:in `call'
  omniauth (1.2.2) lib/omniauth/strategy.rb:404:in `call_app!'
  omniauth-identity (1.1.1) lib/omniauth/strategies/identity.rb:43:in `other_phase'
  omniauth (1.2.2) lib/omniauth/strategy.rb:185:in `call!'
  omniauth (1.2.2) lib/omniauth/strategy.rb:164:in `call'
  omniauth (1.2.2) lib/omniauth/builder.rb:59:in `call'
  meta_request (0.3.3) lib/meta_request/middlewares/app_request_handler.rb:13:in `call'
  rack-contrib (1.1.0) lib/rack/contrib/response_headers.rb:17:in `call'
  meta_request (0.3.3) lib/meta_request/middlewares/headers.rb:16:in `call'
  meta_request (0.3.3) lib/meta_request/middlewares/meta_request_handler.rb:13:in `call'
  http_accept_language (2.0.1) lib/http_accept_language/middleware.rb:13:in `call'
  rack (1.5.2) lib/rack/etag.rb:23:in `call'
  rack (1.5.2) lib/rack/conditionalget.rb:25:in `call'
  rack (1.5.2) lib/rack/head.rb:11:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/flash.rb:241:in `call'
  rack (1.5.2) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.5.2) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/cookies.rb:486:in `call'
  activerecord (4.0.8) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.0.8) lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call'
  activerecord (4.0.8) lib/active_record/migration.rb:373:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.0.8) lib/active_support/callbacks.rb:373:in `_run__656802250__call__callbacks'
  activesupport (4.0.8) lib/active_support/callbacks.rb:80:in `run_callbacks'
  actionpack (4.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/reloader.rb:64:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/remote_ip.rb:76:in `call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'
  better_errors (1.1.0) lib/better_errors/middleware.rb:56:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.8) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.8) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.0.8) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.0.8) lib/rails/rack/logger.rb:20:in `call'
  quiet_assets (1.0.3) lib/quiet_assets.rb:23:in `call_with_quiet_assets'
  actionpack (4.0.8) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  request_store (1.0.6) lib/request_store/middleware.rb:8:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  actionpack (4.0.8) lib/action_dispatch/middleware/static.rb:64:in `call'
  rack (1.5.2) lib/rack/sendfile.rb:112:in `call'
  railties (4.0.8) lib/rails/engine.rb:511:in `call'
  railties (4.0.8) lib/rails/application.rb:97:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /home/yuva/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
  /home/yuva/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
  /home/yuva/.rvm/rubies/ruby-2.1.2/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'

  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:25')[0m


Started POST "/__better_errors/-649837588/variables" for 127.0.0.1 at 2014-07-23 17:39:26 +0530
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:28')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:31')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:34')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:37')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:40')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:43')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:46')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:49')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:52')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:55')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:39:58')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:40:01')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:40:04')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:40:07')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:40:10')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:40:13')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:40:16')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:40:19')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:40:22')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:40:25')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:40:28')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:40:31')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:40:34')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:40:37')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:40:40')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:40:43')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:40:46')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:40:49')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:40:52')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:40:55')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:40:58')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:41:02')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:41:05')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:41:08')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:41:11')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:41:14')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:41:17')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:41:20')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:41:23')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:41:26')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:41:29')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:41:32')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:41:35')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:41:38')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:41:41')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:41:44')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:41:47')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:41:50')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:41:53')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:41:56')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:41:59')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:02')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:05')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:08')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:11')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:14')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:17')
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:20')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:23')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:26')[0m


Started GET "/credits/new" for 127.0.0.1 at 2014-07-23 17:42:26 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by CreditsController#new as HTML
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:27')[0m
  Rendered credits/_form.html.slim (26.8ms)
  [1m[35mCredit Load (0.4ms)[0m  SELECT `credits`.* FROM `credits`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `credits`.* FROM `credits`[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `credits`.* FROM `credits`
  Rendered credits/new.html.slim within layouts/frame (92.7ms)
  Rendered shared/_flash.slim (5.5ms)
  Rendered shared/_html5.html.slim (46.7ms)
  Rendered shared/_meta.html.slim (3.2ms)
  Rendered shared/_browser.html.slim (3.0ms)
  Rendered shared/_pusher.html.slim (2.8ms)
  Rendered shared/_menu.html.slim (24.0ms)
  Rendered shared/_header.html.slim (31.4ms)
  Rendered shared/_footer.html.slim (14.5ms)
  Rendered layouts/application.html.slim (752.3ms)
Completed 200 OK in 979ms (Views: 893.7ms | ActiveRecord: 6.1ms)


Started GET "/credits/new" for 127.0.0.1 at 2014-07-23 17:42:28 +0530
Processing by CreditsController#new as HTML
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:28')
  Rendered credits/_form.html.slim (2.2ms)
  [1m[36mCredit Load (0.4ms)[0m  [1mSELECT `credits`.* FROM `credits`[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `credits`.* FROM `credits`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `credits`.* FROM `credits`[0m
  Rendered credits/new.html.slim within layouts/frame (12.2ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.2ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.3ms)
  Rendered shared/_header.html.slim (5.3ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (24.6ms)
Completed 200 OK in 57ms (Views: 41.5ms | ActiveRecord: 1.4ms)
  [1m[35m (0.9ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:29')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:32')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:35')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:38')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:41')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:44')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:47')


Started POST "/credits/create" for 127.0.0.1 at 2014-07-23 17:42:49 +0530
Processing by CreditsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"xFyfgqwwFnsI3twOXMp5viV+ihuVSy9P+WNmyMYGO/o=", "credit"=>{"currency"=>"btc", "amount"=>"32"}, "commit"=>"Create Credit"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:49')[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (11.5ms)[0m  [1mINSERT INTO `credits` (`amount`, `created_at`, `currency`, `member_id`, `updated_at`) VALUES (32, '2014-07-23 17:42:49', 'btc', 1, '2014-07-23 17:42:49')[0m
  [1m[35m (66.3ms)[0m  COMMIT
Redirected to http://localhost:3000/credits/new
Completed 302 Found in 275ms (ActiveRecord: 78.7ms)


Started GET "/credits/new" for 127.0.0.1 at 2014-07-23 17:42:49 +0530
Processing by CreditsController#new as HTML
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:49')
  Rendered credits/_form.html.slim (2.1ms)
  [1m[36mCredit Load (4.8ms)[0m  [1mSELECT `credits`.* FROM `credits`[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `credits`.* FROM `credits`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `credits`.* FROM `credits`[0m
  Rendered credits/new.html.slim within layouts/frame (17.3ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (1.0ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.0ms)
  Rendered shared/_header.html.slim (4.8ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (23.8ms)
Completed 200 OK in 57ms (Views: 41.5ms | ActiveRecord: 5.6ms)
  [1m[36m (1.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:50')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:53')


Started GET "/credits/delete?id=1" for 127.0.0.1 at 2014-07-23 17:42:53 +0530
Processing by CreditsController#delete as HTML
  Parameters: {"id"=>"1"}
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:53')[0m
  [1m[35mCredit Load (0.4ms)[0m  SELECT `credits`.* FROM `credits` WHERE `credits`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (49.9ms)[0m  DELETE FROM `credits` WHERE `credits`.`id` = 1
  [1m[36m (95.7ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/credits/new
Completed 302 Found in 171ms (ActiveRecord: 147.1ms)


Started GET "/credits/new" for 127.0.0.1 at 2014-07-23 17:42:53 +0530
Processing by CreditsController#new as HTML
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:53')[0m
  Rendered credits/_form.html.slim (1.9ms)
  [1m[35mCredit Load (0.4ms)[0m  SELECT `credits`.* FROM `credits`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `credits`.* FROM `credits`[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `credits`.* FROM `credits`
  Rendered credits/new.html.slim within layouts/frame (12.0ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.2ms)
  Rendered shared/_header.html.slim (5.1ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (24.8ms)
Completed 200 OK in 54ms (Views: 41.6ms | ActiveRecord: 1.4ms)
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:56')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:42:59 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:59')
  [1m[36mTrade Load (11.9ms)[0m  [1mSELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:59') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:59')
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (2.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[35m (19.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:42:59')
  [1m[36mAccount Load (18.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.9ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (7.1ms)
  Rendered private/markets/_account_balance.html.slim (3.8ms)
  Rendered private/markets/_price_chart.html.slim (3.0ms)
  Rendered private/markets/_place_order.html.slim (37.3ms)
  Rendered private/markets/_market_trades.html.slim (6.7ms)
  Rendered private/markets/_order_book.html.slim (5.1ms)
  Rendered private/markets/_my_orders.html.slim (9.0ms)
  Rendered private/markets/show.html.slim within layouts/market (136.4ms)
  Rendered shared/_footer_col24.html.slim (7.5ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.5ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.3ms)
  Rendered shared/_header.html.slim (5.1ms)
  Rendered layouts/application.html.slim (61.9ms)
Completed 200 OK in 495ms (Views: 236.5ms | ActiveRecord: 39.1ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:43:01 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.4ms)
Completed 200 OK in 74ms (Views: 69.3ms | ActiveRecord: 0.3ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:43:02 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38867.709996", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:02')
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:02')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:05')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:08')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:11')


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-23 17:43:12 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"10.00", "origin_volume"=>"10", "total"=>"100.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:12')
Unpermitted parameters: total
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (9.1ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:43:12', 3, 100.0, 1, 'limit', 100.0, 10.0, 10.0, 'Web', 100, 'OrderBid', '2014-07-23 17:43:12', 10.0)[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (77.7ms)[0m  update accounts set balance = balance + -100.0, locked = locked + 100.0 where id = 1
  [1m[36m (75.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,1,1,29,'Order',100.0,-100.0,'2014-07-23 17:43:12','2014-07-23 17:43:12' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -1605.0 AND `accounts`.`locked` = 1605.0[0m
  [1m[35m (125.1ms)[0m  COMMIT
Completed 200 OK in 661ms (Views: 0.1ms | ActiveRecord: 289.8ms)
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:14')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:43:14 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:14')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:14')[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.2ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (10.8ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.8ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.5ms)
  Rendered shared/_header.html.slim (5.5ms)
  Rendered layouts/application.html.slim (24.4ms)
Completed 200 OK in 89ms (Views: 39.0ms | ActiveRecord: 3.0ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:43:15 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 27ms (Views: 15.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:17')


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:43:17 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38865.710584", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.6ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:17')[0m
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 1.1ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:20')[0m
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:23')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:43:24 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:24')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:24')
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (1.0ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.1ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.1ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.3ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.2ms)
  Rendered shared/_header.html.slim (5.0ms)
  Rendered layouts/application.html.slim (22.7ms)
Completed 200 OK in 101ms (Views: 35.9ms | ActiveRecord: 4.2ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:43:25 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 15ms (Views: 9.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:26')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:43:27 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38854.804399", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:27')
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:29')
  [1m[36m (1.2ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:32')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:35')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:38')[0m


Started POST "/markets/btccny/order_asks" for 127.0.0.1 at 2014-07-23 17:43:40 +0530
Processing by Private::OrderAsksController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_ask"=>{"ord_type"=>"limit", "price"=>"1.00", "origin_volume"=>"11", "total"=>"11.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:40')
Unpermitted parameters: total
  [1m[36mTrade Load (0.5ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (17.1ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:43:40', 3, 11.0, 1, 'limit', 11.0, 11.0, 1.0, 'Web', 100, 'OrderAsk', '2014-07-23 17:43:40', 11.0)[0m
  [1m[35mMember Load (0.6ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  update accounts set balance = balance + -11.0, locked = locked + 11.0 where id = 2
  [1m[36m (0.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,2,1,2,30,'Order',11.0,-11.0,'2014-07-23 17:43:40','2014-07-23 17:43:40' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -168.0 AND `accounts`.`locked` = 168.0[0m
  [1m[35m (229.2ms)[0m  COMMIT
Completed 200 OK in 294ms (Views: 0.5ms | ActiveRecord: 249.5ms)
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:41')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:43:42 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (2.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:42')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:42')[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  Rendered private/markets/_price_chart.html.slim (0.2ms)
  Rendered private/markets/_place_order.html.slim (13.4ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (22.2ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.1ms)
  Rendered shared/_header.html.slim (5.5ms)
  Rendered layouts/application.html.slim (75.1ms)
Completed 200 OK in 157ms (Views: 100.9ms | ActiveRecord: 5.3ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:43:44 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 18ms (Views: 9.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:44')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:43:46 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38820.716334", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:46')[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 1.3ms)
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:47')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:50')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:43:52 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:52')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:52')
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.3ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  [1m[35m (823.3ms)[0m  BEGIN
  Rendered private/markets/_place_order.html.slim (3.3ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.4ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.6ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.4ms)
  Rendered shared/_header.html.slim (5.3ms)
  Rendered layouts/application.html.slim (23.8ms)
Completed 200 OK in 87ms (Views: 37.5ms | ActiveRecord: 2.7ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:43:53 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 13ms (Views: 9.1ms | ActiveRecord: 0.3ms)
  [1m[35m (1.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:53')


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:43:55 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38851.734023", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:55')
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:43:55 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:55')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:55')[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.2ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (2.8ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (9.3ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.7ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (2.7ms)
  Rendered shared/_header.html.slim (4.3ms)
  Rendered layouts/application.html.slim (21.6ms)
Completed 200 OK in 81ms (Views: 34.0ms | ActiveRecord: 3.8ms)
  [1m[36m (1012.2ms)[0m  [1mBEGIN[0m


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:43:56 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:56')[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 247ms (Views: 242.9ms | ActiveRecord: 0.3ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:43:57 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38855.802134", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:57')[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:43:59')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:02')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:44:04 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:04')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:04')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.3ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.3ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (11.5ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.5ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  [1m[36mOrderAsk Load (448.1ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 30 LIMIT 1 FOR UPDATE[0m
  Rendered shared/_menu.html.slim (3.0ms)
  Rendered shared/_header.html.slim (4.8ms)
  Rendered layouts/application.html.slim (23.1ms)
Completed 200 OK in 86ms (Views: 38.1ms | ActiveRecord: 2.8ms)
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:05')


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:44:06 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 15ms (Views: 10.1ms | ActiveRecord: 0.3ms)
  [1m[35mOrderBid Load (35.0ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 12 LIMIT 1 FOR UPDATE


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:44:07 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38848.733716", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:07')
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:08')[0m
  [1m[36mTrade Load (0.5ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35mSQL (24.9ms)[0m  INSERT INTO `trades` (`ask_id`, `ask_member_id`, `bid_id`, `bid_member_id`, `created_at`, `currency`, `funds`, `price`, `trend`, `updated_at`, `volume`) VALUES (30, 1, 12, 1, '2014-07-23 17:44:10', 3, 66.0, 22.0, 0, '2014-07-23 17:44:10', 3.0)
  [1m[35m (166.9ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:11')
  [1m[36mMember Load (59.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:14')[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (51.3ms)[0m  [1mupdate accounts set balance = balance + 0.0, locked = locked + -66.0 where id = 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:17')
  [1m[35m (0.6ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-66.0,1,1,1,11,'Trade',-66.0,0.0,'2014-07-23 17:44:17','2014-07-23 17:44:17' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -1605.0 AND `accounts`.`locked` = 1539.0
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  update accounts set balance = balance + 3.0, locked = locked + 0 where id = 2
  [1m[36m (0.6ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,3.0,2,1,2,11,'Trade',0.0,3.0,'2014-07-23 17:44:19','2014-07-23 17:44:19' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -165.0 AND `accounts`.`locked` = 168.0[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `orders` SET `volume` = 0.0, `locked` = 0.0, `funds_received` = 11.0, `state` = 200, `updated_at` = '2014-07-23 17:44:19' WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 12
  [1m[36mMember Load (39.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (18.1ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mupdate accounts set balance = balance + 0.0, locked = locked + -3.0 where id = 2[0m
  [1m[35m (0.6ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,0.0,2,1,2,11,'Trade',-3.0,0.0,'2014-07-23 17:44:19','2014-07-23 17:44:19' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -165.0 AND `accounts`.`locked` = 165.0
  [1m[36mAccount Load (35.0ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  update accounts set balance = balance + 66.0, locked = locked + 0 where id = 1
  [1m[36m (0.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,0.0,1,1,1,11,'Trade',0.0,66.0,'2014-07-23 17:44:20','2014-07-23 17:44:20' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -1539.0 AND `accounts`.`locked` = 1539.0[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `orders` SET `volume` = 8.0, `locked` = 8.0, `funds_received` = 66.0, `updated_at` = '2014-07-23 17:44:20' WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 30
  [1m[35mOrderAsk Load (14332.3ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 30 LIMIT 1 FOR UPDATE
  [1m[36m (116.4ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:20')[0m
  [1m[35mMember Load (138.1ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:23')
  [1m[36mOrderBid Load (66.1ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 17 LIMIT 1 FOR UPDATE[0m
  [1m[36m (0.8ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:26')[0m
  [1m[35mTrade Load (31.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1


Started POST "/markets/btccny/order_asks" for 127.0.0.1 at 2014-07-23 17:44:27 +0530
Processing by Private::OrderAsksController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_ask"=>{"ord_type"=>"limit", "price"=>"22.00", "origin_volume"=>"22", "total"=>"484.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:27')
Unpermitted parameters: total
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (39.9ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:44:27', 3, 22.0, 1, 'limit', 22.0, 22.0, 22.0, 'Web', 100, 'OrderAsk', '2014-07-23 17:44:27', 22.0)[0m
  [1m[35mMember Load (3.9ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (21.9ms)[0m  update accounts set balance = balance + -22.0, locked = locked + 22.0 where id = 2
  [1m[36m (0.7ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,2,1,2,31,'Order',22.0,-22.0,'2014-07-23 17:44:27','2014-07-23 17:44:27' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -187.0 AND `accounts`.`locked` = 187.0[0m
  [1m[35m (539.5ms)[0m  COMMIT
Completed 200 OK in 663ms (Views: 0.2ms | ActiveRecord: 607.5ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:44:29 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:29')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:29')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.9ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.5ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (11.5ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.7ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.5ms)
  Rendered shared/_header.html.slim (5.5ms)
  Rendered layouts/application.html.slim (25.9ms)
Completed 200 OK in 87ms (Views: 41.7ms | ActiveRecord: 3.5ms)
  [1m[35m (3.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:29')


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:44:30 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.3ms)
Completed 200 OK in 15ms (Views: 10.7ms | ActiveRecord: 0.4ms)
  [1m[35mOrderAsk Load (25.3ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 30 LIMIT 1


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:44:32 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38846.723425", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:32')[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:32')[0m
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mOrderBid Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 12 LIMIT 1
  [1m[36mMember Load (38.1ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `trades` (`ask_id`, `ask_member_id`, `bid_id`, `bid_member_id`, `created_at`, `currency`, `funds`, `price`, `trend`, `updated_at`, `volume`) VALUES (30, 1, 17, 1, '2014-07-23 17:44:33', 3, 168.0, 21.0, 0, '2014-07-23 17:44:33', 8.0)[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:35')
  [1m[36mAccount Load (24.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (21.2ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -168.0 where id = 1
  [1m[36m (0.6ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-168.0,1,1,1,12,'Trade',-168.0,0.0,'2014-07-23 17:44:36','2014-07-23 17:44:36' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -1539.0 AND `accounts`.`locked` = 1371.0[0m
  [1m[35mAccount Load (10.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mupdate accounts set balance = balance + 8.0, locked = locked + 0 where id = 2[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,8.0,2,1,2,12,'Trade',0.0,8.0,'2014-07-23 17:44:36','2014-07-23 17:44:36' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -157.0 AND `accounts`.`locked` = 165.0


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:44:37 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:37')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:37')
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.3ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.1ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (11.3ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.3ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.3ms)
  Rendered shared/_header.html.slim (5.1ms)
  Rendered layouts/application.html.slim (22.2ms)
Completed 200 OK in 86ms (Views: 36.7ms | ActiveRecord: 3.2ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:44:38 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 15ms (Views: 9.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:38')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:44:40 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38820.716425", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:40')
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:41')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:44')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:47')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:50')[0m
  [1m[36mAccount Load (17.9ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,8.0,2,1,2,12,'Trade',0.0,8.0,'2014-07-23 17:44:52','2014-07-23 17:44:52' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -179.0 AND `accounts`.`locked` = 187.0
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `orders` SET `volume` = 26.0, `locked` = 546.0, `funds_received` = 8.0, `updated_at` = '2014-07-23 17:44:53' WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 17[0m
  [1m[35mMember Load (11.2ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:53')
  [1m[36mAccount Load (14.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -8.0 where id = 2
  [1m[36m (0.6ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,0.0,2,1,2,12,'Trade',-8.0,0.0,'2014-07-23 17:44:54','2014-07-23 17:44:54' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -179.0 AND `accounts`.`locked` = 179.0[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mupdate accounts set balance = balance + 168.0, locked = locked + 0 where id = 1[0m


Started POST "/markets/btccny/order_asks" for 127.0.0.1 at 2014-07-23 17:44:54 +0530
Processing by Private::OrderAsksController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_ask"=>{"ord_type"=>"limit", "price"=>"123.00", "origin_volume"=>"123", "total"=>"15129.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.6ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:54')
Unpermitted parameters: total
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,0.0,1,1,1,12,'Trade',0.0,168.0,'2014-07-23 17:44:54','2014-07-23 17:44:54' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -1371.0 AND `accounts`.`locked` = 1371.0
  [1m[36mSQL (42.0ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:44:54', 3, 123.0, 1, 'limit', 123.0, 123.0, 123.0, 'Web', 100, 'OrderAsk', '2014-07-23 17:44:54', 123.0)[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `orders` SET `volume` = 0.0, `locked` = 0.0, `funds_received` = 234.0, `state` = 200, `updated_at` = '2014-07-23 17:44:54' WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 30[0m
  [1m[35m (308.1ms)[0m  update accounts set balance = balance + -123.0, locked = locked + 123.0 where id = 2
  [1m[36m (0.3ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,2,1,2,32,'Order',123.0,-123.0,'2014-07-23 17:44:54','2014-07-23 17:44:54' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -310.0 AND `accounts`.`locked` = 310.0[0m
Stale account#2 found when create associated account version, retry.
  [1m[35mAccount Load (0.3ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,2,1,2,32,'Order',123.0,-123.0,'2014-07-23 17:44:54','2014-07-23 17:44:54' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -302.0 AND `accounts`.`locked` = 302.0[0m
  [1m[35m (61.7ms)[0m  COMMIT
  [1m[35m (103.7ms)[0m  COMMIT
Completed 200 OK in 519ms (Views: 0.2ms | ActiveRecord: 458.5ms)
  [1m[36mMember Load (36.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mMember Load (50.7ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mOrderAsk Load (44.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 30 LIMIT 1
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mOrderBid Load (51.7ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 17 LIMIT 1
  [1m[36mMember Load (60.9ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:56')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:44:59')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:02')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:05')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:08')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:11')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:14')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:45:15 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:15')
  [1m[36mTrade Load (22.6ms)[0m  [1mSELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:15') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:15')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.7ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.4ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (2.9ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.3ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.4ms)
  Rendered shared/_header.html.slim (5.4ms)
  Rendered layouts/application.html.slim (23.0ms)
Completed 200 OK in 117ms (Views: 37.0ms | ActiveRecord: 26.2ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:45:16 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 14ms (Views: 9.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:17')


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:45:18 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38863.709251", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:18')
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 0.8ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:45:18 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:18')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:18')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.3ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (11.3ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.4ms)
  Rendered shared/_header.html.slim (5.2ms)
  Rendered layouts/application.html.slim (22.8ms)
Completed 200 OK in 86ms (Views: 37.5ms | ActiveRecord: 3.3ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:45:20 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.2ms)
Completed 200 OK in 13ms (Views: 6.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:20')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:45:22 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38827.728404", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:22')[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:23')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:26')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:30')


Started GET "/admin" for 127.0.0.1 at 2014-07-23 17:45:32 +0530
Processing by Admin::DashboardController#index as HTML
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:32')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:33')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:36')
  Rendered admin/dashboard/index.html.slim within layouts/admin (5386.1ms)
  Rendered shared/_flash.slim (0.1ms)
Completed 200 OK in 5612ms (Views: 5599.1ms | ActiveRecord: 2.2ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:45:38 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38827.728435", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.8ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:38')[0m
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 1.2ms)
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:39')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:42')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:45')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:48')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:51')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:54')


Started GET "/" for 127.0.0.1 at 2014-07-23 17:45:54 +0530
Processing by WelcomeController#index as HTML
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:54')[0m
Redirected to http://localhost:3000/markets/btccny
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:45:54 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:54')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:54')
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.8ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (2.9ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.8ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.0ms)
  Rendered shared/_header.html.slim (5.0ms)
  Rendered layouts/application.html.slim (23.7ms)
Completed 200 OK in 96ms (Views: 38.4ms | ActiveRecord: 3.8ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:45:55 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 10ms (Views: 5.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:57')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:45:57 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38824.730291", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:57')
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 0.8ms)


Started GET "/admin" for 127.0.0.1 at 2014-07-23 17:45:57 +0530
Processing by Admin::DashboardController#index as HTML
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:45:57')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  Rendered admin/dashboard/index.html.slim within layouts/admin (33.8ms)
  Rendered shared/_flash.slim (0.1ms)
Completed 200 OK in 61ms (Views: 45.0ms | ActiveRecord: 2.9ms)


Started GET "/" for 127.0.0.1 at 2014-07-23 17:46:00 +0530
Processing by WelcomeController#index as HTML
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:00')
Redirected to http://localhost:3000/markets/btccny
Completed 302 Found in 13ms (ActiveRecord: 0.9ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:46:00 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:00')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:00')[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:00')
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.2ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.0ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (9.8ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (2.8ms)
  Rendered shared/_header.html.slim (4.4ms)
  Rendered layouts/application.html.slim (23.2ms)
Completed 200 OK in 91ms (Views: 35.9ms | ActiveRecord: 3.1ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:46:01 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 14ms (Views: 6.6ms | ActiveRecord: 0.3ms)


Started GET "/settings" for 127.0.0.1 at 2014-07-23 17:46:02 +0530
Processing by Private::SettingsController#index as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:02')[0m
  [1m[35mTwoFactor Load (30.3ms)[0m  SELECT `two_factors`.* FROM `two_factors` WHERE `two_factors`.`member_id` = 1 AND `two_factors`.`type` = 'TwoFactor::App' LIMIT 1
  [1m[36mIdDocument Load (23.5ms)[0m  [1mSELECT `id_documents`.* FROM `id_documents` WHERE `id_documents`.`member_id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1
  Rendered private/settings/_account_balance.html.slim (10.2ms)
  [1m[36mAuthentication Load (107.7ms)[0m  [1mSELECT `authentications`.* FROM `authentications` WHERE `authentications`.`member_id` = 1 AND `authentications`.`provider` = 'identity' LIMIT 1[0m
  [1m[35mIdentity Load (1.0ms)[0m  SELECT `identities`.* FROM `identities` WHERE `identities`.`id` = 1 LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (64.2ms)[0m  [1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 1 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)[0m
  Rendered private/settings/index.html.slim within layouts/frame (394.2ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.1ms)
  Rendered shared/_header.html.slim (6.7ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (51.0ms)
Completed 200 OK in 689ms (Views: 215.5ms | ActiveRecord: 387.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:03')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:06')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:09')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:12')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:15')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:18')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:21')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:24')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:27')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:30')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:33')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:36')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:39')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:42')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:45')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:48')


Started GET "/settings" for 127.0.0.1 at 2014-07-23 17:46:50 +0530
Processing by Private::SettingsController#index as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:50')[0m
  [1m[35mTwoFactor Load (0.5ms)[0m  SELECT `two_factors`.* FROM `two_factors` WHERE `two_factors`.`member_id` = 1 AND `two_factors`.`type` = 'TwoFactor::App' LIMIT 1
  [1m[36mIdDocument Load (0.5ms)[0m  [1mSELECT `id_documents`.* FROM `id_documents` WHERE `id_documents`.`member_id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1
  Rendered private/settings/_account_balance.html.slim (9.6ms)
  [1m[36mAuthentication Load (0.6ms)[0m  [1mSELECT `authentications`.* FROM `authentications` WHERE `authentications`.`member_id` = 1 AND `authentications`.`provider` = 'identity' LIMIT 1[0m
  [1m[35mIdentity Load (0.5ms)[0m  SELECT `identities`.* FROM `identities` WHERE `identities`.`id` = 1 LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 1 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)[0m
  Rendered private/settings/index.html.slim within layouts/frame (25.6ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (2.7ms)
  Rendered shared/_header.html.slim (4.5ms)
  Rendered shared/_footer.html.slim (0.0ms)
  Rendered layouts/application.html.slim (23.8ms)
Completed 200 OK in 74ms (Views: 52.2ms | ActiveRecord: 3.9ms)
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:51')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:54')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:46:54 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:54')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:54')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.2ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.2ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.6ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.2ms)
  Rendered shared/_header.html.slim (5.1ms)
  Rendered layouts/application.html.slim (24.2ms)
Completed 200 OK in 97ms (Views: 38.3ms | ActiveRecord: 2.9ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:46:56 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 18ms (Views: 10.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:57')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:46:58 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38868.729270", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (1.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:46:58')
Completed 200 OK in 16ms (Views: 0.1ms | ActiveRecord: 1.6ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:00')
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:03')[0m


Started GET "/credits/new" for 127.0.0.1 at 2014-07-23 17:47:05 +0530
Processing by CreditsController#new as HTML
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:05')
  Rendered credits/_form.html.slim (2.2ms)
  [1m[36mCredit Load (0.3ms)[0m  [1mSELECT `credits`.* FROM `credits`[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `credits`.* FROM `credits`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `credits`.* FROM `credits`[0m
  Rendered credits/new.html.slim within layouts/frame (13.6ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.0ms)
  Rendered shared/_header.html.slim (4.7ms)
  Rendered shared/_footer.html.slim (0.0ms)
  Rendered layouts/application.html.slim (22.8ms)
Completed 200 OK in 62ms (Views: 50.1ms | ActiveRecord: 1.1ms)
  [1m[35m (2.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:06')
  [1m[36m (0.7ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:09')[0m
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:12')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:15')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:18')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:21')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:24')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:27')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:30')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:33')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:36')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:39')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:42')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:45')[0m
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:48')
  [1m[36m (1.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:51')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:54')


Started GET "/credits/new" for 127.0.0.1 at 2014-07-23 17:47:55 +0530
Processing by CreditsController#new as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:56')[0m
  Rendered credits/_form.html.slim (5.4ms)
  [1m[35mCredit Load (0.5ms)[0m  SELECT `credits`.* FROM `credits`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `credits`.* FROM `credits`[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `credits`.* FROM `credits`
  Rendered credits/new.html.slim within layouts/frame (15.2ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.3ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.6ms)
  Rendered shared/_header.html.slim (5.6ms)
  Rendered shared/_footer.html.slim (0.0ms)
  Rendered layouts/application.html.slim (24.5ms)
Completed 200 OK in 56ms (Views: 44.0ms | ActiveRecord: 1.4ms)
  [1m[36m (1.9ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:47:57')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:48:00')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:48:03')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:48:06')
  [1m[36m (0.7ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:48:09')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:48:12')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:48:15')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:48:18')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:48:21')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:48:24')


Started GET "/credits/new" for 127.0.0.1 at 2014-07-23 17:48:27 +0530
Processing by CreditsController#new as HTML
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:48:27')
  Rendered credits/_form.html.slim (2.1ms)
  [1m[36mCredit Load (0.3ms)[0m  [1mSELECT `credits`.* FROM `credits`[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `credits`.* FROM `credits`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `credits`.* FROM `credits`[0m
  Rendered credits/new.html.slim within layouts/frame (19.8ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (4.1ms)
  Rendered shared/_header.html.slim (6.5ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (25.6ms)
Completed 200 OK in 68ms (Views: 52.2ms | ActiveRecord: 1.1ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:48:27')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:48:30')
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:48:33')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:48:36')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:48:39')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:48:42')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:48:45')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:48:48')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:48:51')[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:48:54')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:48:57')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:49:00')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:49:03')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:49:06')
  [1m[36m (1.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:49:09')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:49:12')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:49:15')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:49:18')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:49:21')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:49:24')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:49:27')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:49:30')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:49:33')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:49:36')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:49:39')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:49:42')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:49:45')[0m
  [1m[35m (0.8ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:49:48')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:49:51')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:49:54')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:49:57')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:00')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:03')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:06')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:09')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:12')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:15')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:18')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:21')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:24')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:27')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:30')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:34')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:37')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:40')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:43')
  [1m[36m (1.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:46')[0m
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:49')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:52')[0m


Started GET "/credits/new" for 127.0.0.1 at 2014-07-23 17:50:52 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by CreditsController#new as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:52')[0m
  Rendered credits/_form.html.slim (15.6ms)
  [1m[35mCredit Load (0.4ms)[0m  SELECT `credits`.* FROM `credits`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `credits`.* FROM `credits`[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `credits`.* FROM `credits`
  Rendered credits/new.html.slim within layouts/frame (80.8ms)
  Rendered shared/_flash.slim (5.3ms)
  Rendered shared/_html5.html.slim (10.2ms)
  Rendered shared/_meta.html.slim (3.3ms)
  Rendered shared/_browser.html.slim (2.6ms)
  Rendered shared/_pusher.html.slim (3.2ms)
  Rendered shared/_menu.html.slim (20.8ms)
  Rendered shared/_header.html.slim (29.5ms)
  Rendered shared/_footer.html.slim (10.3ms)
  Rendered layouts/application.html.slim (289.4ms)
Completed 200 OK in 527ms (Views: 419.9ms | ActiveRecord: 6.9ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:55')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:50:56 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:56')
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:56') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:56')
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (7.0ms)
  Rendered private/markets/_account_balance.html.slim (4.2ms)
  Rendered private/markets/_price_chart.html.slim (2.5ms)
  Rendered private/markets/_place_order.html.slim (26.9ms)
  Rendered private/markets/_market_trades.html.slim (3.7ms)
  Rendered private/markets/_order_book.html.slim (2.8ms)
  Rendered private/markets/_my_orders.html.slim (8.1ms)
  Rendered private/markets/show.html.slim within layouts/market (65.6ms)
  Rendered shared/_footer_col24.html.slim (7.0ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.2ms)
  Rendered shared/_header.html.slim (4.8ms)
  Rendered layouts/application.html.slim (33.7ms)
Completed 200 OK in 315ms (Views: 124.6ms | ActiveRecord: 7.2ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:50:57 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.5ms)
Completed 200 OK in 16ms (Views: 10.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:50:58')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:51:00 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38826.730694", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:00')
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:01')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:04')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:07')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:10')[0m


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-23 17:51:11 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"10.00", "origin_volume"=>"11", "total"=>"110.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:11')
Unpermitted parameters: total
  [1m[36mTrade Load (0.8ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (22.6ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:51:11', 3, 110.0, 1, 'limit', 110.0, 11.0, 10.0, 'Web', 100, 'OrderBid', '2014-07-23 17:51:11', 11.0)[0m
  [1m[35mMember Load (0.6ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (16.9ms)[0m  update accounts set balance = balance + -110.0, locked = locked + 110.0 where id = 1
  [1m[36m (0.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,1,1,33,'Order',110.0,-110.0,'2014-07-23 17:51:11','2014-07-23 17:51:11' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -1481.0 AND `accounts`.`locked` = 1481.0[0m
  [1m[35m (175.0ms)[0m  COMMIT
Completed 200 OK in 357ms (Views: 0.4ms | ActiveRecord: 217.8ms)
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:13')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:16')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:19')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:51:19 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:19')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:19')[0m
  [1m[35mOrder Load (0.7ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.5ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.4ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (11.5ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (14.2ms)
  Rendered shared/_header.html.slim (16.2ms)
  Rendered layouts/application.html.slim (35.1ms)
Completed 200 OK in 105ms (Views: 50.1ms | ActiveRecord: 3.6ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:51:21 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 107ms (Views: 100.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:22')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:51:23 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38802.777517", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:23')[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:25')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:28')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:51:30 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:30')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:30')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.3ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.3ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.1ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (11.3ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.1ms)
  Rendered shared/_header.html.slim (5.1ms)
  Rendered layouts/application.html.slim (23.2ms)
Completed 200 OK in 88ms (Views: 37.9ms | ActiveRecord: 2.9ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:31')


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:51:32 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.2ms)
Completed 200 OK in 19ms (Views: 14.3ms | ActiveRecord: 0.3ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:51:33 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38803.776613", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:33')
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:34')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:37')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:51:39 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:39')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:39')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.5ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (2.9ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.3ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.1ms)
  Rendered shared/_header.html.slim (4.9ms)
  Rendered layouts/application.html.slim (22.7ms)
Completed 200 OK in 82ms (Views: 36.3ms | ActiveRecord: 2.9ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:40')[0m


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:51:41 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.2ms)
Completed 200 OK in 11ms (Views: 6.1ms | ActiveRecord: 0.4ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:51:42 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38802.777551", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:43')[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:43')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:46')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:49')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:52')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:55')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:58')[0m


Started POST "/markets/btccny/order_asks" for 127.0.0.1 at 2014-07-23 17:51:58 +0530
Processing by Private::OrderAsksController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_ask"=>{"ord_type"=>"limit", "price"=>"50.00", "origin_volume"=>"50", "total"=>"2500.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:51:58')[0m
Unpermitted parameters: total
  [1m[35mTrade Load (0.6ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (14.2ms)[0m  INSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:51:58', 3, 50.0, 1, 'limit', 50.0, 50.0, 50.0, 'Web', 100, 'OrderAsk', '2014-07-23 17:51:58', 50.0)
  [1m[36mMember Load (0.7ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (4.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.7ms)[0m  [1mupdate accounts set balance = balance + -50.0, locked = locked + 50.0 where id = 2[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,2,1,2,34,'Order',50.0,-50.0,'2014-07-23 17:51:58','2014-07-23 17:51:58' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -352.0 AND `accounts`.`locked` = 352.0
  [1m[36m (198.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 267ms (Views: 0.1ms | ActiveRecord: 220.6ms)
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:52:00 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:00')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:00')
  [1m[36mOrder Load (1.1ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (1.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.4ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.2ms)
  Rendered private/markets/_place_order.html.slim (3.6ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (12.7ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.7ms)
  Rendered shared/_header.html.slim (6.4ms)
  Rendered layouts/application.html.slim (26.4ms)
Completed 200 OK in 101ms (Views: 42.6ms | ActiveRecord: 4.6ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:01')


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:52:02 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 21ms (Views: 7.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:04')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:52:04 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38808.723437", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:04')
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:07')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:52:08 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:08')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:08')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.5ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (2.9ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.3ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.7ms)
  Rendered shared/_meta.html.slim (0.3ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.1ms)
  Rendered shared/_header.html.slim (5.3ms)
  Rendered layouts/application.html.slim (22.4ms)
Completed 200 OK in 85ms (Views: 35.9ms | ActiveRecord: 2.9ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:52:09 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.6ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 17ms (Views: 11.1ms | ActiveRecord: 0.6ms)
  [1m[36m (1.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:10')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:52:11 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38808.723449", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:11')[0m
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:13')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:16')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:19')
  [1m[36m (0.7ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:22')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:25')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:28')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:31')


Started GET "/deposits" for 127.0.0.1 at 2014-07-23 17:52:33 +0530
Processing by Private::DepositsController#index as HTML
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:33')[0m
  Rendered private/deposits/index.html.slim within layouts/frame (11.3ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.7ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.0ms)
  Rendered shared/_header.html.slim (5.3ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (24.2ms)
Completed 200 OK in 70ms (Views: 57.1ms | ActiveRecord: 1.2ms)
  [1m[36m (1.7ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:34')[0m


Started GET "/withdraws" for 127.0.0.1 at 2014-07-23 17:52:35 +0530
Processing by Private::WithdrawsController#index as HTML
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:35')[0m
Redirected to http://localhost:3000/settings
Filter chain halted as :auth_activated! rendered or redirected
Completed 302 Found in 38ms (ActiveRecord: 1.0ms)


Started GET "/settings" for 127.0.0.1 at 2014-07-23 17:52:35 +0530
Processing by Private::SettingsController#index as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:35')[0m
  [1m[35mTwoFactor Load (0.3ms)[0m  SELECT `two_factors`.* FROM `two_factors` WHERE `two_factors`.`member_id` = 1 AND `two_factors`.`type` = 'TwoFactor::App' LIMIT 1
  [1m[36mIdDocument Load (0.3ms)[0m  [1mSELECT `id_documents`.* FROM `id_documents` WHERE `id_documents`.`member_id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1
  Rendered private/settings/_account_balance.html.slim (10.1ms)
  [1m[36mAuthentication Load (0.4ms)[0m  [1mSELECT `authentications`.* FROM `authentications` WHERE `authentications`.`member_id` = 1 AND `authentications`.`provider` = 'identity' LIMIT 1[0m
  [1m[35mIdentity Load (0.4ms)[0m  SELECT `identities`.* FROM `identities` WHERE `identities`.`id` = 1 LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 1 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)[0m
  Rendered private/settings/index.html.slim within layouts/frame (119.1ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (2.8ms)
  Rendered shared/_header.html.slim (4.7ms)
  Rendered shared/_footer.html.slim (0.1ms)
  Rendered layouts/application.html.slim (24.0ms)
Completed 200 OK in 213ms (Views: 140.9ms | ActiveRecord: 10.3ms)


Started GET "/exchange_assets" for 127.0.0.1 at 2014-07-23 17:52:37 +0530
Processing by Private::AssetsController#index as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (1.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:37')[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:37')
Redirected to http://localhost:3000/settings
Filter chain halted as :auth_activated! rendered or redirected
Completed 302 Found in 26ms (ActiveRecord: 1.8ms)


Started GET "/settings" for 127.0.0.1 at 2014-07-23 17:52:37 +0530
Processing by Private::SettingsController#index as HTML
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:37')[0m
  [1m[35mTwoFactor Load (0.3ms)[0m  SELECT `two_factors`.* FROM `two_factors` WHERE `two_factors`.`member_id` = 1 AND `two_factors`.`type` = 'TwoFactor::App' LIMIT 1
  [1m[36mIdDocument Load (0.4ms)[0m  [1mSELECT `id_documents`.* FROM `id_documents` WHERE `id_documents`.`member_id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1
  Rendered private/settings/_account_balance.html.slim (4.7ms)
  [1m[36mAuthentication Load (0.6ms)[0m  [1mSELECT `authentications`.* FROM `authentications` WHERE `authentications`.`member_id` = 1 AND `authentications`.`provider` = 'identity' LIMIT 1[0m
  [1m[35mIdentity Load (0.5ms)[0m  SELECT `identities`.* FROM `identities` WHERE `identities`.`id` = 1 LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 1 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)[0m
  Rendered private/settings/index.html.slim within layouts/frame (20.3ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.3ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (14.4ms)
  Rendered shared/_header.html.slim (16.3ms)
  Rendered shared/_footer.html.slim (0.0ms)
  Rendered layouts/application.html.slim (34.6ms)
Completed 200 OK in 79ms (Views: 56.2ms | ActiveRecord: 3.7ms)


Started GET "/settings" for 127.0.0.1 at 2014-07-23 17:52:40 +0530
Processing by Private::SettingsController#index as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:40')[0m
  [1m[35mTwoFactor Load (0.4ms)[0m  SELECT `two_factors`.* FROM `two_factors` WHERE `two_factors`.`member_id` = 1 AND `two_factors`.`type` = 'TwoFactor::App' LIMIT 1
  [1m[36mIdDocument Load (0.3ms)[0m  [1mSELECT `id_documents`.* FROM `id_documents` WHERE `id_documents`.`member_id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1
  Rendered private/settings/_account_balance.html.slim (6.6ms)
  [1m[36mAuthentication Load (0.4ms)[0m  [1mSELECT `authentications`.* FROM `authentications` WHERE `authentications`.`member_id` = 1 AND `authentications`.`provider` = 'identity' LIMIT 1[0m
  [1m[35mIdentity Load (0.4ms)[0m  SELECT `identities`.* FROM `identities` WHERE `identities`.`id` = 1 LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.`id` = `taggings`.`tag_id` WHERE `taggings`.`taggable_id` = 1 AND `taggings`.`taggable_type` = 'Member' AND (taggings.context = 'tags' AND taggings.tagger_id IS NULL)[0m
  Rendered private/settings/index.html.slim within layouts/frame (23.0ms)
  Rendered shared/_flash.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.3ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (2.7ms)
  Rendered shared/_header.html.slim (4.4ms)
  Rendered shared/_footer.html.slim (0.0ms)
  Rendered layouts/application.html.slim (23.5ms)
Completed 200 OK in 71ms (Views: 48.2ms | ActiveRecord: 3.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:40')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:43')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:46')[0m


Started GET "/markets/ptscny" for 127.0.0.1 at 2014-07-23 17:52:47 +0530
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:49')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:52')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:52:53 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:53')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:53')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.6ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.1ms)
  Rendered private/markets/_market_trades.html.slim (0.3ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (10.8ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.2ms)
  Rendered shared/_header.html.slim (5.2ms)
  Rendered layouts/application.html.slim (23.3ms)
Completed 200 OK in 87ms (Views: 37.4ms | ActiveRecord: 3.4ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:52:54 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 15ms (Views: 8.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:55')


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:52:55 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38808.723519", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:55')
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:52:58')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:01')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:04')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:07')


Started POST "/markets/btccny/order_asks" for 127.0.0.1 at 2014-07-23 17:53:09 +0530
Processing by Private::OrderAsksController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_ask"=>{"ord_type"=>"limit", "price"=>"323.00", "origin_volume"=>"3232", "total"=>"1043936.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:09')
Unpermitted parameters: total
  [1m[36mTrade Load (0.7ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (49.0ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:53:09', 3, 3232.0, 1, 'limit', 3232.0, 3232.0, 323.0, 'Web', 100, 'OrderAsk', '2014-07-23 17:53:09', 3232.0)[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (28.9ms)[0m  update accounts set balance = balance + -3232.0, locked = locked + 3232.0 where id = 2
  [1m[36m (0.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,2,1,2,35,'Order',3232.0,-3232.0,'2014-07-23 17:53:09','2014-07-23 17:53:09' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3584.0 AND `accounts`.`locked` = 3584.0[0m
  [1m[35m (159.3ms)[0m  COMMIT
Completed 200 OK in 282ms (Views: 0.5ms | ActiveRecord: 239.9ms)
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (3.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:10')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:13')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:53:15 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:15')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:15')[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.7ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.8ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.7ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (1.1ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.3ms)
  Rendered shared/_header.html.slim (5.2ms)
  Rendered layouts/application.html.slim (23.4ms)
Completed 200 OK in 90ms (Views: 37.3ms | ActiveRecord: 3.5ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:16')[0m


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:53:17 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 10ms (Views: 5.4ms | ActiveRecord: 0.3ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:53:18 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:18')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:18')
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.6ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.7ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.3ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.7ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.3ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.8ms)
  Rendered shared/_header.html.slim (5.9ms)
  Rendered layouts/application.html.slim (24.0ms)
Completed 200 OK in 89ms (Views: 38.4ms | ActiveRecord: 3.9ms)
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:19')


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:53:19 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 15ms (Views: 10.2ms | ActiveRecord: 0.4ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:53:22 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38859.734319", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:22')
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:22')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:25')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:28')[0m


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-23 17:53:31 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"44.00", "origin_volume"=>"44", "total"=>"1936.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:31')
Unpermitted parameters: total
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (14.9ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:53:31', 3, 1936.0, 1, 'limit', 1936.0, 44.0, 44.0, 'Web', 100, 'OrderBid', '2014-07-23 17:53:31', 44.0)[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  update accounts set balance = balance + -1936.0, locked = locked + 1936.0 where id = 1
  [1m[36m (0.5ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,1,1,36,'Order',1936.0,-1936.0,'2014-07-23 17:53:31','2014-07-23 17:53:31' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -3417.0 AND `accounts`.`locked` = 3417.0[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:31')
  [1m[35m (127.1ms)[0m  COMMIT
Completed 200 OK in 187ms (Views: 0.5ms | ActiveRecord: 145.4ms)
  [1m[36mMember Load (26.9ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:53:32 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:32')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:32')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.0ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.8ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (1.0ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.2ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.4ms)
  Rendered shared/_header.html.slim (5.8ms)
  Rendered layouts/application.html.slim (25.0ms)
Completed 200 OK in 91ms (Views: 39.2ms | ActiveRecord: 2.7ms)
  [1m[36mOrderAsk Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 22 LIMIT 1 FOR UPDATE[0m
  [1m[35mOrderBid Load (0.7ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 36 LIMIT 1 FOR UPDATE


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:53:33 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 20ms (Views: 5.7ms | ActiveRecord: 0.4ms)
  [1m[36mTrade Load (0.5ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:34')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:53:35 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38871.727203", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:35')[0m
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35mSQL (98.2ms)[0m  INSERT INTO `trades` (`ask_id`, `ask_member_id`, `bid_id`, `bid_member_id`, `created_at`, `currency`, `funds`, `price`, `trend`, `updated_at`, `volume`) VALUES (22, 1, 36, 1, '2014-07-23 17:53:35', 3, 66.0, 33.0, 1, '2014-07-23 17:53:35', 2.0)
  [1m[36mMember Load (37.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (125.1ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (52.9ms)[0m  [1mupdate accounts set balance = balance + 0.0, locked = locked + -66.0 where id = 1[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-66.0,1,1,1,13,'Trade',-66.0,0.0,'2014-07-23 17:53:37','2014-07-23 17:53:37' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -3417.0 AND `accounts`.`locked` = 3351.0
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:37')
  [1m[36mAccount Load (135.1ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  update accounts set balance = balance + 2.0, locked = locked + 0 where id = 2
  [1m[36m (7.3ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,2.0,2,1,2,13,'Trade',0.0,2.0,'2014-07-23 17:53:38','2014-07-23 17:53:38' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3582.0 AND `accounts`.`locked` = 3584.0[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `orders` SET `volume` = 42.0, `locked` = 1870.0, `funds_received` = 2.0, `updated_at` = '2014-07-23 17:53:39' WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 36
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:40')[0m
  [1m[36m (0.3ms)[0m  [1mupdate accounts set balance = balance + 0.0, locked = locked + -2.0 where id = 2[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:53:40 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:41')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:41')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (5.6ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (13.9ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.9ms)
  Rendered shared/_meta.html.slim (0.3ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (4.1ms)
  Rendered shared/_header.html.slim (6.2ms)
  Rendered layouts/application.html.slim (26.0ms)
Completed 200 OK in 95ms (Views: 43.3ms | ActiveRecord: 3.0ms)
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,0.0,2,1,2,13,'Trade',-2.0,0.0,'2014-07-23 17:53:41','2014-07-23 17:53:41' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3582.0 AND `accounts`.`locked` = 3582.0
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:53:42 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 12ms (Views: 7.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  update accounts set balance = balance + 66.0, locked = locked + 0 where id = 1
  [1m[36m (31.3ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,0.0,1,1,1,13,'Trade',0.0,66.0,'2014-07-23 17:53:42','2014-07-23 17:53:42' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -3351.0 AND `accounts`.`locked` = 3351.0[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `orders` SET `volume` = 31.0, `locked` = 31.0, `funds_received` = 66.0, `updated_at` = '2014-07-23 17:53:43' WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 22
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:43')


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:53:44 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38815.724695", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:44')
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 0.7ms)
  [1m[36m (743.5ms)[0m  [1mCOMMIT[0m
  [1m[35mMember Load (81.9ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mOrderAsk Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 22 LIMIT 1
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:46')[0m
  [1m[35mOrderBid Load (174.2ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 36 LIMIT 1
  [1m[36mMember Load (30.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:49')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:53:52 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:52')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:52')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.2ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.5ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (11.8ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:52')[0m
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.3ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (2.9ms)
  Rendered shared/_header.html.slim (4.7ms)
  Rendered layouts/application.html.slim (22.5ms)
Completed 200 OK in 137ms (Views: 37.9ms | ActiveRecord: 2.8ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:53:53 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 15ms (Views: 8.1ms | ActiveRecord: 0.4ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:53:55 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38870.728626", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:55')[0m
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:55')
  [1m[35m (2409.1ms)[0m  BEGIN
  [1m[36m (2576.8ms)[0m  [1mBEGIN[0m
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:53:58')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:01')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:04')[0m


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-23 17:54:06 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"212.00", "origin_volume"=>"121", "total"=>"25652.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:06')[0m
Unpermitted parameters: total
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (40.3ms)[0m  INSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:54:06', 3, 25652.0, 1, 'limit', 25652.0, 121.0, 212.0, 'Web', 100, 'OrderBid', '2014-07-23 17:54:06', 121.0)
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mupdate accounts set balance = balance + -25652.0, locked = locked + 25652.0 where id = 1[0m
  [1m[35m (1.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,1,1,37,'Order',25652.0,-25652.0,'2014-07-23 17:54:06','2014-07-23 17:54:06' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -29003.0 AND `accounts`.`locked` = 29003.0
  [1m[36m (374.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 460ms (Views: 0.1ms | ActiveRecord: 418.4ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:07')
  [1m[35mOrderAsk Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 22 LIMIT 1 FOR UPDATE
  [1m[36mOrderBid Load (0.3ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 37 LIMIT 1 FOR UPDATE[0m
  [1m[35mTrade Load (75.9ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mOrderAsk Load (246.7ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 34 LIMIT 1 FOR UPDATE[0m
  [1m[36mSQL (93.2ms)[0m  [1mINSERT INTO `trades` (`ask_id`, `ask_member_id`, `bid_id`, `bid_member_id`, `created_at`, `currency`, `funds`, `price`, `trend`, `updated_at`, `volume`) VALUES (22, 1, 37, 1, '2014-07-23 17:54:09', 3, 1023.0, 33.0, 1, '2014-07-23 17:54:09', 31.0)[0m
  [1m[35mMember Load (48.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:10')[0m
  [1m[36mAccount Load (43.2ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -1023.0 where id = 1
  [1m[36m (0.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-1023.0,1,1,1,14,'Trade',-1023.0,0.0,'2014-07-23 17:54:11','2014-07-23 17:54:11' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -29003.0 AND `accounts`.`locked` = 27980.0[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:54:11 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:11')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:11')
  [1m[36mOrder Load (62.3ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.3ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.2ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.4ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.2ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (11.6ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.3ms)
  Rendered shared/_header.html.slim (5.0ms)
  Rendered layouts/application.html.slim (23.0ms)
Completed 200 OK in 149ms (Views: 37.8ms | ActiveRecord: 64.4ms)
  [1m[35mOrderAsk Load (789.1ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 28 LIMIT 1 FOR UPDATE
  [1m[36mOrderAsk Load (807.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 31 LIMIT 1 FOR UPDATE[0m
  [1m[35mAccount Load (335.2ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mupdate accounts set balance = balance + 31.0, locked = locked + 0 where id = 2[0m


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:54:13 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 15ms (Views: 10.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,31.0,2,1,2,14,'Trade',0.0,31.0,'2014-07-23 17:54:13','2014-07-23 17:54:13' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3551.0 AND `accounts`.`locked` = 3582.0
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `orders` SET `volume` = 90.0, `locked` = 24629.0, `funds_received` = 31.0, `updated_at` = '2014-07-23 17:54:13' WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 37[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:13')
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:54:14 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38865.711501", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:14')
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -31.0 where id = 2
  [1m[36m (0.5ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,0.0,2,1,2,14,'Trade',-31.0,0.0,'2014-07-23 17:54:15','2014-07-23 17:54:15' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3551.0 AND `accounts`.`locked` = 3551.0[0m
  [1m[35mAccount Load (67.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mupdate accounts set balance = balance + 1023.0, locked = locked + 0 where id = 1[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,0.0,1,1,1,14,'Trade',0.0,1023.0,'2014-07-23 17:54:16','2014-07-23 17:54:16' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -27980.0 AND `accounts`.`locked` = 27980.0
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:16')[0m
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `orders` SET `volume` = 0.0, `locked` = 0.0, `funds_received` = 1089.0, `state` = 200, `updated_at` = '2014-07-23 17:54:17' WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 22[0m
  [1m[35mOrderBid Load (7239.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 37 LIMIT 1 FOR UPDATE
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (843.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (15.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:19')
  [1m[35mSQL (121.6ms)[0m  INSERT INTO `trades` (`ask_id`, `ask_member_id`, `bid_id`, `bid_member_id`, `created_at`, `currency`, `funds`, `price`, `trend`, `updated_at`, `volume`) VALUES (34, 1, 37, 1, '2014-07-23 17:54:19', 3, 2500.0, 50.0, 1, '2014-07-23 17:54:19', 50.0)
  [1m[35mOrderAsk Load (379.8ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 19 LIMIT 1 FOR UPDATE
  [1m[35mOrderBid Load (118.2ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 36 LIMIT 1 FOR UPDATE
  [1m[36mMember Load (69.9ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (60.0ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mupdate accounts set balance = balance + 0.0, locked = locked + -2500.0 where id = 1[0m
  [1m[35m (0.5ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-2500.0,1,1,1,15,'Trade',-2500.0,0.0,'2014-07-23 17:54:22','2014-07-23 17:54:22' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -27980.0 AND `accounts`.`locked` = 25480.0
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:22')[0m
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  update accounts set balance = balance + 50.0, locked = locked + 0 where id = 2
  [1m[36m (0.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,50.0,2,1,2,15,'Trade',0.0,50.0,'2014-07-23 17:54:23','2014-07-23 17:54:23' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3501.0 AND `accounts`.`locked` = 3551.0[0m
  [1m[35mSQL (171.8ms)[0m  UPDATE `orders` SET `volume` = 40.0, `locked` = 22129.0, `funds_received` = 81.0, `updated_at` = '2014-07-23 17:54:24' WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 37
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[36mTrade Load (67.1ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35mAccount Load (120.2ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mupdate accounts set balance = balance + 0.0, locked = locked + -50.0 where id = 2[0m
  [1m[35m (34.1ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,0.0,2,1,2,15,'Trade',-50.0,0.0,'2014-07-23 17:54:25','2014-07-23 17:54:25' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3501.0 AND `accounts`.`locked` = 3501.0
  [1m[36mAccount Load (44.8ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  update accounts set balance = balance + 2500.0, locked = locked + 0 where id = 1
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:25')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,0.0,1,1,1,15,'Trade',0.0,2500.0,'2014-07-23 17:54:25','2014-07-23 17:54:25' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -25480.0 AND `accounts`.`locked` = 25480.0[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `orders` SET `volume` = 0.0, `locked` = 0.0, `funds_received` = 2500.0, `state` = 200, `updated_at` = '2014-07-23 17:54:26' WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 34
  [1m[36mOrderBid Load (5723.7ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 37 LIMIT 1 FOR UPDATE[0m
  [1m[36m (264.4ms)[0m  [1mCOMMIT[0m
  [1m[35mTrade Load (40.0ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36mSQL (27.1ms)[0m  [1mINSERT INTO `trades` (`ask_id`, `ask_member_id`, `bid_id`, `bid_member_id`, `created_at`, `currency`, `funds`, `price`, `trend`, `updated_at`, `volume`) VALUES (19, 1, 37, 1, '2014-07-23 17:54:27', 3, 2275.0, 65.0, 1, '2014-07-23 17:54:27', 35.0)[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:28')[0m
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (183.5ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -2275.0 where id = 1


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-23 17:54:30 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"21.00", "origin_volume"=>"2121", "total"=>"44541.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36m (0.5ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-2275.0,1,1,1,16,'Trade',-2275.0,0.0,'2014-07-23 17:54:29','2014-07-23 17:54:29' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -25480.0 AND `accounts`.`locked` = 23205.0[0m
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:30')
Unpermitted parameters: total
  [1m[36mTrade Load (0.5ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (163.6ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 17:54:30', 3, 44541.0, 1, 'limit', 44541.0, 2121.0, 21.0, 'Web', 100, 'OrderBid', '2014-07-23 17:54:30', 2121.0)[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (1762.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[35mSQL (666.3ms)[0m  INSERT INTO `trades` (`ask_id`, `ask_member_id`, `bid_id`, `bid_member_id`, `created_at`, `currency`, `funds`, `price`, `trend`, `updated_at`, `volume`) VALUES (31, 1, 36, 1, '2014-07-23 17:54:30', 3, 484.0, 22.0, 0, '2014-07-23 17:54:30', 22.0)
  [1m[35m (311.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:31')
  [1m[36m (18.2ms)[0m  [1mupdate accounts set balance = balance + 35.0, locked = locked + 0 where id = 2[0m
  [1m[35m (0.5ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,35.0,2,1,2,16,'Trade',0.0,35.0,'2014-07-23 17:54:32','2014-07-23 17:54:32' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3466.0 AND `accounts`.`locked` = 3501.0
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `orders` SET `volume` = 5.0, `locked` = 19854.0, `funds_received` = 116.0, `updated_at` = '2014-07-23 17:54:33' WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 37[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -35.0 where id = 2
  [1m[36m (0.6ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,0.0,2,1,2,16,'Trade',-35.0,0.0,'2014-07-23 17:54:34','2014-07-23 17:54:34' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3466.0 AND `accounts`.`locked` = 3466.0[0m
  [1m[35mAccount Load (36.1ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mupdate accounts set balance = balance + 2275.0, locked = locked + 0 where id = 1[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,0.0,1,1,1,16,'Trade',0.0,2275.0,'2014-07-23 17:54:35','2014-07-23 17:54:35' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -23205.0 AND `accounts`.`locked` = 23205.0
  [1m[36mMember Load (109.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:35')[0m
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `orders` SET `volume` = 21.0, `locked` = 21.0, `funds_received` = 2275.0, `updated_at` = '2014-07-23 17:54:35' WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 19[0m
  [1m[35m (5018.0ms)[0m  update accounts set balance = balance + -44541.0, locked = locked + 44541.0 where id = 1
  [1m[36m (0.3ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,1,1,38,'Order',44541.0,-44541.0,'2014-07-23 17:54:35','2014-07-23 17:54:35' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -70021.0 AND `accounts`.`locked` = 70021.0[0m
  [1m[35m (208.5ms)[0m  COMMIT
  [1m[35mAccount Load (183.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:38')
Stale account#1 found when create associated account version, retry.
  [1m[35mAccount Load (0.3ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,1,1,38,'Order',44541.0,-44541.0,'2014-07-23 17:54:38','2014-07-23 17:54:38' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -67746.0 AND `accounts`.`locked` = 67746.0[0m
  [1m[35m (179.0ms)[0m  COMMIT
Completed 200 OK in 8542ms (Views: 0.2ms | ActiveRecord: 8457.1ms)
  [1m[36m (0.4ms)[0m  [1mupdate accounts set balance = balance + 0.0, locked = locked + -484.0 where id = 1[0m
  [1m[35m (0.3ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-484.0,1,1,1,17,'Trade',-484.0,0.0,'2014-07-23 17:54:39','2014-07-23 17:54:39' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -27980.0 AND `accounts`.`locked` = 27496.0


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:54:41 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (395.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:41')
  [1m[36m (221.2ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:41')[0m
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:41')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.4ms)
  Rendered private/markets/_market_trades.html.slim (0.3ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (11.6ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (1.1ms)
  Rendered shared/_meta.html.slim (0.5ms)
  Rendered shared/_browser.html.slim (0.2ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.4ms)
  Rendered shared/_header.html.slim (5.4ms)
  Rendered layouts/application.html.slim (27.6ms)
Completed 200 OK in 497ms (Views: 42.8ms | ActiveRecord: 398.1ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:54:43 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 13ms (Views: 7.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:44')


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:54:45 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38864.710414", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:45')[0m
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:47')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:50')
  [1m[36m (1.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:53')[0m
  [1m[36mAccount Load (66.0ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:56')
  [1m[35m (0.6ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-484.0,1,1,1,17,'Trade',-484.0,0.0,'2014-07-23 17:54:56','2014-07-23 17:54:56' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -67746.0 AND `accounts`.`locked` = 67262.0
  [1m[36mAccount Load (54.8ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  update accounts set balance = balance + 22.0, locked = locked + 0 where id = 2
  [1m[36m (0.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,22.0,2,1,2,17,'Trade',0.0,22.0,'2014-07-23 17:54:57','2014-07-23 17:54:57' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3529.0 AND `accounts`.`locked` = 3551.0[0m
  [1m[35mAccount Load (33.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,22.0,2,1,2,17,'Trade',0.0,22.0,'2014-07-23 17:54:58','2014-07-23 17:54:58' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3444.0 AND `accounts`.`locked` = 3466.0[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `orders` SET `volume` = 20.0, `locked` = 1386.0, `funds_received` = 24.0, `updated_at` = '2014-07-23 17:54:58' WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 36
  [1m[36mMember Load (40.7ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (55.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mupdate accounts set balance = balance + 0.0, locked = locked + -22.0 where id = 2[0m
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:54:59')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,0.0,2,1,2,17,'Trade',-22.0,0.0,'2014-07-23 17:54:59','2014-07-23 17:54:59' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3444.0 AND `accounts`.`locked` = 3444.0
  [1m[36mAccount Load (22.1ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (35.5ms)[0m  update accounts set balance = balance + 484.0, locked = locked + 0 where id = 1
  [1m[36m (0.5ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,0.0,1,1,1,17,'Trade',0.0,484.0,'2014-07-23 17:55:00','2014-07-23 17:55:00' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -67262.0 AND `accounts`.`locked` = 67262.0[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `orders` SET `volume` = 0.0, `locked` = 0.0, `funds_received` = 484.0, `state` = 200, `updated_at` = '2014-07-23 17:55:00' WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 31
  [1m[36mOrderBid Load (38295.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 36 LIMIT 1 FOR UPDATE[0m
  [1m[36m (143.0ms)[0m  [1mCOMMIT[0m


Started GET "/admin" for 127.0.0.1 at 2014-07-23 17:55:01 +0530
Processing by Admin::DashboardController#index as HTML
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:55:01')[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36m (0.2ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:55:02')
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mOrderAsk Load (57.8ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 14 LIMIT 1 FOR UPDATE[0m
  [1m[35mOrderBid Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 37 LIMIT 1 FOR UPDATE
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35mSQL (58.9ms)[0m  INSERT INTO `trades` (`ask_id`, `ask_member_id`, `bid_id`, `bid_member_id`, `created_at`, `currency`, `funds`, `price`, `trend`, `updated_at`, `volume`) VALUES (14, 1, 37, 1, '2014-07-23 17:55:03', 3, 172.0, 43.0, 1, '2014-07-23 17:55:03', 4.0)
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:55:05')[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mupdate accounts set balance = balance + 0.0, locked = locked + -172.0 where id = 1[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-172.0,1,1,1,18,'Trade',-172.0,0.0,'2014-07-23 17:55:06','2014-07-23 17:55:06' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -67262.0 AND `accounts`.`locked` = 67090.0
  [1m[36mAccount Load (122.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  update accounts set balance = balance + 4.0, locked = locked + 0 where id = 2
  [1m[36m (0.5ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,4.0,2,1,2,18,'Trade',0.0,4.0,'2014-07-23 17:55:07','2014-07-23 17:55:07' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3440.0 AND `accounts`.`locked` = 3444.0[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `orders` SET `volume` = 1.0, `locked` = 19682.0, `funds_received` = 120.0, `updated_at` = '2014-07-23 17:55:07' WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 37
  [1m[35mTrade Load (55.0ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36mMember Load (72.7ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (59.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mupdate accounts set balance = balance + 0.0, locked = locked + -4.0 where id = 2[0m
  [1m[35m (0.5ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,0.0,2,1,2,18,'Trade',-4.0,0.0,'2014-07-23 17:55:08','2014-07-23 17:55:08' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3440.0 AND `accounts`.`locked` = 3440.0
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:55:08')
  [1m[36mAccount Load (137.2ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  update accounts set balance = balance + 172.0, locked = locked + 0 where id = 1
  [1m[36m (0.8ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,0.0,1,1,1,18,'Trade',0.0,172.0,'2014-07-23 17:55:09','2014-07-23 17:55:09' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -67090.0 AND `accounts`.`locked` = 67090.0[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `orders` SET `volume` = 0.0, `locked` = 0.0, `funds_received` = 172.0, `state` = 200, `updated_at` = '2014-07-23 17:55:09' WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 14
  [1m[36m (318.4ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:55:11')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:55:14')
  [1m[36mSQL (260.7ms)[0m  [1mINSERT INTO `trades` (`ask_id`, `ask_member_id`, `bid_id`, `bid_member_id`, `created_at`, `currency`, `funds`, `price`, `trend`, `updated_at`, `volume`) VALUES (28, 1, 36, 1, '2014-07-23 17:55:13', 3, 600.0, 30.0, 1, '2014-07-23 17:55:13', 20.0)[0m
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:55:17')[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:55:20')
  [1m[36mAccount Load (58.8ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -600.0 where id = 1
  [1m[36m (0.3ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-600.0,1,1,1,19,'Trade',-600.0,0.0,'2014-07-23 17:55:22','2014-07-23 17:55:22' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -67262.0 AND `accounts`.`locked` = 66662.0[0m
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:55:23')[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mMember Load (61.1ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mMember Load (102.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mOrderAsk Load (19.7ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 22 LIMIT 1[0m
  [1m[35mMember Load (129.9ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mOrderBid Load (0.9ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 37 LIMIT 1[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mMember Load (323.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mMember Load (79.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mOrderAsk Load (32.7ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 34 LIMIT 1[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mOrderBid Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 37 LIMIT 1[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mMember Load (0.7ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:55:26')
  [1m[36mOrderAsk Load (49.2ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 19 LIMIT 1[0m
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mOrderBid Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 37 LIMIT 1[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mMember Load (171.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mMember Load (0.8ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mOrderAsk Load (39.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 31 LIMIT 1
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mOrderBid Load (0.7ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 36 LIMIT 1
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mMember Load (214.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mOrderAsk Load (41.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 14 LIMIT 1
  [1m[36mMember Load (0.6ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mOrderBid Load (1.0ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 37 LIMIT 1
  [1m[36mMember Load (0.7ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:55:30')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:55:33')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:55:36')[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:55:39')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:55:42')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:55:45')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:55:48')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:55:51')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:55:54')[0m
  [1m[35mAccount Load (123.0ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 1 LIMIT 1
  [1m[36m (17.3ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-600.0,1,1,1,19,'Trade',-600.0,0.0,'2014-07-23 17:55:55','2014-07-23 17:55:55' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -67090.0 AND `accounts`.`locked` = 66490.0[0m
  [1m[35mAccount Load (98.0ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mupdate accounts set balance = balance + 20.0, locked = locked + 0 where id = 2[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,20.0,2,1,2,19,'Trade',0.0,20.0,'2014-07-23 17:55:55','2014-07-23 17:55:55' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3424.0 AND `accounts`.`locked` = 3444.0
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`id` = 2 LIMIT 1[0m
  [1m[35m (1.5ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,20.0,2,1,2,19,'Trade',0.0,20.0,'2014-07-23 17:55:56','2014-07-23 17:55:56' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3420.0 AND `accounts`.`locked` = 3440.0
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:55:57')
  [1m[36mAccount Load (36.2ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  update accounts set balance = balance + 786.0, locked = locked + -786.0 where id = 1
  [1m[36m (0.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 1,0.0,620,-600.0,1,1,1,19,'Trade',-786.0,786.0,'2014-07-23 17:55:58','2014-07-23 17:55:58' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -66304.0 AND `accounts`.`locked` = 65704.0[0m
  [1m[36m (2.1ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:00')[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `orders` SET `volume` = 0.0, `locked` = 786.0, `funds_received` = 44.0, `state` = 200, `updated_at` = '2014-07-23 17:56:00' WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 36
  [1m[36mMember Load (31.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (14.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mupdate accounts set balance = balance + 0.0, locked = locked + -20.0 where id = 2[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,0.0,2,1,2,19,'Trade',-20.0,0.0,'2014-07-23 17:56:02','2014-07-23 17:56:02' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3420.0 AND `accounts`.`locked` = 3420.0
  [1m[36mAccount Load (17.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  update accounts set balance = balance + 600.0, locked = locked + 0 where id = 1
  [1m[36m (164.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,0.0,1,1,1,19,'Trade',0.0,600.0,'2014-07-23 17:56:02','2014-07-23 17:56:02' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -65704.0 AND `accounts`.`locked` = 65704.0[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:03')
  [1m[35mSQL (0.3ms)[0m  UPDATE `orders` SET `volume` = 0.0, `locked` = 0.0, `funds_received` = 600.0, `state` = 200, `updated_at` = '2014-07-23 17:56:03' WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 28
  Rendered admin/dashboard/index.html.slim within layouts/admin (61398.3ms)
  [1m[36m (147.7ms)[0m  [1mCOMMIT[0m
  Rendered shared/_flash.slim (0.2ms)
Completed 200 OK in 63007ms (Views: 62992.6ms | ActiveRecord: 2.1ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:56:04 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38866.709214", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:04')[0m
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started GET "/admin" for 127.0.0.1 at 2014-07-23 17:56:04 +0530
Processing by Admin::DashboardController#index as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:04')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  Rendered admin/dashboard/index.html.slim within layouts/admin (31.9ms)
  Rendered shared/_flash.slim (0.1ms)
Completed 200 OK in 168ms (Views: 152.0ms | ActiveRecord: 2.6ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:56:04 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38865.711610", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:05')[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 0.9ms)
  [1m[35mMember Load (40.2ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:06')[0m
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mOrderAsk Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 28 LIMIT 1
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mOrderBid Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 36 LIMIT 1
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mOrderAsk Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 4 LIMIT 1 FOR UPDATE[0m
  [1m[35mOrderBid Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 37 LIMIT 1 FOR UPDATE
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35mSQL (23.2ms)[0m  INSERT INTO `trades` (`ask_id`, `ask_member_id`, `bid_id`, `bid_member_id`, `created_at`, `currency`, `funds`, `price`, `trend`, `updated_at`, `volume`) VALUES (4, 1, 37, 1, '2014-07-23 17:56:07', 3, 44.0, 44.0, 1, '2014-07-23 17:56:07', 1.0)
  [1m[36mMember Load (14.9ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (18.2ms)[0m  [1mupdate accounts set balance = balance + 0.0, locked = locked + -44.0 where id = 1[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-44.0,1,1,1,20,'Trade',-44.0,0.0,'2014-07-23 17:56:07','2014-07-23 17:56:07' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -65704.0 AND `accounts`.`locked` = 65660.0
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  update accounts set balance = balance + 1.0, locked = locked + 0 where id = 2
  [1m[36m (0.4ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,1.0,2,1,2,20,'Trade',0.0,1.0,'2014-07-23 17:56:08','2014-07-23 17:56:08' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3419.0 AND `accounts`.`locked` = 3420.0[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mupdate accounts set balance = balance + 19638.0, locked = locked + -19638.0 where id = 1[0m
  [1m[35m (0.6ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 1,0.0,620,-44.0,1,1,1,20,'Trade',-19638.0,19638.0,'2014-07-23 17:56:08','2014-07-23 17:56:08' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -46066.0 AND `accounts`.`locked` = 46022.0
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `orders` SET `volume` = 0.0, `locked` = 19638.0, `funds_received` = 121.0, `state` = 200, `updated_at` = '2014-07-23 17:56:08' WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 37[0m
  [1m[35mMember Load (27.7ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -1.0 where id = 2
  [1m[36m (0.6ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,0.0,2,1,2,20,'Trade',-1.0,0.0,'2014-07-23 17:56:08','2014-07-23 17:56:08' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3419.0 AND `accounts`.`locked` = 3419.0[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.5ms)[0m  [1mupdate accounts set balance = balance + 44.0, locked = locked + 0 where id = 1[0m
  [1m[35m (0.6ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,0.0,1,1,1,20,'Trade',0.0,44.0,'2014-07-23 17:56:08','2014-07-23 17:56:08' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -46022.0 AND `accounts`.`locked` = 46022.0
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `orders` SET `volume` = 0.0, `locked` = 0.0, `funds_received` = 2464.0, `state` = 200, `updated_at` = '2014-07-23 17:56:08' WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 4[0m
  [1m[35m (235.7ms)[0m  COMMIT
  [1m[35mMember Load (0.6ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mOrderAsk Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 4 LIMIT 1
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mOrderBid Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 37 LIMIT 1
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:09')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:12')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:15')


Started GET "/" for 127.0.0.1 at 2014-07-23 17:56:18 +0530
Processing by WelcomeController#index as HTML
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:18')[0m
Redirected to http://localhost:3000/markets/btccny
Completed 302 Found in 12ms (ActiveRecord: 1.0ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 17:56:18 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:18')[0m
  [1m[35mTrade Load (76.9ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:18') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:18')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.6ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.6ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:18')[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.5ms)
  Rendered private/markets/_price_chart.html.slim (0.2ms)
  Rendered private/markets/_place_order.html.slim (4.3ms)
  Rendered private/markets/_market_trades.html.slim (0.3ms)
  Rendered private/markets/_order_book.html.slim (0.2ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (71.6ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (16.4ms)
  Rendered shared/_header.html.slim (20.6ms)
  Rendered layouts/application.html.slim (75.7ms)
Completed 200 OK in 303ms (Views: 162.1ms | ActiveRecord: 80.3ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 17:56:19 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 24ms (Views: 18.8ms | ActiveRecord: 0.3ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 17:56:20 +0530
Processing by Private::PusherController#auth as */*
  Parameters: {"socket_id"=>"38865.711676", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:20')[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:21')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:24')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:27')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:30')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:33')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:36')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:39')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:42')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:45')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:48')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:51')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:54')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:56:57')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:57:00')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:57:03')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:57:06')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:57:09')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:57:12')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:57:15')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:57:18')[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:57:21')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:57:24')[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:57:27')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:57:30')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:57:33')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:57:36')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:57:39')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:57:42')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:57:45')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:57:48')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:57:51')
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:57:54')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:57:57')
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:58:00')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:58:03')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:58:06')[0m
  [1m[35m (0.9ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:58:09')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:58:12')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:58:15')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:58:18')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:58:22')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:58:25')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:58:28')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:58:31')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:58:34')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:58:37')[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:58:40')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:58:43')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:58:46')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:58:49')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:58:52')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:58:55')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:58:58')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:59:01')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:59:04')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:59:07')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:59:10')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:59:13')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:59:16')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:59:19')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:59:22')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:59:25')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:59:28')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:59:31')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:59:34')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:59:37')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:59:40')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:59:43')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:59:46')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:59:49')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:59:52')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:59:55')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 17:59:58')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:00:01')[0m
  [1m[36mOrder Load (0.9ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`state` = 100 AND `orders`.`currency` = 3 ORDER BY id asc[0m
  [1m[36mTrade Load (113.0ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY id desc LIMIT 80[0m
  [1m[35m (0.5ms)[0m  SELECT MIN(`trades`.`price`) AS min_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:02:30')
  [1m[36m (0.5ms)[0m  [1mSELECT MAX(`trades`.`price`) AS max_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:02:30')[0m
  [1m[35mTrade Load (19.3ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:04:14')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:04:31')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:04:34')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:04:37')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:04:40')[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:04:43')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:04:46')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:04:49')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:04:52')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:04:55')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:04:58')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:01')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:04')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:07')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:10')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:13')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:16')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:19')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:22')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:25')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:28')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 18:05:31 +0530
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:32')
  [1m[36mActiveRecord::SchemaMigration Load (269.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (74.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (28.8ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:33')[0m
  [1m[35mTrade Load (372.5ms)[0m  SELECT id, price, sum(volume) as volume, trend, currency, max(created_at) as created_at FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:33') GROUP BY ROUND(UNIX_TIMESTAMP(created_at)/(5 * 60)) ORDER BY `trades`.`id` ASC, max(created_at) ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:33')[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (169.8ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (104.7ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:35')[0m
  Rendered private/markets/_ticker.html.slim (6.5ms)
  Rendered private/markets/_account_balance.html.slim (6.0ms)
  Rendered private/markets/_price_chart.html.slim (4.5ms)
  Rendered private/markets/_place_order.html.slim (279.8ms)
  Rendered private/markets/_market_trades.html.slim (4.4ms)
  Rendered private/markets/_order_book.html.slim (3.4ms)
  Rendered private/markets/_my_orders.html.slim (10.2ms)
  Rendered private/markets/show.html.slim within layouts/market (964.8ms)
  Rendered shared/_footer_col24.html.slim (65.4ms)
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:38')
  Rendered shared/_html5.html.slim (47.6ms)
  Rendered shared/_meta.html.slim (3.9ms)
  Rendered shared/_browser.html.slim (4.5ms)
  Rendered shared/_pusher.html.slim (4.2ms)
  Rendered shared/_menu.html.slim (21.9ms)
  Rendered shared/_header.html.slim (42.7ms)
  Rendered layouts/application.html.slim (1935.2ms)
Completed 200 OK in 5484ms (Views: 3414.4ms | ActiveRecord: 837.0ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 18:05:38 +0530
Processing by Private::PusherController#auth as HTML
  Parameters: {"socket_id"=>"38857.737219", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:38')
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:41')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:44')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:47')[0m


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 18:05:49 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.7ms)
Completed 200 OK in 288ms (Views: 283.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:50')


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 18:05:50 +0530
Processing by Private::PusherController#auth as HTML
  Parameters: {"socket_id"=>"38857.737249", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:50')[0m
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[36m (0.7ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:53')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:56')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:05:59')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:02')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:05')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:08')


Started GET "/admin" for 127.0.0.1 at 2014-07-23 18:06:08 +0530
Processing by Admin::DashboardController#index as HTML
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:08')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`accounts`.`locked`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`accounts`.`balance`) AS sum_id FROM `accounts` WHERE `accounts`.`currency` = 2[0m
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:11')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:14')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:17')[0m
  Rendered admin/dashboard/index.html.slim within layouts/admin (10519.1ms)
  Rendered shared/_flash.slim (8.4ms)
Completed 200 OK in 11527ms (Views: 11512.7ms | ActiveRecord: 2.7ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 18:06:19 +0530
Processing by Private::PusherController#auth as HTML
  Parameters: {"socket_id"=>"38859.735380", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:19')[0m
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:20')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:23')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:26')


Started GET "/" for 127.0.0.1 at 2014-07-23 18:06:26 +0530
Processing by WelcomeController#index as HTML
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:27')[0m
Redirected to http://localhost:3000/markets/btccny
Completed 302 Found in 12ms (ActiveRecord: 0.6ms)


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 18:06:27 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:27')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:27')
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.6ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.2ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (2.9ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (9.4ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.7ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.1ms)
  Rendered shared/_header.html.slim (4.8ms)
  Rendered layouts/application.html.slim (23.5ms)
Completed 200 OK in 129ms (Views: 36.0ms | ActiveRecord: 3.1ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 18:06:28 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 11ms (Views: 6.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:29')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 18:06:29 +0530
Processing by Private::PusherController#auth as HTML
  Parameters: {"socket_id"=>"38856.738883", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:29')
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:32')
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:35')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:38')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:41')[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:44')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:47')[0m


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-23 18:06:49 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"21.00", "origin_volume"=>"21", "total"=>"441.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:49')
Unpermitted parameters: total
  [1m[36mTrade Load (138.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (406.3ms)[0m  BEGIN
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:50')
  [1m[36mSQL (821.1ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 18:06:49', 3, 441.0, 1, 'limit', 441.0, 21.0, 21.0, 'Web', 100, 'OrderBid', '2014-07-23 18:06:49', 21.0)[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (634.2ms)[0m  update accounts set balance = balance + -441.0, locked = locked + 441.0 where id = 1
  [1m[36m (169.8ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,1,1,39,'Order',441.0,-441.0,'2014-07-23 18:06:51','2014-07-23 18:06:51' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -46463.0 AND `accounts`.`locked` = 46463.0[0m
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:53')[0m
  [1m[35m (1220.6ms)[0m  COMMIT
Completed 200 OK in 4668ms (Views: 0.1ms | ActiveRecord: 3391.6ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:56')
  [1m[36mMember Load (0.2ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:06:59')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:02')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 18:07:03 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:03')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:03')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (1.0ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.2ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (11.5ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.4ms)
  Rendered shared/_header.html.slim (5.8ms)
  Rendered layouts/application.html.slim (23.8ms)
Completed 200 OK in 89ms (Views: 38.7ms | ActiveRecord: 2.7ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:05')[0m


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 18:07:05 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 11ms (Views: 6.7ms | ActiveRecord: 0.5ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 18:07:07 +0530
Processing by Private::PusherController#auth as HTML
  Parameters: {"socket_id"=>"38844.726083", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:07')[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:08')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:11')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 18:07:12 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:12')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:12')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.1ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (10.7ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (2.9ms)
  Rendered shared/_header.html.slim (4.6ms)
  Rendered layouts/application.html.slim (22.2ms)
Completed 200 OK in 85ms (Views: 36.3ms | ActiveRecord: 2.8ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 18:07:14 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 10ms (Views: 6.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:14')


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 18:07:15 +0530
Processing by Private::PusherController#auth as HTML
  Parameters: {"socket_id"=>"38845.726225", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:15')
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:17')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:20')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:23')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:26')


Started POST "/markets/btccny/order_bids" for 127.0.0.1 at 2014-07-23 18:07:28 +0530
Processing by Private::OrderBidsController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_bid"=>{"ord_type"=>"limit", "price"=>"45.00", "origin_volume"=>"45", "total"=>"2025.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:28')
Unpermitted parameters: total
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (39.9ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 18:07:28', 3, 2025.0, 1, 'limit', 2025.0, 45.0, 45.0, 'Web', 100, 'OrderBid', '2014-07-23 18:07:28', 45.0)[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:29')[0m
  [1m[35m (338.0ms)[0m  update accounts set balance = balance + -2025.0, locked = locked + 2025.0 where id = 1
  [1m[36m (1.7ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,1,1,1,40,'Order',2025.0,-2025.0,'2014-07-23 18:07:29','2014-07-23 18:07:29' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -48488.0 AND `accounts`.`locked` = 48488.0[0m
  [1m[35m (459.6ms)[0m  COMMIT
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
Completed 200 OK in 880ms (Views: 0.1ms | ActiveRecord: 841.2ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:32')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:35')[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:38')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:41')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 18:07:41 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:41')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:41')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.3ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.1ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.2ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.1ms)
  Rendered shared/_header.html.slim (4.9ms)
  Rendered layouts/application.html.slim (22.8ms)
Completed 200 OK in 91ms (Views: 36.2ms | ActiveRecord: 2.6ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 18:07:43 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.3ms)
Completed 200 OK in 16ms (Views: 6.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:44')


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 18:07:44 +0530
Processing by Private::PusherController#auth as HTML
  Parameters: {"socket_id"=>"38800.781153", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:44')[0m
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:47')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:50')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 18:07:51 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:51')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:51')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.6ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.3ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.2ms)
  Rendered private/markets/_account_balance.html.slim (0.3ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.4ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (11.7ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (3.4ms)
  Rendered shared/_header.html.slim (5.1ms)
  Rendered layouts/application.html.slim (22.6ms)
Completed 200 OK in 86ms (Views: 37.8ms | ActiveRecord: 2.8ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 18:07:52 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 11ms (Views: 6.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:53')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 18:07:54 +0530
Processing by Private::PusherController#auth as HTML
  Parameters: {"socket_id"=>"38800.781163", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:54')
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:56')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:07:59')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:02')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:05')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:08')


Started POST "/markets/btccny/order_asks" for 127.0.0.1 at 2014-07-23 18:08:10 +0530
Processing by Private::OrderAsksController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_ask"=>{"ord_type"=>"limit", "price"=>"42.00", "origin_volume"=>"24", "total"=>"1008.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:10')
Unpermitted parameters: total
  [1m[36mTrade Load (0.4ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (36.7ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 18:08:10', 3, 24.0, 1, 'limit', 24.0, 24.0, 42.0, 'Web', 100, 'OrderAsk', '2014-07-23 18:08:10', 24.0)[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (49.7ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (44.1ms)[0m  update accounts set balance = balance + -24.0, locked = locked + 24.0 where id = 2
  [1m[36m (0.6ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,2,1,2,41,'Order',24.0,-24.0,'2014-07-23 18:08:10','2014-07-23 18:08:10' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3443.0 AND `accounts`.`locked` = 3443.0[0m
  [1m[35m (221.7ms)[0m  COMMIT
Completed 200 OK in 397ms (Views: 0.1ms | ActiveRecord: 354.4ms)
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:11')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 18:08:12 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:12')
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:12')[0m
  [1m[35mOrder Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.5ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.7ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (10.9ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.2ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.2ms)
  Rendered shared/_header.html.slim (5.0ms)
  Rendered layouts/application.html.slim (23.0ms)
Completed 200 OK in 86ms (Views: 37.4ms | ActiveRecord: 3.0ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 18:08:14 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 12ms (Views: 6.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:14')


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 18:08:15 +0530
Processing by Private::PusherController#auth as HTML
  Parameters: {"socket_id"=>"38833.725613", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:15')[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:17')[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:20')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:23')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:26')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:29')[0m
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:32')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:35')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 18:08:36 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:36')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:36')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.2ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.1ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.8ms)
  Rendered private/markets/show.html.slim within layouts/market (10.6ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.7ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (2.9ms)
  Rendered shared/_header.html.slim (4.5ms)
  Rendered layouts/application.html.slim (21.7ms)
Completed 200 OK in 78ms (Views: 35.6ms | ActiveRecord: 3.2ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 18:08:38 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.2ms)
Completed 200 OK in 11ms (Views: 6.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:38')


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 18:08:39 +0530
Processing by Private::PusherController#auth as HTML
  Parameters: {"socket_id"=>"38820.718925", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (1.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (1.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:39')
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 3.1ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:41')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:44')
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:47')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:50')


Started POST "/markets/btccny/order_asks" for 127.0.0.1 at 2014-07-23 18:08:50 +0530
Processing by Private::OrderAsksController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_ask"=>{"ord_type"=>"limit", "price"=>"2.00", "origin_volume"=>"12", "total"=>"24.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:50')
Unpermitted parameters: total
  [1m[36mTrade Load (0.5ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (27.9ms)[0m  [1mINSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 18:08:50', 3, 12.0, 1, 'limit', 12.0, 12.0, 2.0, 'Web', 100, 'OrderAsk', '2014-07-23 18:08:50', 12.0)[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (36.3ms)[0m  update accounts set balance = balance + -12.0, locked = locked + 12.0 where id = 2
  [1m[36m (0.5ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,2,1,2,42,'Order',12.0,-12.0,'2014-07-23 18:08:50','2014-07-23 18:08:50' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3455.0 AND `accounts`.`locked` = 3455.0[0m
  [1m[35m (288.7ms)[0m  COMMIT
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
Completed 200 OK in 399ms (Views: 0.1ms | ActiveRecord: 355.9ms)
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:53')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:56')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 18:08:57 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:57')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:57')[0m
  [1m[35mOrder Load (0.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.5ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.2ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.0ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (9.5ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.3ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (2.9ms)
  Rendered shared/_header.html.slim (4.5ms)
  Rendered layouts/application.html.slim (22.0ms)
Completed 200 OK in 81ms (Views: 34.6ms | ActiveRecord: 3.0ms)


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 18:08:59 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.2ms)
Completed 200 OK in 11ms (Views: 6.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:08:59')[0m


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 18:09:00 +0530
Processing by Private::PusherController#auth as HTML
  Parameters: {"socket_id"=>"38861.712647", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:00')[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:02')


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 18:09:04 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:04')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:04')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (0.3ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.3ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (2.8ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (9.7ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (3.1ms)
  Rendered shared/_header.html.slim (5.0ms)
  Rendered layouts/application.html.slim (40.6ms)
Completed 200 OK in 114ms (Views: 53.8ms | ActiveRecord: 2.6ms)
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:05')[0m


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 18:09:06 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 11ms (Views: 6.9ms | ActiveRecord: 0.4ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 18:09:08 +0530
Processing by Private::PusherController#auth as HTML
  Parameters: {"socket_id"=>"38862.709153", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:08')
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:08')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:11')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:14')
  [1m[36m (151.8ms)[0m  [1mBEGIN[0m
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:17')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:20')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:23')[0m


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 18:09:26 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:26')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:26')[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5
  [1m[36mTrade Load (0.5ms)[0m  [1mSELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100
  Rendered private/markets/_ticker.html.slim (0.2ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (3.1ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.5ms)
  Rendered private/markets/show.html.slim within layouts/market (9.7ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.7ms)
  Rendered shared/_meta.html.slim (0.4ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.1ms)
  Rendered shared/_menu.html.slim (2.7ms)
  Rendered shared/_header.html.slim (4.3ms)
  Rendered layouts/application.html.slim (21.0ms)
Completed 200 OK in 80ms (Views: 33.7ms | ActiveRecord: 2.8ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:26')


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 18:09:27 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 11ms (Views: 6.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:29')[0m
  [1m[35mOrderAsk Load (31.6ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 41 LIMIT 1 FOR UPDATE


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 18:09:30 +0530
Processing by Private::PusherController#auth as HTML
  Parameters: {"socket_id"=>"38860.711861", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:30')[0m
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:32')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:35')[0m
  [1m[36m (149.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:38')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:41')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:44')


Started POST "/markets/btccny/order_asks" for 127.0.0.1 at 2014-07-23 18:09:45 +0530
Processing by Private::OrderAsksController#create as JS
  Parameters: {"utf8"=>"âœ“", "order_ask"=>{"ord_type"=>"limit", "price"=>"121.00", "origin_volume"=>"121", "total"=>"14641.00"}, "market_id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.5ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:45')[0m
Unpermitted parameters: total
  [1m[35mTrade Load (0.4ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (33.2ms)[0m  INSERT INTO `orders` (`ask`, `bid`, `created_at`, `currency`, `locked`, `member_id`, `ord_type`, `origin_locked`, `origin_volume`, `price`, `source`, `state`, `type`, `updated_at`, `volume`) VALUES (2, 1, '2014-07-23 18:09:45', 3, 121.0, 1, 'limit', 121.0, 121.0, 121.0, 'Web', 100, 'OrderAsk', '2014-07-23 18:09:45', 121.0)
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (56.0ms)[0m  [1mupdate accounts set balance = balance + -121.0, locked = locked + 121.0 where id = 2[0m
  [1m[35m (1.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 2,0.0,600,0.0,2,1,2,43,'Order',121.0,-121.0,'2014-07-23 18:09:45','2014-07-23 18:09:45' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3576.0 AND `accounts`.`locked` = 3576.0
  [1m[36m (495.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 625ms (Views: 0.1ms | ActiveRecord: 588.3ms)
  [1m[36mMember Load (43.2ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:47')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:50')
  [1m[35mOrderAsk Load (29.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 42 LIMIT 1 FOR UPDATE


Started GET "/markets/btccny" for 127.0.0.1 at 2014-07-23 18:09:52 +0530
Processing by Private::MarketsController#show as HTML
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:52')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:52')
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 0 ORDER BY `orders`.`id` DESC LIMIT 5[0m
  [1m[35mTrade Load (1.1ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 AND (ask_member_id = 1 or bid_member_id = 1) ORDER BY id desc LIMIT 100
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`member_id` = 1 AND `orders`.`currency` = 3 AND `orders`.`state` = 100[0m
  Rendered private/markets/_ticker.html.slim (0.2ms)
  Rendered private/markets/_account_balance.html.slim (0.2ms)
  Rendered private/markets/_price_chart.html.slim (0.1ms)
  Rendered private/markets/_place_order.html.slim (2.7ms)
  Rendered private/markets/_market_trades.html.slim (0.2ms)
  Rendered private/markets/_order_book.html.slim (0.1ms)
  Rendered private/markets/_my_orders.html.slim (0.6ms)
  Rendered private/markets/show.html.slim within layouts/market (9.6ms)
  Rendered shared/_footer_col24.html.slim (0.1ms)
  Rendered shared/_html5.html.slim (0.8ms)
  Rendered shared/_meta.html.slim (0.3ms)
  Rendered shared/_browser.html.slim (0.1ms)
  Rendered shared/_pusher.html.slim (0.2ms)
  Rendered shared/_menu.html.slim (2.9ms)
  Rendered shared/_header.html.slim (4.8ms)
  Rendered layouts/application.html.slim (22.1ms)
Completed 200 OK in 85ms (Views: 35.0ms | ActiveRecord: 3.3ms)
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:53')[0m


Started GET "/api/prices/btccny" for 127.0.0.1 at 2014-07-23 18:09:53 +0530
Processing by API::V1::PricesController#show as JSON
  Parameters: {"id"=>"btccny", "market"=>"btccny", "ask"=>"btc", "bid"=>"cny"}
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  Rendered api/v1/prices/show.jbuilder (0.1ms)
Completed 200 OK in 287ms (Views: 274.7ms | ActiveRecord: 0.3ms)


Started POST "/pusher/auth" for 127.0.0.1 at 2014-07-23 18:09:55 +0530
Processing by Private::PusherController#auth as HTML
  Parameters: {"socket_id"=>"38863.711618", "channel_name"=>"private-PEA5WODBOVFTIO"}
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:55')
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:56')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:09:59')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:10:02')
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:10:05')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:10:08')
  [1m[36mOrderBid Load (36.3ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 40 LIMIT 1 FOR UPDATE[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36mSQL (130.1ms)[0m  [1mINSERT INTO `trades` (`ask_id`, `ask_member_id`, `bid_id`, `bid_member_id`, `created_at`, `currency`, `funds`, `price`, `trend`, `updated_at`, `volume`) VALUES (41, 1, 40, 1, '2014-07-23 18:10:09', 3, 1080.0, 45.0, 1, '2014-07-23 18:10:09', 24.0)[0m
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:10:11')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:10:14')
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.4ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (480.9ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -1080.0 where id = 1
  [1m[36m (0.5ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-1080.0,1,1,1,21,'Trade',-1080.0,0.0,'2014-07-23 18:10:17','2014-07-23 18:10:17' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -48488.0 AND `accounts`.`locked` = 47408.0[0m
  [1m[35mAccount Load (0.4ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mupdate accounts set balance = balance + 24.0, locked = locked + 0 where id = 2[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,24.0,2,1,2,21,'Trade',0.0,24.0,'2014-07-23 18:10:17','2014-07-23 18:10:17' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3552.0 AND `accounts`.`locked` = 3576.0
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `orders` SET `volume` = 21.0, `locked` = 945.0, `funds_received` = 24.0, `updated_at` = '2014-07-23 18:10:17' WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 40[0m
  [1m[35mMember Load (0.4ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -24.0 where id = 2
  [1m[36m (0.5ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,0.0,2,1,2,21,'Trade',-24.0,0.0,'2014-07-23 18:10:17','2014-07-23 18:10:17' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3552.0 AND `accounts`.`locked` = 3552.0[0m
  [1m[35mAccount Load (0.2ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mupdate accounts set balance = balance + 1080.0, locked = locked + 0 where id = 1[0m
  [1m[35m (0.3ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,0.0,1,1,1,21,'Trade',0.0,1080.0,'2014-07-23 18:10:17','2014-07-23 18:10:17' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -47408.0 AND `accounts`.`locked` = 47408.0
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `orders` SET `volume` = 0.0, `locked` = 0.0, `funds_received` = 1080.0, `state` = 200, `updated_at` = '2014-07-23 18:10:17' WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 41[0m
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:10:17')[0m
  [1m[35m (327.5ms)[0m  COMMIT
  [1m[35mMember Load (83.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:10:20')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:10:23')[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:10:26')
  [1m[36m (0.4ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:10:29')[0m
  [1m[36mOrderBid Load (0.5ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 40 LIMIT 1 FOR UPDATE[0m
  [1m[35mTrade Load (0.5ms)[0m  SELECT `trades`.* FROM `trades` WHERE `trades`.`currency` = 3 ORDER BY `trades`.`id` DESC LIMIT 1
  [1m[36mSQL (25.1ms)[0m  [1mINSERT INTO `trades` (`ask_id`, `ask_member_id`, `bid_id`, `bid_member_id`, `created_at`, `currency`, `funds`, `price`, `trend`, `updated_at`, `volume`) VALUES (42, 1, 40, 1, '2014-07-23 18:10:30', 3, 540.0, 45.0, 1, '2014-07-23 18:10:30', 12.0)[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.5ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (19.6ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -540.0 where id = 1
  [1m[36m (0.6ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,-540.0,1,1,1,22,'Trade',-540.0,0.0,'2014-07-23 18:10:30','2014-07-23 18:10:30' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -47408.0 AND `accounts`.`locked` = 46868.0[0m
  [1m[35mAccount Load (0.5ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.4ms)[0m  [1mupdate accounts set balance = balance + 12.0, locked = locked + 0 where id = 2[0m
  [1m[35m (0.5ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,12.0,2,1,2,22,'Trade',0.0,12.0,'2014-07-23 18:10:30','2014-07-23 18:10:30' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3540.0 AND `accounts`.`locked` = 3552.0
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `orders` SET `volume` = 9.0, `locked` = 405.0, `funds_received` = 36.0, `updated_at` = '2014-07-23 18:10:30' WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 40[0m
  [1m[35mMember Load (0.3ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mAccount Load (0.3ms)[0m  [1mSELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 2 ORDER BY `accounts`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  update accounts set balance = balance + 0.0, locked = locked + -12.0 where id = 2
  [1m[36m (0.3ms)[0m  [1mINSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 5,0.0,120,0.0,2,1,2,22,'Trade',-12.0,0.0,'2014-07-23 18:10:30','2014-07-23 18:10:30' FROM `accounts` WHERE `accounts`.`id` = 2 AND `accounts`.`balance` = -3540.0 AND `accounts`.`locked` = 3540.0[0m
  [1m[35mAccount Load (0.3ms)[0m  SELECT `accounts`.* FROM `accounts` WHERE `accounts`.`member_id` = 1 AND `accounts`.`currency` = 1 ORDER BY `accounts`.`id` ASC LIMIT 1
  [1m[36m (0.3ms)[0m  [1mupdate accounts set balance = balance + 540.0, locked = locked + 0 where id = 1[0m
  [1m[35m (0.4ms)[0m  INSERT INTO account_versions (fun,fee,reason,amount,currency,member_id,account_id,modifiable_id,modifiable_type,locked,balance,created_at,updated_at) SELECT 3,0.0,110,0.0,1,1,1,22,'Trade',0.0,540.0,'2014-07-23 18:10:30','2014-07-23 18:10:30' FROM `accounts` WHERE `accounts`.`id` = 1 AND `accounts`.`balance` = -46868.0 AND `accounts`.`locked` = 46868.0
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `orders` SET `volume` = 0.0, `locked` = 0.0, `funds_received` = 540.0, `state` = 200, `updated_at` = '2014-07-23 18:10:30' WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 42[0m
  [1m[35m (205.6ms)[0m  COMMIT
  [1m[36mMember Load (0.3ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:10:32')
  [1m[35mOrderAsk Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 41 LIMIT 1
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mOrderBid Load (0.5ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 40 LIMIT 1
  [1m[36mMember Load (0.5ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mMember Load (1.0ms)[0m  SELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1
  [1m[36mMember Load (0.8ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mOrderAsk Load (0.8ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderAsk') AND `orders`.`id` = 42 LIMIT 1
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[35mOrderBid Load (0.7ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`type` IN ('OrderBid') AND `orders`.`id` = 40 LIMIT 1
  [1m[36mMember Load (0.4ms)[0m  [1mSELECT `members`.* FROM `members` WHERE `members`.`id` = 1 LIMIT 1[0m
  [1m[36m (0.5ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:10:35')[0m
  [1m[35m (0.7ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:10:38')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:10:41')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:10:44')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:10:47')[0m
  [1m[35m (0.6ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:10:50')
  [1m[36m (0.6ms)[0m  [1mSELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:10:53')[0m
  [1m[35m (0.5ms)[0m  SELECT SUM(`trades`.`volume`) AS sum_id FROM `trades` WHERE `trades`.`currency` = 3 AND (created_at > '2014-07-22 18:10:56')
